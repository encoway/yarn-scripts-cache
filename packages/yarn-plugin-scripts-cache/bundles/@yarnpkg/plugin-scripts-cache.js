/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@yarnpkg/plugin-scripts-cache",
factory: function (require) {
"use strict";var plugin=(()=>{var ui=Object.create;var Lt=Object.defineProperty;var di=Object.getOwnPropertyDescriptor;var pi=Object.getOwnPropertyNames;var mi=Object.getPrototypeOf,gi=Object.prototype.hasOwnProperty;var wi=(n,t,e)=>t in n?Lt(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var W=(n=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(n,{get:(t,e)=>(typeof require<"u"?require:t)[e]}):n)(function(n){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+n+'" is not supported')});var Xe=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports),yi=(n,t)=>{for(var e in t)Lt(n,e,{get:t[e],enumerable:!0})},Ze=(n,t,e,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of pi(t))!gi.call(n,i)&&i!==e&&Lt(n,i,{get:()=>t[i],enumerable:!(s=di(t,i))||s.enumerable});return n};var _t=(n,t,e)=>(e=n!=null?ui(mi(n)):{},Ze(t||!n||!n.__esModule?Lt(e,"default",{value:n,enumerable:!0}):e,n)),bi=n=>Ze(Lt({},"__esModule",{value:!0}),n);var Qe=(n,t,e)=>(wi(n,typeof t!="symbol"?t+"":t,e),e),Fe=(n,t,e)=>{if(!t.has(n))throw TypeError("Cannot "+e)};var p=(n,t,e)=>(Fe(n,t,"read from private field"),e?e.call(n):t.get(n)),F=(n,t,e)=>{if(t.has(n))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(n):t.set(n,e)},x=(n,t,e,s)=>(Fe(n,t,"write to private field"),s?s.call(n,e):t.set(n,e),e);var lt=(n,t,e)=>(Fe(n,t,"access private method"),e);var rs=Xe((sr,ns)=>{"use strict";ns.exports=ss;function ss(n,t,e){n instanceof RegExp&&(n=es(n,e)),t instanceof RegExp&&(t=es(t,e));var s=is(n,t,e);return s&&{start:s[0],end:s[1],pre:e.slice(0,s[0]),body:e.slice(s[0]+n.length,s[1]),post:e.slice(s[1]+t.length)}}function es(n,t){var e=t.match(n);return e?e[0]:null}ss.range=is;function is(n,t,e){var s,i,r,o,h,a=e.indexOf(n),l=e.indexOf(t,a+1),c=a;if(a>=0&&l>0){if(n===t)return[a,l];for(s=[],r=e.length;c>=0&&!h;)c==a?(s.push(c),a=e.indexOf(n,c+1)):s.length==1?h=[s.pop(),l]:(i=s.pop(),i<r&&(r=i,o=l),l=e.indexOf(t,c+1)),c=a<l&&a>=0?a:l;s.length&&(h=[r,o])}return h}});var ds=Xe((ir,us)=>{var os=rs();us.exports=Ci;var hs="\0SLASH"+Math.random()+"\0",as="\0OPEN"+Math.random()+"\0",Oe="\0CLOSE"+Math.random()+"\0",ls="\0COMMA"+Math.random()+"\0",cs="\0PERIOD"+Math.random()+"\0";function Re(n){return parseInt(n,10)==n?parseInt(n,10):n.charCodeAt(0)}function vi(n){return n.split("\\\\").join(hs).split("\\{").join(as).split("\\}").join(Oe).split("\\,").join(ls).split("\\.").join(cs)}function xi(n){return n.split(hs).join("\\").split(as).join("{").split(Oe).join("}").split(ls).join(",").split(cs).join(".")}function fs(n){if(!n)return[""];var t=[],e=os("{","}",n);if(!e)return n.split(",");var s=e.pre,i=e.body,r=e.post,o=s.split(",");o[o.length-1]+="{"+i+"}";var h=fs(r);return r.length&&(o[o.length-1]+=h.shift(),o.push.apply(o,h)),t.push.apply(t,o),t}function Ci(n){return n?(n.substr(0,2)==="{}"&&(n="\\{\\}"+n.substr(2)),jt(vi(n),!0).map(xi)):[]}function Ai(n){return"{"+n+"}"}function Ni(n){return/^-?0\d/.test(n)}function Di(n,t){return n<=t}function Ti(n,t){return n>=t}function jt(n,t){var e=[],s=os("{","}",n);if(!s)return[n];var i=s.pre,r=s.post.length?jt(s.post,!1):[""];if(/\$$/.test(s.pre))for(var o=0;o<r.length;o++){var h=i+"{"+s.body+"}"+r[o];e.push(h)}else{var a=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),l=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),c=a||l,f=s.body.indexOf(",")>=0;if(!c&&!f)return s.post.match(/,.*\}/)?(n=s.pre+"{"+s.body+Oe+s.post,jt(n)):[n];var u;if(c)u=s.body.split(/\.\./);else if(u=fs(s.body),u.length===1&&(u=jt(u[0],!1).map(Ai),u.length===1))return r.map(function(he){return s.pre+u[0]+he});var m;if(c){var y=Re(u[0]),d=Re(u[1]),w=Math.max(u[0].length,u[1].length),g=u.length==3?Math.abs(Re(u[2])):1,b=Di,E=d<y;E&&(g*=-1,b=Ti);var S=u.some(Ni);m=[];for(var v=y;b(v,d);v+=g){var N;if(l)N=String.fromCharCode(v),N==="\\"&&(N="");else if(N=String(v),S){var Y=w-N.length;if(Y>0){var oe=new Array(Y+1).join("0");v<0?N="-"+oe+N.slice(1):N=oe+N}}m.push(N)}}else{m=[];for(var tt=0;tt<u.length;tt++)m.push.apply(m,jt(u[tt],!1))}for(var tt=0;tt<m.length;tt++)for(var o=0;o<r.length;o++){var h=i+m[tt]+r[o];(!t||c||h)&&e.push(h)}}return e}});var Jn={};yi(Jn,{default:()=>Yn});var nt=W("@yarnpkg/core");var R=W("@yarnpkg/core"),Wt=W("@yarnpkg/fslib"),D=".yarn-scripts-cache-rc.json";async function ae(n,t){let e=Wt.ppath.join(n,D);if(await Wt.xfs.existsPromise(e)){let s=await Wt.xfs.readFilePromise(e,"utf-8");try{let i=JSON.parse(s.toString());if(Si(i,t))return i}catch(i){t.reportErrorOnce(R.MessageName.EXCEPTION,`${D} is not valid:`),t.reportExceptionOnce(i)}}}function Si(n,t){return typeof n!="object"?(t.reportError(R.MessageName.UNNAMED,`${D} is not valid: config is not an object!`),!1):Array.isArray(n.scriptsToCache)?n.scriptsToCache.find(e=>typeof e!="object")!==void 0?(t.reportError(R.MessageName.UNNAMED,`${D} is not valid: config.scriptsToCache should only contain objects!`),!1):n.scriptsToCache.find(e=>!Ei(e,t))!==void 0?!1:n.cacheDisabled!==void 0&&typeof n.cacheDisabled!="boolean"?(t.reportError(R.MessageName.UNNAMED,`${D} is not valid: config.cacheDisabled should be a boolean!`),!1):n.cacheConfigs&&typeof n.cacheConfigs!="object"?(t.reportError(R.MessageName.UNNAMED,`${D} is not valid: config.cacheConfigs should be an object!`),!1):!0:(t.reportError(R.MessageName.UNNAMED,`${D} is not valid: config.scriptsToCache is not an array!`),!1)}function Ei(n,t){if(typeof n.scriptName!="string")return t.reportError(R.MessageName.UNNAMED,`${D} is not valid: config.scriptsToCache.scriptName is no string!`),!1;if(n.inputIncludes!==void 0&&typeof n.inputIncludes!="string"){if(!Array.isArray(n.inputIncludes))return t.reportError(R.MessageName.UNNAMED,`${D} is not valid: config.scriptsToCache.inputIncludes for ${n.scriptName} is not an array!`),!1;if(n.inputIncludes.find(e=>typeof e!="string")!==void 0)return t.reportError(R.MessageName.UNNAMED,`${D} is not valid: config.scriptsToCache.inputIncludes for ${n.scriptName} should only contain strings!`),!1}if(n.inputExcludes!==void 0&&typeof n.inputExcludes!="string"){if(!Array.isArray(n.inputExcludes))return t.reportError(R.MessageName.UNNAMED,`${D} is not valid: config.scriptsToCache.inputExcludes for ${n.scriptName} is not an array!`),!1;if(n.inputExcludes.find(e=>typeof e!="string")!==void 0)return t.reportError(R.MessageName.UNNAMED,`${D} is not valid: config.scriptsToCache.inputExcludes for ${n.scriptName} should only contain strings!`),!1}if(n.outputIncludes!==void 0&&typeof n.outputIncludes!="string"){if(!Array.isArray(n.outputIncludes))return t.reportError(R.MessageName.UNNAMED,`${D} is not valid: config.scriptsToCache.outputIncludes for ${n.scriptName} is not an array!`),!1;if(n.outputIncludes.find(e=>typeof e!="string")!==void 0)return t.reportError(R.MessageName.UNNAMED,`${D} is not valid: config.scriptsToCache.outputIncludes for ${n.scriptName} should only contain strings!`),!1}if(n.outputExcludes!==void 0&&typeof n.outputExcludes!="string"){if(!Array.isArray(n.outputExcludes))return t.reportError(R.MessageName.UNNAMED,`${D} is not valid: config.scriptsToCache.outputExcludes for ${n.scriptName} is not an array!`),!1;if(n.outputExcludes.find(e=>typeof e!="string")!==void 0)return t.reportError(R.MessageName.UNNAMED,`${D} is not valid: config.scriptsToCache.outputExcludes for ${n.scriptName} should only contain strings!`),!1}if(n.environmentVariableIncludes!==void 0&&typeof n.environmentVariableIncludes!="string"){if(!Array.isArray(n.environmentVariableIncludes))return t.reportError(R.MessageName.UNNAMED,`${D} is not valid: config.scriptsToCache.environmentVariableIncludes for ${n.scriptName} is not an array!`),!1;if(n.environmentVariableIncludes.find(e=>typeof e!="string")!==void 0)return t.reportError(R.MessageName.UNNAMED,`${D} is not valid: config.scriptsToCache.environmentVariableIncludes for ${n.scriptName} should only contain strings!`),!1}return!0}async function ts(n,t){let e=t.project.configuration,s=[];return await e.triggerHook(i=>i.beforeYarnScriptsCacheUsage,s,n,t),s.sort((i,r)=>i.order-r.order)}var si=W("@yarnpkg/core"),_=W("@yarnpkg/fslib"),ii=_t(W("crypto"));var xs=_t(ds(),1);var $t=n=>{if(typeof n!="string")throw new TypeError("invalid pattern");if(n.length>65536)throw new TypeError("pattern is too long")};var ki={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Bt=n=>n.replace(/[[\]\\-]/g,"\\$&"),Fi=n=>n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),ps=n=>n.join(""),ms=(n,t)=>{let e=t;if(n.charAt(e)!=="[")throw new Error("not in a brace expression");let s=[],i=[],r=e+1,o=!1,h=!1,a=!1,l=!1,c=e,f="";t:for(;r<n.length;){let d=n.charAt(r);if((d==="!"||d==="^")&&r===e+1){l=!0,r++;continue}if(d==="]"&&o&&!a){c=r+1;break}if(o=!0,d==="\\"&&!a){a=!0,r++;continue}if(d==="["&&!a){for(let[w,[g,b,E]]of Object.entries(ki))if(n.startsWith(w,r)){if(f)return["$.",!1,n.length-e,!0];r+=w.length,E?i.push(g):s.push(g),h=h||b;continue t}}if(a=!1,f){d>f?s.push(Bt(f)+"-"+Bt(d)):d===f&&s.push(Bt(d)),f="",r++;continue}if(n.startsWith("-]",r+1)){s.push(Bt(d+"-")),r+=2;continue}if(n.startsWith("-",r+1)){f=d,r+=2;continue}s.push(Bt(d)),r++}if(c<r)return["",!1,0,!1];if(!s.length&&!i.length)return["$.",!1,n.length-e,!0];if(i.length===0&&s.length===1&&/^\\?.$/.test(s[0])&&!l){let d=s[0].length===2?s[0].slice(-1):s[0];return[Fi(d),!1,c-e,!1]}let u="["+(l?"^":"")+ps(s)+"]",m="["+(l?"":"^")+ps(i)+"]";return[s.length&&i.length?"("+u+"|"+m+")":s.length?u:m,h,c-e,!0]};var J=(n,{windowsPathsNoEscape:t=!1}={})=>t?n.replace(/\[([^\/\\])\]/g,"$1"):n.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");var Ri=new Set(["!","?","+","*","@"]),gs=n=>Ri.has(n),Oi="(?!(?:^|/)\\.\\.?(?:$|/))",le="(?!\\.)",Mi=new Set(["[","."]),Ii=new Set(["..","."]),Pi=new Set("().*{}+?[]^$\\!"),Li=n=>n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Ie="[^/]",ws=Ie+"*?",ys=Ie+"+?",k,O,rt,C,T,ct,yt,ft,ot,bt,Ut,fe,bs,Ct,ce,zt,Me,ue,Ss,z=class{constructor(t,e,s={}){F(this,fe);F(this,zt);Qe(this,"type");F(this,k,void 0);F(this,O,void 0);F(this,rt,!1);F(this,C,[]);F(this,T,void 0);F(this,ct,void 0);F(this,yt,void 0);F(this,ft,!1);F(this,ot,void 0);F(this,bt,void 0);F(this,Ut,!1);this.type=t,t&&x(this,O,!0),x(this,T,e),x(this,k,p(this,T)?p(p(this,T),k):this),x(this,ot,p(this,k)===this?s:p(p(this,k),ot)),x(this,yt,p(this,k)===this?[]:p(p(this,k),yt)),t==="!"&&!p(p(this,k),ft)&&p(this,yt).push(this),x(this,ct,p(this,T)?p(p(this,T),C).length:0)}get hasMagic(){if(p(this,O)!==void 0)return p(this,O);for(let t of p(this,C))if(typeof t!="string"&&(t.type||t.hasMagic))return x(this,O,!0);return p(this,O)}toString(){return p(this,bt)!==void 0?p(this,bt):this.type?x(this,bt,this.type+"("+p(this,C).map(t=>String(t)).join("|")+")"):x(this,bt,p(this,C).map(t=>String(t)).join(""))}push(...t){for(let e of t)if(e!==""){if(typeof e!="string"&&!(e instanceof z&&p(e,T)===this))throw new Error("invalid part: "+e);p(this,C).push(e)}}toJSON(){let t=this.type===null?p(this,C).slice().map(e=>typeof e=="string"?e:e.toJSON()):[this.type,...p(this,C).map(e=>e.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===p(this,k)||p(p(this,k),ft)&&p(this,T)?.type==="!")&&t.push({}),t}isStart(){if(p(this,k)===this)return!0;if(!p(this,T)?.isStart())return!1;if(p(this,ct)===0)return!0;let t=p(this,T);for(let e=0;e<p(this,ct);e++){let s=p(t,C)[e];if(!(s instanceof z&&s.type==="!"))return!1}return!0}isEnd(){if(p(this,k)===this||p(this,T)?.type==="!")return!0;if(!p(this,T)?.isEnd())return!1;if(!this.type)return p(this,T)?.isEnd();let t=p(this,T)?p(p(this,T),C).length:0;return p(this,ct)===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){let e=new z(this.type,t);for(let s of p(this,C))e.copyIn(s);return e}static fromGlob(t,e={}){var i;let s=new z(null,void 0,e);return lt(i=z,Ct,ce).call(i,t,s,0,e),s}toMMPattern(){if(this!==p(this,k))return p(this,k).toMMPattern();let t=this.toString(),[e,s,i,r]=this.toRegExpSource();if(!(i||p(this,O)||p(this,ot).nocase&&!p(this,ot).nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return s;let h=(p(this,ot).nocase?"i":"")+(r?"u":"");return Object.assign(new RegExp(`^${e}$`,h),{_src:e,_glob:t})}toRegExpSource(t){let e=t??!!p(this,ot).dot;if(p(this,k)===this&&lt(this,fe,bs).call(this),!this.type){let a=this.isStart()&&this.isEnd(),l=p(this,C).map(m=>{var b;let[y,d,w,g]=typeof m=="string"?lt(b=z,ue,Ss).call(b,m,p(this,O),a):m.toRegExpSource(t);return x(this,O,p(this,O)||w),x(this,rt,p(this,rt)||g),y}).join(""),c="";if(this.isStart()&&typeof p(this,C)[0]=="string"&&!(p(this,C).length===1&&Ii.has(p(this,C)[0]))){let y=Mi,d=e&&y.has(l.charAt(0))||l.startsWith("\\.")&&y.has(l.charAt(2))||l.startsWith("\\.\\.")&&y.has(l.charAt(4)),w=!e&&!t&&y.has(l.charAt(0));c=d?Oi:w?le:""}let f="";return this.isEnd()&&p(p(this,k),ft)&&p(this,T)?.type==="!"&&(f="(?:$|\\/)"),[c+l+f,J(l),x(this,O,!!p(this,O)),p(this,rt)]}let s=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:",r=lt(this,zt,Me).call(this,e);if(this.isStart()&&this.isEnd()&&!r&&this.type!=="!"){let a=this.toString();return x(this,C,[a]),this.type=null,x(this,O,void 0),[a,J(this.toString()),!1,!1]}let o=!s||t||e||!le?"":lt(this,zt,Me).call(this,!0);o===r&&(o=""),o&&(r=`(?:${r})(?:${o})*?`);let h="";if(this.type==="!"&&p(this,Ut))h=(this.isStart()&&!e?le:"")+ys;else{let a=this.type==="!"?"))"+(this.isStart()&&!e&&!t?le:"")+ws+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&o?")":this.type==="*"&&o?")?":`)${this.type}`;h=i+r+a}return[h,J(r),x(this,O,!!p(this,O)),p(this,rt)]}},ut=z;k=new WeakMap,O=new WeakMap,rt=new WeakMap,C=new WeakMap,T=new WeakMap,ct=new WeakMap,yt=new WeakMap,ft=new WeakMap,ot=new WeakMap,bt=new WeakMap,Ut=new WeakMap,fe=new WeakSet,bs=function(){if(this!==p(this,k))throw new Error("should only call on root");if(p(this,ft))return this;this.toString(),x(this,ft,!0);let t;for(;t=p(this,yt).pop();){if(t.type!=="!")continue;let e=t,s=p(e,T);for(;s;){for(let i=p(e,ct)+1;!s.type&&i<p(s,C).length;i++)for(let r of p(t,C)){if(typeof r=="string")throw new Error("string part in extglob AST??");r.copyIn(p(s,C)[i])}e=s,s=p(e,T)}}return this},Ct=new WeakSet,ce=function(t,e,s,i){var m,y;let r=!1,o=!1,h=-1,a=!1;if(e.type===null){let d=s,w="";for(;d<t.length;){let g=t.charAt(d++);if(r||g==="\\"){r=!r,w+=g;continue}if(o){d===h+1?(g==="^"||g==="!")&&(a=!0):g==="]"&&!(d===h+2&&a)&&(o=!1),w+=g;continue}else if(g==="["){o=!0,h=d,a=!1,w+=g;continue}if(!i.noext&&gs(g)&&t.charAt(d)==="("){e.push(w),w="";let b=new z(g,e);d=lt(m=z,Ct,ce).call(m,t,b,d,i),e.push(b);continue}w+=g}return e.push(w),d}let l=s+1,c=new z(null,e),f=[],u="";for(;l<t.length;){let d=t.charAt(l++);if(r||d==="\\"){r=!r,u+=d;continue}if(o){l===h+1?(d==="^"||d==="!")&&(a=!0):d==="]"&&!(l===h+2&&a)&&(o=!1),u+=d;continue}else if(d==="["){o=!0,h=l,a=!1,u+=d;continue}if(gs(d)&&t.charAt(l)==="("){c.push(u),u="";let w=new z(d,c);c.push(w),l=lt(y=z,Ct,ce).call(y,t,w,l,i);continue}if(d==="|"){c.push(u),u="",f.push(c),c=new z(null,e);continue}if(d===")")return u===""&&p(e,C).length===0&&x(e,Ut,!0),c.push(u),u="",e.push(...f,c),l;u+=d}return e.type=null,x(e,O,void 0),x(e,C,[t.substring(s-1)]),l},zt=new WeakSet,Me=function(t){return p(this,C).map(e=>{if(typeof e=="string")throw new Error("string type in extglob ast??");let[s,i,r,o]=e.toRegExpSource(t);return x(this,rt,p(this,rt)||o),s}).filter(e=>!(this.isStart()&&this.isEnd())||!!e).join("|")},ue=new WeakSet,Ss=function(t,e,s=!1){let i=!1,r="",o=!1;for(let h=0;h<t.length;h++){let a=t.charAt(h);if(i){i=!1,r+=(Pi.has(a)?"\\":"")+a;continue}if(a==="\\"){h===t.length-1?r+="\\\\":i=!0;continue}if(a==="["){let[l,c,f,u]=ms(t,h);if(f){r+=l,o=o||c,h+=f-1,e=e||u;continue}}if(a==="*"){s&&t==="*"?r+=ys:r+=ws,e=!0;continue}if(a==="?"){r+=Ie,e=!0;continue}r+=Li(a)}return[r,J(t),!!e,o]},F(ut,Ct),F(ut,ue);var At=(n,{windowsPathsNoEscape:t=!1}={})=>t?n.replace(/[?*()[\]]/g,"[$&]"):n.replace(/[?*()[\]\\]/g,"\\$&");var B=(n,t,e={})=>($t(t),!e.nocomment&&t.charAt(0)==="#"?!1:new G(t,e).match(n)),_i=/^\*+([^+@!?\*\[\(]*)$/,Wi=n=>t=>!t.startsWith(".")&&t.endsWith(n),ji=n=>t=>t.endsWith(n),$i=n=>(n=n.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(n)),Bi=n=>(n=n.toLowerCase(),t=>t.toLowerCase().endsWith(n)),Ui=/^\*+\.\*+$/,zi=n=>!n.startsWith(".")&&n.includes("."),Gi=n=>n!=="."&&n!==".."&&n.includes("."),Hi=/^\.\*+$/,Vi=n=>n!=="."&&n!==".."&&n.startsWith("."),qi=/^\*+$/,Ki=n=>n.length!==0&&!n.startsWith("."),Yi=n=>n.length!==0&&n!=="."&&n!=="..",Ji=/^\?+([^+@!?\*\[\(]*)?$/,Xi=([n,t=""])=>{let e=Cs([n]);return t?(t=t.toLowerCase(),s=>e(s)&&s.toLowerCase().endsWith(t)):e},Zi=([n,t=""])=>{let e=As([n]);return t?(t=t.toLowerCase(),s=>e(s)&&s.toLowerCase().endsWith(t)):e},Qi=([n,t=""])=>{let e=As([n]);return t?s=>e(s)&&s.endsWith(t):e},tn=([n,t=""])=>{let e=Cs([n]);return t?s=>e(s)&&s.endsWith(t):e},Cs=([n])=>{let t=n.length;return e=>e.length===t&&!e.startsWith(".")},As=([n])=>{let t=n.length;return e=>e.length===t&&e!=="."&&e!==".."},Ns=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",Es={win32:{sep:"\\"},posix:{sep:"/"}},en=Ns==="win32"?Es.win32.sep:Es.posix.sep;B.sep=en;var L=Symbol("globstar **");B.GLOBSTAR=L;var sn="[^/]",nn=sn+"*?",rn="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",on="(?:(?!(?:\\/|^)\\.).)*?",hn=(n,t={})=>e=>B(e,n,t);B.filter=hn;var V=(n,t={})=>Object.assign({},n,t),an=n=>{if(!n||typeof n!="object"||!Object.keys(n).length)return B;let t=B;return Object.assign((s,i,r={})=>t(s,i,V(n,r)),{Minimatch:class extends t.Minimatch{constructor(i,r={}){super(i,V(n,r))}static defaults(i){return t.defaults(V(n,i)).Minimatch}},AST:class extends t.AST{constructor(i,r,o={}){super(i,r,V(n,o))}static fromGlob(i,r={}){return t.AST.fromGlob(i,V(n,r))}},unescape:(s,i={})=>t.unescape(s,V(n,i)),escape:(s,i={})=>t.escape(s,V(n,i)),filter:(s,i={})=>t.filter(s,V(n,i)),defaults:s=>t.defaults(V(n,s)),makeRe:(s,i={})=>t.makeRe(s,V(n,i)),braceExpand:(s,i={})=>t.braceExpand(s,V(n,i)),match:(s,i,r={})=>t.match(s,i,V(n,r)),sep:t.sep,GLOBSTAR:L})};B.defaults=an;var Ds=(n,t={})=>($t(n),t.nobrace||!/\{(?:(?!\{).)*\}/.test(n)?[n]:(0,xs.default)(n));B.braceExpand=Ds;var ln=(n,t={})=>new G(n,t).makeRe();B.makeRe=ln;var cn=(n,t,e={})=>{let s=new G(t,e);return n=n.filter(i=>s.match(i)),s.options.nonull&&!n.length&&n.push(t),n};B.match=cn;var vs=/[?*]|[+@!]\(.*?\)|\[|\]/,fn=n=>n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),G=class{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,e={}){$t(t),e=e||{},this.options=e,this.pattern=t,this.platform=e.platform||Ns,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!e.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!e.nonegate,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=e.windowsNoMagicRoot!==void 0?e.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let t of this.set)for(let e of t)if(typeof e!="string")return!0;return!1}debug(...t){}make(){let t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],e.debug&&(this.debug=(...r)=>console.error(...r)),this.debug(this.pattern,this.globSet);let s=this.globSet.map(r=>this.slashSplit(r));this.globParts=this.preprocess(s),this.debug(this.pattern,this.globParts);let i=this.globParts.map((r,o,h)=>{if(this.isWindows&&this.windowsNoMagicRoot){let a=r[0]===""&&r[1]===""&&(r[2]==="?"||!vs.test(r[2]))&&!vs.test(r[3]),l=/^[a-z]:/i.test(r[0]);if(a)return[...r.slice(0,4),...r.slice(4).map(c=>this.parse(c))];if(l)return[r[0],...r.slice(1).map(c=>this.parse(c))]}return r.map(a=>this.parse(a))});if(this.debug(this.pattern,i),this.set=i.filter(r=>r.indexOf(!1)===-1),this.isWindows)for(let r=0;r<this.set.length;r++){let o=this.set[r];o[0]===""&&o[1]===""&&this.globParts[r][2]==="?"&&typeof o[3]=="string"&&/^[a-z]:$/i.test(o[3])&&(o[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let s=0;s<t.length;s++)for(let i=0;i<t[s].length;i++)t[s][i]==="**"&&(t[s][i]="*");let{optimizationLevel:e=1}=this.options;return e>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):e>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(e=>{let s=-1;for(;(s=e.indexOf("**",s+1))!==-1;){let i=s;for(;e[i+1]==="**";)i++;i!==s&&e.splice(s,i-s)}return e})}levelOneOptimize(t){return t.map(e=>(e=e.reduce((s,i)=>{let r=s[s.length-1];return i==="**"&&r==="**"?s:i===".."&&r&&r!==".."&&r!=="."&&r!=="**"?(s.pop(),s):(s.push(i),s)},[]),e.length===0?[""]:e))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let e=!1;do{if(e=!1,!this.preserveMultipleSlashes){for(let i=1;i<t.length-1;i++){let r=t[i];i===1&&r===""&&t[0]===""||(r==="."||r==="")&&(e=!0,t.splice(i,1),i--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(e=!0,t.pop())}let s=0;for(;(s=t.indexOf("..",s+1))!==-1;){let i=t[s-1];i&&i!=="."&&i!==".."&&i!=="**"&&(e=!0,t.splice(s-1,2),s-=2)}}while(e);return t.length===0?[""]:t}firstPhasePreProcess(t){let e=!1;do{e=!1;for(let s of t){let i=-1;for(;(i=s.indexOf("**",i+1))!==-1;){let o=i;for(;s[o+1]==="**";)o++;o>i&&s.splice(i+1,o-i);let h=s[i+1],a=s[i+2],l=s[i+3];if(h!==".."||!a||a==="."||a===".."||!l||l==="."||l==="..")continue;e=!0,s.splice(i,1);let c=s.slice(0);c[i]="**",t.push(c),i--}if(!this.preserveMultipleSlashes){for(let o=1;o<s.length-1;o++){let h=s[o];o===1&&h===""&&s[0]===""||(h==="."||h==="")&&(e=!0,s.splice(o,1),o--)}s[0]==="."&&s.length===2&&(s[1]==="."||s[1]==="")&&(e=!0,s.pop())}let r=0;for(;(r=s.indexOf("..",r+1))!==-1;){let o=s[r-1];if(o&&o!=="."&&o!==".."&&o!=="**"){e=!0;let a=r===1&&s[r+1]==="**"?["."]:[];s.splice(r-1,2,...a),s.length===0&&s.push(""),r-=2}}}}while(e);return t}secondPhasePreProcess(t){for(let e=0;e<t.length-1;e++)for(let s=e+1;s<t.length;s++){let i=this.partsMatch(t[e],t[s],!this.preserveMultipleSlashes);!i||(t[e]=i,t[s]=[])}return t.filter(e=>e.length)}partsMatch(t,e,s=!1){let i=0,r=0,o=[],h="";for(;i<t.length&&r<e.length;)if(t[i]===e[r])o.push(h==="b"?e[r]:t[i]),i++,r++;else if(s&&t[i]==="**"&&e[r]===t[i+1])o.push(t[i]),i++;else if(s&&e[r]==="**"&&t[i]===e[r+1])o.push(e[r]),r++;else if(t[i]==="*"&&e[r]&&(this.options.dot||!e[r].startsWith("."))&&e[r]!=="**"){if(h==="b")return!1;h="a",o.push(t[i]),i++,r++}else if(e[r]==="*"&&t[i]&&(this.options.dot||!t[i].startsWith("."))&&t[i]!=="**"){if(h==="a")return!1;h="b",o.push(e[r]),i++,r++}else return!1;return t.length===e.length&&o}parseNegate(){if(this.nonegate)return;let t=this.pattern,e=!1,s=0;for(let i=0;i<t.length&&t.charAt(i)==="!";i++)e=!e,s++;s&&(this.pattern=t.slice(s)),this.negate=e}matchOne(t,e,s=!1){let i=this.options;if(this.isWindows){let d=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),w=!d&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),g=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),b=!g&&e[0]===""&&e[1]===""&&e[2]==="?"&&typeof e[3]=="string"&&/^[a-z]:$/i.test(e[3]),E=w?3:d?0:void 0,S=b?3:g?0:void 0;if(typeof E=="number"&&typeof S=="number"){let[v,N]=[t[E],e[S]];v.toLowerCase()===N.toLowerCase()&&(e[S]=v,S>E?e=e.slice(S):E>S&&(t=t.slice(E)))}}let{optimizationLevel:r=1}=this.options;r>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var o=0,h=0,a=t.length,l=e.length;o<a&&h<l;o++,h++){this.debug("matchOne loop");var c=e[h],f=t[o];if(this.debug(e,c,f),c===!1)return!1;if(c===L){this.debug("GLOBSTAR",[e,c,f]);var u=o,m=h+1;if(m===l){for(this.debug("** at the end");o<a;o++)if(t[o]==="."||t[o]===".."||!i.dot&&t[o].charAt(0)===".")return!1;return!0}for(;u<a;){var y=t[u];if(this.debug(`
globstar while`,t,u,e,m,y),this.matchOne(t.slice(u),e.slice(m),s))return this.debug("globstar found match!",u,a,y),!0;if(y==="."||y===".."||!i.dot&&y.charAt(0)==="."){this.debug("dot detected!",t,u,e,m);break}this.debug("globstar swallow a segment, and continue"),u++}return!!(s&&(this.debug(`
>>> no match, partial?`,t,u,e,m),u===a))}let d;if(typeof c=="string"?(d=f===c,this.debug("string match",c,f,d)):(d=c.test(f),this.debug("pattern match",c,f,d)),!d)return!1}if(o===a&&h===l)return!0;if(o===a)return s;if(h===l)return o===a-1&&t[o]==="";throw new Error("wtf?")}braceExpand(){return Ds(this.pattern,this.options)}parse(t){$t(t);let e=this.options;if(t==="**")return L;if(t==="")return"";let s,i=null;(s=t.match(qi))?i=e.dot?Yi:Ki:(s=t.match(_i))?i=(e.nocase?e.dot?Bi:$i:e.dot?ji:Wi)(s[1]):(s=t.match(Ji))?i=(e.nocase?e.dot?Zi:Xi:e.dot?Qi:tn)(s):(s=t.match(Ui))?i=e.dot?Gi:zi:(s=t.match(Hi))&&(i=Vi);let r=ut.fromGlob(t,this.options).toMMPattern();return i?Object.assign(r,{test:i}):r}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let e=this.options,s=e.noglobstar?nn:e.dot?rn:on,i=new Set(e.nocase?["i"]:[]),r=t.map(a=>{let l=a.map(c=>{if(c instanceof RegExp)for(let f of c.flags.split(""))i.add(f);return typeof c=="string"?fn(c):c===L?L:c._src});return l.forEach((c,f)=>{let u=l[f+1],m=l[f-1];c!==L||m===L||(m===void 0?u!==void 0&&u!==L?l[f+1]="(?:\\/|"+s+"\\/)?"+u:l[f]=s:u===void 0?l[f-1]=m+"(?:\\/|"+s+")?":u!==L&&(l[f-1]=m+"(?:\\/|\\/"+s+"\\/)"+u,l[f+1]=L))}),l.filter(c=>c!==L).join("/")}).join("|"),[o,h]=t.length>1?["(?:",")"]:["",""];r="^"+o+r+h+"$",this.negate&&(r="^(?!"+r+").+$");try{this.regexp=new RegExp(r,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,e=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&e)return!0;let s=this.options;this.isWindows&&(t=t.split("\\").join("/"));let i=this.slashSplit(t);this.debug(this.pattern,"split",i);let r=this.set;this.debug(this.pattern,"set",r);let o=i[i.length-1];if(!o)for(let h=i.length-2;!o&&h>=0;h--)o=i[h];for(let h=0;h<r.length;h++){let a=r[h],l=i;if(s.matchBase&&a.length===1&&(l=[o]),this.matchOne(l,a,e))return s.flipNegate?!0:!this.negate}return s.flipNegate?!1:this.negate}static defaults(t){return B.defaults(t).Minimatch}};B.AST=ut;B.Minimatch=G;B.escape=At;B.unescape=J;var Gt=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,ks=new Set,Pe=typeof process=="object"&&!!process?process:{},Fs=(n,t,e,s)=>{typeof Pe.emitWarning=="function"?Pe.emitWarning(n,t,e,s):console.error(`[${e}] ${t}: ${n}`)},pe=globalThis.AbortController,Ts=globalThis.AbortSignal;if(typeof pe>"u"){Ts=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(s,i){this._onabort.push(i)}},pe=class{constructor(){t()}signal=new Ts;abort(s){if(!this.signal.aborted){this.signal.reason=s,this.signal.aborted=!0;for(let i of this.signal._onabort)i(s);this.signal.onabort?.(s)}}};let n=Pe.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",t=()=>{!n||(n=!1,Fs("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}var un=n=>!ks.has(n),Cr=Symbol("type"),dt=n=>n&&n===Math.floor(n)&&n>0&&isFinite(n),Rs=n=>dt(n)?n<=Math.pow(2,8)?Uint8Array:n<=Math.pow(2,16)?Uint16Array:n<=Math.pow(2,32)?Uint32Array:n<=Number.MAX_SAFE_INTEGER?Dt:null:null,Dt=class extends Array{constructor(t){super(t),this.fill(0)}},Tt,Nt=class{heap;length;static create(t){let e=Rs(t);if(!e)return[];x(Nt,Tt,!0);let s=new Nt(t,e);return x(Nt,Tt,!1),s}constructor(t,e){if(!p(Nt,Tt))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}},de=Nt;Tt=new WeakMap,F(de,Tt,!1);var St=class{#e;#n;#i;#o;#f;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#l;#p;#a;#r;#t;#g;#b;#m;#u;#x;#d;#T;#k;#C;#y;#N;#c;static unsafeExposeInternals(t){return{starts:t.#k,ttls:t.#C,sizes:t.#T,keyMap:t.#a,keyList:t.#r,valList:t.#t,next:t.#g,prev:t.#b,get head(){return t.#m},get tail(){return t.#u},free:t.#x,isBackgroundFetch:e=>t.#h(e),backgroundFetch:(e,s,i,r)=>t.#I(e,s,i,r),moveToTail:e=>t.#M(e),indexes:e=>t.#v(e),rindexes:e=>t.#D(e),isStale:e=>t.#w(e)}}get max(){return this.#e}get maxSize(){return this.#n}get calculatedSize(){return this.#p}get size(){return this.#l}get fetchMethod(){return this.#f}get dispose(){return this.#i}get disposeAfter(){return this.#o}constructor(t){let{max:e=0,ttl:s,ttlResolution:i=1,ttlAutopurge:r,updateAgeOnGet:o,updateAgeOnHas:h,allowStale:a,dispose:l,disposeAfter:c,noDisposeOnSet:f,noUpdateTTL:u,maxSize:m=0,maxEntrySize:y=0,sizeCalculation:d,fetchMethod:w,noDeleteOnFetchRejection:g,noDeleteOnStaleGet:b,allowStaleOnFetchRejection:E,allowStaleOnFetchAbort:S,ignoreFetchAbort:v}=t;if(e!==0&&!dt(e))throw new TypeError("max option must be a nonnegative integer");let N=e?Rs(e):Array;if(!N)throw new Error("invalid max value: "+e);if(this.#e=e,this.#n=m,this.maxEntrySize=y||this.#n,this.sizeCalculation=d,this.sizeCalculation){if(!this.#n&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(w!==void 0&&typeof w!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#f=w,this.#N=!!w,this.#a=new Map,this.#r=new Array(e).fill(void 0),this.#t=new Array(e).fill(void 0),this.#g=new N(e),this.#b=new N(e),this.#m=0,this.#u=0,this.#x=de.create(e),this.#l=0,this.#p=0,typeof l=="function"&&(this.#i=l),typeof c=="function"?(this.#o=c,this.#d=[]):(this.#o=void 0,this.#d=void 0),this.#y=!!this.#i,this.#c=!!this.#o,this.noDisposeOnSet=!!f,this.noUpdateTTL=!!u,this.noDeleteOnFetchRejection=!!g,this.allowStaleOnFetchRejection=!!E,this.allowStaleOnFetchAbort=!!S,this.ignoreFetchAbort=!!v,this.maxEntrySize!==0){if(this.#n!==0&&!dt(this.#n))throw new TypeError("maxSize must be a positive integer if specified");if(!dt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#R()}if(this.allowStale=!!a,this.noDeleteOnStaleGet=!!b,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!h,this.ttlResolution=dt(i)||i===0?i:1,this.ttlAutopurge=!!r,this.ttl=s||0,this.ttl){if(!dt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#F()}if(this.#e===0&&this.ttl===0&&this.#n===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#n){let Y="LRU_CACHE_UNBOUNDED";un(Y)&&(ks.add(Y),Fs("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",Y,St))}}getRemainingTTL(t){return this.#a.has(t)?1/0:0}#F(){let t=new Dt(this.#e),e=new Dt(this.#e);this.#C=t,this.#k=e,this.#s=(r,o,h=Gt.now())=>{if(e[r]=o!==0?h:0,t[r]=o,o!==0&&this.ttlAutopurge){let a=setTimeout(()=>{this.#w(r)&&this.delete(this.#r[r])},o+1);a.unref&&a.unref()}},this.#A=r=>{e[r]=t[r]!==0?Gt.now():0},this.#S=(r,o)=>{if(t[o]){let h=t[o],a=e[o];r.ttl=h,r.start=a,r.now=s||i();let l=r.now-a;r.remainingTTL=h-l}};let s=0,i=()=>{let r=Gt.now();if(this.ttlResolution>0){s=r;let o=setTimeout(()=>s=0,this.ttlResolution);o.unref&&o.unref()}return r};this.getRemainingTTL=r=>{let o=this.#a.get(r);if(o===void 0)return 0;let h=t[o],a=e[o];if(h===0||a===0)return 1/0;let l=(s||i())-a;return h-l},this.#w=r=>t[r]!==0&&e[r]!==0&&(s||i())-e[r]>t[r]}#A=()=>{};#S=()=>{};#s=()=>{};#w=()=>!1;#R(){let t=new Dt(this.#e);this.#p=0,this.#T=t,this.#E=e=>{this.#p-=t[e],t[e]=0},this.#L=(e,s,i,r)=>{if(this.#h(s))return 0;if(!dt(i))if(r){if(typeof r!="function")throw new TypeError("sizeCalculation must be a function");if(i=r(s,e),!dt(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return i},this.#P=(e,s,i)=>{if(t[e]=s,this.#n){let r=this.#n-t[e];for(;this.#p>r;)this.#O(!0)}this.#p+=t[e],i&&(i.entrySize=s,i.totalCalculatedSize=this.#p)}}#E=t=>{};#P=(t,e,s)=>{};#L=(t,e,s,i)=>{if(s||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#v({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#u;!(!this.#_(e)||((t||!this.#w(e))&&(yield e),e===this.#m));)e=this.#b[e]}*#D({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#m;!(!this.#_(e)||((t||!this.#w(e))&&(yield e),e===this.#u));)e=this.#g[e]}#_(t){return t!==void 0&&this.#a.get(this.#r[t])===t}*entries(){for(let t of this.#v())this.#t[t]!==void 0&&this.#r[t]!==void 0&&!this.#h(this.#t[t])&&(yield[this.#r[t],this.#t[t]])}*rentries(){for(let t of this.#D())this.#t[t]!==void 0&&this.#r[t]!==void 0&&!this.#h(this.#t[t])&&(yield[this.#r[t],this.#t[t]])}*keys(){for(let t of this.#v()){let e=this.#r[t];e!==void 0&&!this.#h(this.#t[t])&&(yield e)}}*rkeys(){for(let t of this.#D()){let e=this.#r[t];e!==void 0&&!this.#h(this.#t[t])&&(yield e)}}*values(){for(let t of this.#v())this.#t[t]!==void 0&&!this.#h(this.#t[t])&&(yield this.#t[t])}*rvalues(){for(let t of this.#D())this.#t[t]!==void 0&&!this.#h(this.#t[t])&&(yield this.#t[t])}[Symbol.iterator](){return this.entries()}find(t,e={}){for(let s of this.#v()){let i=this.#t[s],r=this.#h(i)?i.__staleWhileFetching:i;if(r!==void 0&&t(r,this.#r[s],this))return this.get(this.#r[s],e)}}forEach(t,e=this){for(let s of this.#v()){let i=this.#t[s],r=this.#h(i)?i.__staleWhileFetching:i;r!==void 0&&t.call(e,r,this.#r[s],this)}}rforEach(t,e=this){for(let s of this.#D()){let i=this.#t[s],r=this.#h(i)?i.__staleWhileFetching:i;r!==void 0&&t.call(e,r,this.#r[s],this)}}purgeStale(){let t=!1;for(let e of this.#D({allowStale:!0}))this.#w(e)&&(this.delete(this.#r[e]),t=!0);return t}dump(){let t=[];for(let e of this.#v({allowStale:!0})){let s=this.#r[e],i=this.#t[e],r=this.#h(i)?i.__staleWhileFetching:i;if(r===void 0||s===void 0)continue;let o={value:r};if(this.#C&&this.#k){o.ttl=this.#C[e];let h=Gt.now()-this.#k[e];o.start=Math.floor(Date.now()-h)}this.#T&&(o.size=this.#T[e]),t.unshift([s,o])}return t}load(t){this.clear();for(let[e,s]of t){if(s.start){let i=Date.now()-s.start;s.start=Gt.now()-i}this.set(e,s.value,s)}}set(t,e,s={}){if(e===void 0)return this.delete(t),this;let{ttl:i=this.ttl,start:r,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:h=this.sizeCalculation,status:a}=s,{noUpdateTTL:l=this.noUpdateTTL}=s,c=this.#L(t,e,s.size||0,h);if(this.maxEntrySize&&c>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),this.delete(t),this;let f=this.#l===0?void 0:this.#a.get(t);if(f===void 0)f=this.#l===0?this.#u:this.#x.length!==0?this.#x.pop():this.#l===this.#e?this.#O(!1):this.#l,this.#r[f]=t,this.#t[f]=e,this.#a.set(t,f),this.#g[this.#u]=f,this.#b[f]=this.#u,this.#u=f,this.#l++,this.#P(f,c,a),a&&(a.set="add"),l=!1;else{this.#M(f);let u=this.#t[f];if(e!==u){if(this.#N&&this.#h(u)){u.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:m}=u;m!==void 0&&!o&&(this.#y&&this.#i?.(m,t,"set"),this.#c&&this.#d?.push([m,t,"set"]))}else o||(this.#y&&this.#i?.(u,t,"set"),this.#c&&this.#d?.push([u,t,"set"]));if(this.#E(f),this.#P(f,c,a),this.#t[f]=e,a){a.set="replace";let m=u&&this.#h(u)?u.__staleWhileFetching:u;m!==void 0&&(a.oldValue=m)}}else a&&(a.set="update")}if(i!==0&&!this.#C&&this.#F(),this.#C&&(l||this.#s(f,i,r),a&&this.#S(a,f)),!o&&this.#c&&this.#d){let u=this.#d,m;for(;m=u?.shift();)this.#o?.(...m)}return this}pop(){try{for(;this.#l;){let t=this.#t[this.#m];if(this.#O(!0),this.#h(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(t!==void 0)return t}}finally{if(this.#c&&this.#d){let t=this.#d,e;for(;e=t?.shift();)this.#o?.(...e)}}}#O(t){let e=this.#m,s=this.#r[e],i=this.#t[e];return this.#N&&this.#h(i)?i.__abortController.abort(new Error("evicted")):(this.#y||this.#c)&&(this.#y&&this.#i?.(i,s,"evict"),this.#c&&this.#d?.push([i,s,"evict"])),this.#E(e),t&&(this.#r[e]=void 0,this.#t[e]=void 0,this.#x.push(e)),this.#l===1?(this.#m=this.#u=0,this.#x.length=0):this.#m=this.#g[e],this.#a.delete(s),this.#l--,e}has(t,e={}){let{updateAgeOnHas:s=this.updateAgeOnHas,status:i}=e,r=this.#a.get(t);if(r!==void 0){let o=this.#t[r];if(this.#h(o)&&o.__staleWhileFetching===void 0)return!1;if(this.#w(r))i&&(i.has="stale",this.#S(i,r));else return s&&this.#A(r),i&&(i.has="hit",this.#S(i,r)),!0}else i&&(i.has="miss");return!1}peek(t,e={}){let{allowStale:s=this.allowStale}=e,i=this.#a.get(t);if(i!==void 0&&(s||!this.#w(i))){let r=this.#t[i];return this.#h(r)?r.__staleWhileFetching:r}}#I(t,e,s,i){let r=e===void 0?void 0:this.#t[e];if(this.#h(r))return r;let o=new pe,{signal:h}=s;h?.addEventListener("abort",()=>o.abort(h.reason),{signal:o.signal});let a={signal:o.signal,options:s,context:i},l=(d,w=!1)=>{let{aborted:g}=o.signal,b=s.ignoreFetchAbort&&d!==void 0;if(s.status&&(g&&!w?(s.status.fetchAborted=!0,s.status.fetchError=o.signal.reason,b&&(s.status.fetchAbortIgnored=!0)):s.status.fetchResolved=!0),g&&!b&&!w)return f(o.signal.reason);let E=m;return this.#t[e]===m&&(d===void 0?E.__staleWhileFetching?this.#t[e]=E.__staleWhileFetching:this.delete(t):(s.status&&(s.status.fetchUpdated=!0),this.set(t,d,a.options))),d},c=d=>(s.status&&(s.status.fetchRejected=!0,s.status.fetchError=d),f(d)),f=d=>{let{aborted:w}=o.signal,g=w&&s.allowStaleOnFetchAbort,b=g||s.allowStaleOnFetchRejection,E=b||s.noDeleteOnFetchRejection,S=m;if(this.#t[e]===m&&(!E||S.__staleWhileFetching===void 0?this.delete(t):g||(this.#t[e]=S.__staleWhileFetching)),b)return s.status&&S.__staleWhileFetching!==void 0&&(s.status.returnedStale=!0),S.__staleWhileFetching;if(S.__returned===S)throw d},u=(d,w)=>{let g=this.#f?.(t,r,a);g&&g instanceof Promise&&g.then(b=>d(b===void 0?void 0:b),w),o.signal.addEventListener("abort",()=>{(!s.ignoreFetchAbort||s.allowStaleOnFetchAbort)&&(d(void 0),s.allowStaleOnFetchAbort&&(d=b=>l(b,!0)))})};s.status&&(s.status.fetchDispatched=!0);let m=new Promise(u).then(l,c),y=Object.assign(m,{__abortController:o,__staleWhileFetching:r,__returned:void 0});return e===void 0?(this.set(t,y,{...a.options,status:void 0}),e=this.#a.get(t)):this.#t[e]=y,y}#h(t){if(!this.#N)return!1;let e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof pe}async fetch(t,e={}){let{allowStale:s=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:h=this.noDisposeOnSet,size:a=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL,noDeleteOnFetchRejection:f=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:u=this.allowStaleOnFetchRejection,ignoreFetchAbort:m=this.ignoreFetchAbort,allowStaleOnFetchAbort:y=this.allowStaleOnFetchAbort,context:d,forceRefresh:w=!1,status:g,signal:b}=e;if(!this.#N)return g&&(g.fetch="get"),this.get(t,{allowStale:s,updateAgeOnGet:i,noDeleteOnStaleGet:r,status:g});let E={allowStale:s,updateAgeOnGet:i,noDeleteOnStaleGet:r,ttl:o,noDisposeOnSet:h,size:a,sizeCalculation:l,noUpdateTTL:c,noDeleteOnFetchRejection:f,allowStaleOnFetchRejection:u,allowStaleOnFetchAbort:y,ignoreFetchAbort:m,status:g,signal:b},S=this.#a.get(t);if(S===void 0){g&&(g.fetch="miss");let v=this.#I(t,S,E,d);return v.__returned=v}else{let v=this.#t[S];if(this.#h(v)){let he=s&&v.__staleWhileFetching!==void 0;return g&&(g.fetch="inflight",he&&(g.returnedStale=!0)),he?v.__staleWhileFetching:v.__returned=v}let N=this.#w(S);if(!w&&!N)return g&&(g.fetch="hit"),this.#M(S),i&&this.#A(S),g&&this.#S(g,S),v;let Y=this.#I(t,S,E,d),tt=Y.__staleWhileFetching!==void 0&&s;return g&&(g.fetch=N?"stale":"refresh",tt&&N&&(g.returnedStale=!0)),tt?Y.__staleWhileFetching:Y.__returned=Y}}get(t,e={}){let{allowStale:s=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,status:o}=e,h=this.#a.get(t);if(h!==void 0){let a=this.#t[h],l=this.#h(a);return o&&this.#S(o,h),this.#w(h)?(o&&(o.get="stale"),l?(o&&s&&a.__staleWhileFetching!==void 0&&(o.returnedStale=!0),s?a.__staleWhileFetching:void 0):(r||this.delete(t),o&&s&&(o.returnedStale=!0),s?a:void 0)):(o&&(o.get="hit"),l?a.__staleWhileFetching:(this.#M(h),i&&this.#A(h),a))}else o&&(o.get="miss")}#W(t,e){this.#b[e]=t,this.#g[t]=e}#M(t){t!==this.#u&&(t===this.#m?this.#m=this.#g[t]:this.#W(this.#b[t],this.#g[t]),this.#W(this.#u,t),this.#u=t)}delete(t){let e=!1;if(this.#l!==0){let s=this.#a.get(t);if(s!==void 0)if(e=!0,this.#l===1)this.clear();else{this.#E(s);let i=this.#t[s];this.#h(i)?i.__abortController.abort(new Error("deleted")):(this.#y||this.#c)&&(this.#y&&this.#i?.(i,t,"delete"),this.#c&&this.#d?.push([i,t,"delete"])),this.#a.delete(t),this.#r[s]=void 0,this.#t[s]=void 0,s===this.#u?this.#u=this.#b[s]:s===this.#m?this.#m=this.#g[s]:(this.#g[this.#b[s]]=this.#g[s],this.#b[this.#g[s]]=this.#b[s]),this.#l--,this.#x.push(s)}}if(this.#c&&this.#d?.length){let s=this.#d,i;for(;i=s?.shift();)this.#o?.(...i)}return e}clear(){for(let t of this.#D({allowStale:!0})){let e=this.#t[t];if(this.#h(e))e.__abortController.abort(new Error("deleted"));else{let s=this.#r[t];this.#y&&this.#i?.(e,s,"delete"),this.#c&&this.#d?.push([e,s,"delete"])}}if(this.#a.clear(),this.#t.fill(void 0),this.#r.fill(void 0),this.#C&&this.#k&&(this.#C.fill(0),this.#k.fill(0)),this.#T&&this.#T.fill(0),this.#m=0,this.#u=0,this.#x.length=0,this.#p=0,this.#l=0,this.#c&&this.#d){let t=this.#d,e;for(;e=t?.shift();)this.#o?.(...e)}}};var Rt=W("path"),Bs=W("url"),vn=_t(W("fs"),1),it=W("fs"),gt=W("fs/promises");var Ee=W("events"),Ue=_t(W("stream"),1),Ls=W("string_decoder"),Os=typeof process=="object"&&process?process:{stdout:null,stderr:null},dn=n=>!!n&&typeof n=="object"&&(n instanceof mt||n instanceof Ue.default||pn(n)||mn(n)),pn=n=>!!n&&typeof n=="object"&&n instanceof Ee.EventEmitter&&typeof n.pipe=="function"&&n.pipe!==Ue.default.Writable.prototype.pipe,mn=n=>!!n&&typeof n=="object"&&n instanceof Ee.EventEmitter&&typeof n.write=="function"&&typeof n.end=="function",ht=Symbol("EOF"),at=Symbol("maybeEmitEnd"),pt=Symbol("emittedEnd"),me=Symbol("emittingEnd"),Ht=Symbol("emittedError"),ge=Symbol("closed"),Ms=Symbol("read"),we=Symbol("flush"),Is=Symbol("flushChunk"),X=Symbol("encoding"),kt=Symbol("decoder"),M=Symbol("flowing"),Vt=Symbol("paused"),Ft=Symbol("resume"),I=Symbol("buffer"),U=Symbol("pipes"),P=Symbol("bufferLength"),Le=Symbol("bufferPush"),ye=Symbol("bufferShift"),j=Symbol("objectMode"),A=Symbol("destroyed"),_e=Symbol("error"),We=Symbol("emitData"),Ps=Symbol("emitEnd"),je=Symbol("emitEnd2"),et=Symbol("async"),$e=Symbol("abort"),be=Symbol("aborted"),qt=Symbol("signal"),Et=Symbol("dataListeners"),H=Symbol("discarded"),Kt=n=>Promise.resolve().then(n),gn=n=>n(),wn=n=>n==="end"||n==="finish"||n==="prefinish",yn=n=>n instanceof ArrayBuffer||!!n&&typeof n=="object"&&n.constructor&&n.constructor.name==="ArrayBuffer"&&n.byteLength>=0,bn=n=>!Buffer.isBuffer(n)&&ArrayBuffer.isView(n),Se=class{src;dest;opts;ondrain;constructor(t,e,s){this.src=t,this.dest=e,this.opts=s,this.ondrain=()=>t[Ft](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(t){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},Be=class extends Se{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,s){super(t,e,s),this.proxyErrors=i=>e.emit("error",i),t.on("error",this.proxyErrors)}},Sn=n=>!!n.objectMode,En=n=>!n.objectMode&&!!n.encoding&&n.encoding!=="buffer",mt=class extends Ee.EventEmitter{[M]=!1;[Vt]=!1;[U]=[];[I]=[];[j];[X];[et];[kt];[ht]=!1;[pt]=!1;[me]=!1;[ge]=!1;[Ht]=null;[P]=0;[A]=!1;[qt];[be]=!1;[Et]=0;[H]=!1;writable=!0;readable=!0;constructor(...t){let e=t[0]||{};if(super(),e.objectMode&&typeof e.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");Sn(e)?(this[j]=!0,this[X]=null):En(e)?(this[X]=e.encoding,this[j]=!1):(this[j]=!1,this[X]=null),this[et]=!!e.async,this[kt]=this[X]?new Ls.StringDecoder(this[X]):null,e&&e.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[I]}),e&&e.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[U]});let{signal:s}=e;s&&(this[qt]=s,s.aborted?this[$e]():s.addEventListener("abort",()=>this[$e]()))}get bufferLength(){return this[P]}get encoding(){return this[X]}set encoding(t){throw new Error("Encoding must be set at instantiation time")}setEncoding(t){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[j]}set objectMode(t){throw new Error("objectMode must be set at instantiation time")}get async(){return this[et]}set async(t){this[et]=this[et]||!!t}[$e](){this[be]=!0,this.emit("abort",this[qt]?.reason),this.destroy(this[qt]?.reason)}get aborted(){return this[be]}set aborted(t){}write(t,e,s){if(this[be])return!1;if(this[ht])throw new Error("write after end");if(this[A])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof e=="function"&&(s=e,e="utf8"),e||(e="utf8");let i=this[et]?Kt:gn;if(!this[j]&&!Buffer.isBuffer(t)){if(bn(t))t=Buffer.from(t.buffer,t.byteOffset,t.byteLength);else if(yn(t))t=Buffer.from(t);else if(typeof t!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[j]?(this[M]&&this[P]!==0&&this[we](!0),this[M]?this.emit("data",t):this[Le](t),this[P]!==0&&this.emit("readable"),s&&i(s),this[M]):t.length?(typeof t=="string"&&!(e===this[X]&&!this[kt]?.lastNeed)&&(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[X]&&(t=this[kt].write(t)),this[M]&&this[P]!==0&&this[we](!0),this[M]?this.emit("data",t):this[Le](t),this[P]!==0&&this.emit("readable"),s&&i(s),this[M]):(this[P]!==0&&this.emit("readable"),s&&i(s),this[M])}read(t){if(this[A])return null;if(this[H]=!1,this[P]===0||t===0||t&&t>this[P])return this[at](),null;this[j]&&(t=null),this[I].length>1&&!this[j]&&(this[I]=[this[X]?this[I].join(""):Buffer.concat(this[I],this[P])]);let e=this[Ms](t||null,this[I][0]);return this[at](),e}[Ms](t,e){if(this[j])this[ye]();else{let s=e;t===s.length||t===null?this[ye]():typeof s=="string"?(this[I][0]=s.slice(t),e=s.slice(0,t),this[P]-=t):(this[I][0]=s.subarray(t),e=s.subarray(0,t),this[P]-=t)}return this.emit("data",e),!this[I].length&&!this[ht]&&this.emit("drain"),e}end(t,e,s){return typeof t=="function"&&(s=t,t=void 0),typeof e=="function"&&(s=e,e="utf8"),t!==void 0&&this.write(t,e),s&&this.once("end",s),this[ht]=!0,this.writable=!1,(this[M]||!this[Vt])&&this[at](),this}[Ft](){this[A]||(!this[Et]&&!this[U].length&&(this[H]=!0),this[Vt]=!1,this[M]=!0,this.emit("resume"),this[I].length?this[we]():this[ht]?this[at]():this.emit("drain"))}resume(){return this[Ft]()}pause(){this[M]=!1,this[Vt]=!0,this[H]=!1}get destroyed(){return this[A]}get flowing(){return this[M]}get paused(){return this[Vt]}[Le](t){this[j]?this[P]+=1:this[P]+=t.length,this[I].push(t)}[ye](){return this[j]?this[P]-=1:this[P]-=this[I][0].length,this[I].shift()}[we](t=!1){do;while(this[Is](this[ye]())&&this[I].length);!t&&!this[I].length&&!this[ht]&&this.emit("drain")}[Is](t){return this.emit("data",t),this[M]}pipe(t,e){if(this[A])return t;this[H]=!1;let s=this[pt];return e=e||{},t===Os.stdout||t===Os.stderr?e.end=!1:e.end=e.end!==!1,e.proxyErrors=!!e.proxyErrors,s?e.end&&t.end():(this[U].push(e.proxyErrors?new Be(this,t,e):new Se(this,t,e)),this[et]?Kt(()=>this[Ft]()):this[Ft]()),t}unpipe(t){let e=this[U].find(s=>s.dest===t);e&&(this[U].length===1?(this[M]&&this[Et]===0&&(this[M]=!1),this[U]=[]):this[U].splice(this[U].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){let s=super.on(t,e);if(t==="data")this[H]=!1,this[Et]++,!this[U].length&&!this[M]&&this[Ft]();else if(t==="readable"&&this[P]!==0)super.emit("readable");else if(wn(t)&&this[pt])super.emit(t),this.removeAllListeners(t);else if(t==="error"&&this[Ht]){let i=e;this[et]?Kt(()=>i.call(this,this[Ht])):i.call(this,this[Ht])}return s}removeListener(t,e){return this.off(t,e)}off(t,e){let s=super.off(t,e);return t==="data"&&(this[Et]=this.listeners("data").length,this[Et]===0&&!this[H]&&!this[U].length&&(this[M]=!1)),s}removeAllListeners(t){let e=super.removeAllListeners(t);return(t==="data"||t===void 0)&&(this[Et]=0,!this[H]&&!this[U].length&&(this[M]=!1)),e}get emittedEnd(){return this[pt]}[at](){!this[me]&&!this[pt]&&!this[A]&&this[I].length===0&&this[ht]&&(this[me]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[ge]&&this.emit("close"),this[me]=!1)}emit(t,...e){let s=e[0];if(t!=="error"&&t!=="close"&&t!==A&&this[A])return!1;if(t==="data")return!this[j]&&!s?!1:this[et]?(Kt(()=>this[We](s)),!0):this[We](s);if(t==="end")return this[Ps]();if(t==="close"){if(this[ge]=!0,!this[pt]&&!this[A])return!1;let r=super.emit("close");return this.removeAllListeners("close"),r}else if(t==="error"){this[Ht]=s,super.emit(_e,s);let r=!this[qt]||this.listeners("error").length?super.emit("error",s):!1;return this[at](),r}else if(t==="resume"){let r=super.emit("resume");return this[at](),r}else if(t==="finish"||t==="prefinish"){let r=super.emit(t);return this.removeAllListeners(t),r}let i=super.emit(t,...e);return this[at](),i}[We](t){for(let s of this[U])s.dest.write(t)===!1&&this.pause();let e=this[H]?!1:super.emit("data",t);return this[at](),e}[Ps](){return this[pt]?!1:(this[pt]=!0,this.readable=!1,this[et]?(Kt(()=>this[je]()),!0):this[je]())}[je](){if(this[kt]){let e=this[kt].end();if(e){for(let s of this[U])s.dest.write(e);this[H]||super.emit("data",e)}}for(let e of this[U])e.end();let t=super.emit("end");return this.removeAllListeners("end"),t}async collect(){let t=Object.assign([],{dataLength:0});this[j]||(t.dataLength=0);let e=this.promise();return this.on("data",s=>{t.push(s),this[j]||(t.dataLength+=s.length)}),await e,t}async concat(){if(this[j])throw new Error("cannot concat in objectMode");let t=await this.collect();return this[X]?t.join(""):Buffer.concat(t,t.dataLength)}async promise(){return new Promise((t,e)=>{this.on(A,()=>e(new Error("stream destroyed"))),this.on("error",s=>e(s)),this.on("end",()=>t())})}[Symbol.asyncIterator](){this[H]=!1;let t=!1,e=async()=>(this.pause(),t=!0,{value:void 0,done:!0});return{next:()=>{if(t)return e();let i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[ht])return e();let r,o,h=f=>{this.off("data",a),this.off("end",l),this.off(A,c),e(),o(f)},a=f=>{this.off("error",h),this.off("end",l),this.off(A,c),this.pause(),r({value:f,done:!!this[ht]})},l=()=>{this.off("error",h),this.off("data",a),this.off(A,c),e(),r({done:!0,value:void 0})},c=()=>h(new Error("stream destroyed"));return new Promise((f,u)=>{o=u,r=f,this.once(A,c),this.once("error",h),this.once("end",l),this.once("data",a)})},throw:e,return:e,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[H]=!1;let t=!1,e=()=>(this.pause(),this.off(_e,e),this.off(A,e),this.off("end",e),t=!0,{done:!0,value:void 0}),s=()=>{if(t)return e();let i=this.read();return i===null?e():{done:!1,value:i}};return this.once("end",e),this.once(_e,e),this.once(A,e),{next:s,throw:e,return:e,[Symbol.iterator](){return this}}}destroy(t){if(this[A])return t?this.emit("error",t):this.emit(A),this;this[A]=!0,this[H]=!0,this[I].length=0,this[P]=0;let e=this;return typeof e.close=="function"&&!this[ge]&&e.close(),t?this.emit("error",t):this.emit(A),this}static get isStream(){return dn}};var xn=it.realpathSync.native,Jt={lstatSync:it.lstatSync,readdir:it.readdir,readdirSync:it.readdirSync,readlinkSync:it.readlinkSync,realpathSync:xn,promises:{lstat:gt.lstat,readdir:gt.readdir,readlink:gt.readlink,realpath:gt.realpath}},Us=n=>!n||n===Jt||n===vn?Jt:{...Jt,...n,promises:{...Jt.promises,...n.promises||{}}},zs=/^\\\\\?\\([a-z]:)\\?$/i,Cn=n=>n.replace(/\//g,"\\").replace(zs,"$1\\"),An=/[\\\/]/,K=0,Gs=1,Hs=2,st=4,Vs=6,qs=8,vt=10,Ks=12,q=15,Yt=~q,ze=16,_s=32,Xt=64,Z=128,ve=256,Ce=512,Ws=Xt|Z|Ce,Nn=1023,Ge=n=>n.isFile()?qs:n.isDirectory()?st:n.isSymbolicLink()?vt:n.isCharacterDevice()?Hs:n.isBlockDevice()?Vs:n.isSocket()?Ks:n.isFIFO()?Gs:K,js=new Map,Zt=n=>{let t=js.get(n);if(t)return t;let e=n.normalize("NFKD");return js.set(n,e),e},$s=new Map,xe=n=>{let t=$s.get(n);if(t)return t;let e=Zt(n.toLowerCase());return $s.set(n,e),e},Ae=class extends St{constructor(){super({max:256})}},He=class extends St{constructor(t=16*1024){super({maxSize:t,sizeCalculation:e=>e.length+1})}},Ys=Symbol("PathScurry setAsCwd"),$=class{name;root;roots;parent;nocase;#e;#n;get dev(){return this.#n}#i;get mode(){return this.#i}#o;get nlink(){return this.#o}#f;get uid(){return this.#f}#l;get gid(){return this.#l}#p;get rdev(){return this.#p}#a;get blksize(){return this.#a}#r;get ino(){return this.#r}#t;get size(){return this.#t}#g;get blocks(){return this.#g}#b;get atimeMs(){return this.#b}#m;get mtimeMs(){return this.#m}#u;get ctimeMs(){return this.#u}#x;get birthtimeMs(){return this.#x}#d;get atime(){return this.#d}#T;get mtime(){return this.#T}#k;get ctime(){return this.#k}#C;get birthtime(){return this.#C}#y;#N;#c;#F;#A;#S;#s;#w;#R;#E;get path(){return(this.parent||this).fullpath()}constructor(t,e=K,s,i,r,o,h){this.name=t,this.#y=r?xe(t):Zt(t),this.#s=e&Nn,this.nocase=r,this.roots=i,this.root=s||this,this.#w=o,this.#c=h.fullpath,this.#A=h.relative,this.#S=h.relativePosix,this.parent=h.parent,this.parent?this.#e=this.parent.#e:this.#e=Us(h.fs)}depth(){return this.#N!==void 0?this.#N:this.parent?this.#N=this.parent.depth()+1:this.#N=0}childrenCache(){return this.#w}resolve(t){if(!t)return this;let e=this.getRootString(t),i=t.substring(e.length).split(this.splitSep);return e?this.getRoot(e).#P(i):this.#P(i)}#P(t){let e=this;for(let s of t)e=e.child(s);return e}children(){let t=this.#w.get(this);if(t)return t;let e=Object.assign([],{provisional:0});return this.#w.set(this,e),this.#s&=~ze,e}child(t,e){if(t===""||t===".")return this;if(t==="..")return this.parent||this;let s=this.children(),i=this.nocase?xe(t):Zt(t);for(let a of s)if(a.#y===i)return a;let r=this.parent?this.sep:"",o=this.#c?this.#c+r+t:void 0,h=this.newChild(t,K,{...e,parent:this,fullpath:o});return this.canReaddir()||(h.#s|=Z),s.push(h),h}relative(){if(this.#A!==void 0)return this.#A;let t=this.name,e=this.parent;if(!e)return this.#A=this.name;let s=e.relative();return s+(!s||!e.parent?"":this.sep)+t}relativePosix(){if(this.sep==="/")return this.relative();if(this.#S!==void 0)return this.#S;let t=this.name,e=this.parent;if(!e)return this.#S=this.fullpathPosix();let s=e.relativePosix();return s+(!s||!e.parent?"":"/")+t}fullpath(){if(this.#c!==void 0)return this.#c;let t=this.name,e=this.parent;if(!e)return this.#c=this.name;let i=e.fullpath()+(e.parent?this.sep:"")+t;return this.#c=i}fullpathPosix(){if(this.#F!==void 0)return this.#F;if(this.sep==="/")return this.#F=this.fullpath();if(!this.parent){let i=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(i)?this.#F=`//?/${i}`:this.#F=i}let t=this.parent,e=t.fullpathPosix(),s=e+(!e||!t.parent?"":"/")+this.name;return this.#F=s}isUnknown(){return(this.#s&q)===K}isType(t){return this[`is${t}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#s&q)===qs}isDirectory(){return(this.#s&q)===st}isCharacterDevice(){return(this.#s&q)===Hs}isBlockDevice(){return(this.#s&q)===Vs}isFIFO(){return(this.#s&q)===Gs}isSocket(){return(this.#s&q)===Ks}isSymbolicLink(){return(this.#s&vt)===vt}lstatCached(){return this.#s&_s?this:void 0}readlinkCached(){return this.#R}realpathCached(){return this.#E}readdirCached(){let t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(this.#R)return!0;if(!this.parent)return!1;let t=this.#s&q;return!(t!==K&&t!==vt||this.#s&ve||this.#s&Z)}calledReaddir(){return!!(this.#s&ze)}isENOENT(){return!!(this.#s&Z)}isNamed(t){return this.nocase?this.#y===xe(t):this.#y===Zt(t)}async readlink(){let t=this.#R;if(t)return t;if(!!this.canReadlink()&&!!this.parent)try{let e=await this.#e.promises.readlink(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#R=s}catch(e){this.#W(e.code);return}}readlinkSync(){let t=this.#R;if(t)return t;if(!!this.canReadlink()&&!!this.parent)try{let e=this.#e.readlinkSync(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#R=s}catch(e){this.#W(e.code);return}}#L(t){this.#s|=ze;for(let e=t.provisional;e<t.length;e++)t[e].#v()}#v(){this.#s&Z||(this.#s=(this.#s|Z)&Yt,this.#D())}#D(){let t=this.children();t.provisional=0;for(let e of t)e.#v()}#_(){this.#s|=Ce,this.#O()}#O(){if(this.#s&Xt)return;let t=this.#s;(t&q)===st&&(t&=Yt),this.#s=t|Xt,this.#D()}#I(t=""){t==="ENOTDIR"||t==="EPERM"?this.#O():t==="ENOENT"?this.#v():this.children().provisional=0}#h(t=""){t==="ENOTDIR"?this.parent.#O():t==="ENOENT"&&this.#v()}#W(t=""){let e=this.#s;e|=ve,t==="ENOENT"&&(e|=Z),(t==="EINVAL"||t==="UNKNOWN")&&(e&=Yt),this.#s=e,t==="ENOTDIR"&&this.parent&&this.parent.#O()}#M(t,e){return this.#G(t,e)||this.#z(t,e)}#z(t,e){let s=Ge(t),i=this.newChild(t.name,s,{parent:this}),r=i.#s&q;return r!==st&&r!==vt&&r!==K&&(i.#s|=Xt),e.unshift(i),e.provisional++,i}#G(t,e){for(let s=e.provisional;s<e.length;s++){let i=e[s];if((this.nocase?xe(t.name):Zt(t.name))===i.#y)return this.#H(t,i,s,e)}}#H(t,e,s,i){let r=e.name;return e.#s=e.#s&Yt|Ge(t),r!==t.name&&(e.name=t.name),s!==i.provisional&&(s===i.length-1?i.pop():i.splice(s,1),i.unshift(e)),i.provisional++,e}async lstat(){if((this.#s&Z)===0)try{return this.#U(await this.#e.promises.lstat(this.fullpath())),this}catch(t){this.#h(t.code)}}lstatSync(){if((this.#s&Z)===0)try{return this.#U(this.#e.lstatSync(this.fullpath())),this}catch(t){this.#h(t.code)}}#U(t){let{atime:e,atimeMs:s,birthtime:i,birthtimeMs:r,blksize:o,blocks:h,ctime:a,ctimeMs:l,dev:c,gid:f,ino:u,mode:m,mtime:y,mtimeMs:d,nlink:w,rdev:g,size:b,uid:E}=t;this.#d=e,this.#b=s,this.#C=i,this.#x=r,this.#a=o,this.#g=h,this.#k=a,this.#u=l,this.#n=c,this.#l=f,this.#r=u,this.#i=m,this.#T=y,this.#m=d,this.#o=w,this.#p=g,this.#t=b,this.#f=E;let S=Ge(t);this.#s=this.#s&Yt|S|_s,S!==K&&S!==st&&S!==vt&&(this.#s|=Xt)}#$=[];#B=!1;#V(t){this.#B=!1;let e=this.#$.slice();this.#$.length=0,e.forEach(s=>s(null,t))}readdirCB(t,e=!1){if(!this.canReaddir()){e?t(null,[]):queueMicrotask(()=>t(null,[]));return}let s=this.children();if(this.calledReaddir()){let r=s.slice(0,s.provisional);e?t(null,r):queueMicrotask(()=>t(null,r));return}if(this.#$.push(t),this.#B)return;this.#B=!0;let i=this.fullpath();this.#e.readdir(i,{withFileTypes:!0},(r,o)=>{if(r)this.#I(r.code),s.provisional=0;else{for(let h of o)this.#M(h,s);this.#L(s)}this.#V(s.slice(0,s.provisional))})}#j;async readdir(){if(!this.canReaddir())return[];let t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);let e=this.fullpath();if(this.#j)await this.#j;else{let s=()=>{};this.#j=new Promise(i=>s=i);try{for(let i of await this.#e.promises.readdir(e,{withFileTypes:!0}))this.#M(i,t);this.#L(t)}catch(i){this.#I(i.code),t.provisional=0}this.#j=void 0,s()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];let t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);let e=this.fullpath();try{for(let s of this.#e.readdirSync(e,{withFileTypes:!0}))this.#M(s,t);this.#L(t)}catch(s){this.#I(s.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(this.#s&Ws)return!1;let t=q&this.#s;return t===K||t===st||t===vt}shouldWalk(t,e){return(this.#s&st)===st&&!(this.#s&Ws)&&!t.has(this)&&(!e||e(this))}async realpath(){if(this.#E)return this.#E;if(!((Ce|ve|Z)&this.#s))try{let t=await this.#e.promises.realpath(this.fullpath());return this.#E=this.resolve(t)}catch{this.#_()}}realpathSync(){if(this.#E)return this.#E;if(!((Ce|ve|Z)&this.#s))try{let t=this.#e.realpathSync(this.fullpath());return this.#E=this.resolve(t)}catch{this.#_()}}[Ys](t){if(t===this)return;let e=new Set([]),s=[],i=this;for(;i&&i.parent;)e.add(i),i.#A=s.join(this.sep),i.#S=s.join("/"),i=i.parent,s.push("..");for(i=t;i&&i.parent&&!e.has(i);)i.#A=void 0,i.#S=void 0,i=i.parent}},Ot=class extends ${sep="\\";splitSep=An;constructor(t,e=K,s,i,r,o,h){super(t,e,s,i,r,o,h)}newChild(t,e=K,s={}){return new Ot(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}getRootString(t){return Rt.win32.parse(t).root}getRoot(t){if(t=Cn(t.toUpperCase()),t===this.root.name)return this.root;for(let[e,s]of Object.entries(this.roots))if(this.sameRoot(t,e))return this.roots[t]=s;return this.roots[t]=new It(t,this).root}sameRoot(t,e=this.root.name){return t=t.toUpperCase().replace(/\//g,"\\").replace(zs,"$1\\"),t===e}},Mt=class extends ${splitSep="/";sep="/";constructor(t,e=K,s,i,r,o,h){super(t,e,s,i,r,o,h)}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(t,e=K,s={}){return new Mt(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}},Ne=class{root;rootPath;roots;cwd;#e;#n;#i;nocase;#o;constructor(t=process.cwd(),e,s,{nocase:i,childrenCacheSize:r=16*1024,fs:o=Jt}={}){this.#o=Us(o),(t instanceof URL||t.startsWith("file://"))&&(t=(0,Bs.fileURLToPath)(t));let h=e.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(h),this.#e=new Ae,this.#n=new Ae,this.#i=new He(r);let a=h.substring(this.rootPath.length).split(s);if(a.length===1&&!a[0]&&a.pop(),i===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=i,this.root=this.newRoot(this.#o),this.roots[this.rootPath]=this.root;let l=this.root,c=a.length-1,f=e.sep,u=this.rootPath,m=!1;for(let y of a){let d=c--;l=l.child(y,{relative:new Array(d).fill("..").join(f),relativePosix:new Array(d).fill("..").join("/"),fullpath:u+=(m?"":f)+y}),m=!0}this.cwd=l}depth(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return this.#i}resolve(...t){let e="";for(let r=t.length-1;r>=0;r--){let o=t[r];if(!(!o||o===".")&&(e=e?`${o}/${e}`:o,this.isAbsolute(o)))break}let s=this.#e.get(e);if(s!==void 0)return s;let i=this.cwd.resolve(e).fullpath();return this.#e.set(e,i),i}resolvePosix(...t){let e="";for(let r=t.length-1;r>=0;r--){let o=t[r];if(!(!o||o===".")&&(e=e?`${o}/${e}`:o,this.isAbsolute(o)))break}let s=this.#n.get(e);if(s!==void 0)return s;let i=this.cwd.resolve(e).fullpathPosix();return this.#n.set(e,i),i}relative(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof $||(e=t,t=this.cwd);let{withFileTypes:s}=e;if(t.canReaddir()){let i=await t.readdir();return s?i:i.map(r=>r.name)}else return[]}readdirSync(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof $||(e=t,t=this.cwd);let{withFileTypes:s=!0}=e;return t.canReaddir()?s?t.readdirSync():t.readdirSync().map(i=>i.name):[]}async lstat(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof $||(e=t.withFileTypes,t=this.cwd);let s=await t.readlink();return e?s:s?.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof $||(e=t.withFileTypes,t=this.cwd);let s=t.readlinkSync();return e?s:s?.fullpath()}async realpath(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof $||(e=t.withFileTypes,t=this.cwd);let s=await t.realpath();return e?s:s?.fullpath()}realpathSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof $||(e=t.withFileTypes,t=this.cwd);let s=t.realpathSync();return e?s:s?.fullpath()}async walk(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof $||(e=t,t=this.cwd);let{withFileTypes:s=!0,follow:i=!1,filter:r,walkFilter:o}=e,h=[];(!r||r(t))&&h.push(s?t:t.fullpath());let a=new Set,l=(f,u)=>{a.add(f),f.readdirCB((m,y)=>{if(m)return u(m);let d=y.length;if(!d)return u();let w=()=>{--d===0&&u()};for(let g of y)(!r||r(g))&&h.push(s?g:g.fullpath()),i&&g.isSymbolicLink()?g.realpath().then(b=>b?.isUnknown()?b.lstat():b).then(b=>b?.shouldWalk(a,o)?l(b,w):w()):g.shouldWalk(a,o)?l(g,w):w()},!0)},c=t;return new Promise((f,u)=>{l(c,m=>{if(m)return u(m);f(h)})})}walkSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof $||(e=t,t=this.cwd);let{withFileTypes:s=!0,follow:i=!1,filter:r,walkFilter:o}=e,h=[];(!r||r(t))&&h.push(s?t:t.fullpath());let a=new Set([t]);for(let l of a){let c=l.readdirSync();for(let f of c){(!r||r(f))&&h.push(s?f:f.fullpath());let u=f;if(f.isSymbolicLink()){if(!(i&&(u=f.realpathSync())))continue;u.isUnknown()&&u.lstatSync()}u.shouldWalk(a,o)&&a.add(u)}}return h}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,e={}){return typeof t=="string"?t=this.cwd.resolve(t):t instanceof $||(e=t,t=this.cwd),this.stream(t,e)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof $||(e=t,t=this.cwd);let{withFileTypes:s=!0,follow:i=!1,filter:r,walkFilter:o}=e;(!r||r(t))&&(yield s?t:t.fullpath());let h=new Set([t]);for(let a of h){let l=a.readdirSync();for(let c of l){(!r||r(c))&&(yield s?c:c.fullpath());let f=c;if(c.isSymbolicLink()){if(!(i&&(f=c.realpathSync())))continue;f.isUnknown()&&f.lstatSync()}f.shouldWalk(h,o)&&h.add(f)}}}stream(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof $||(e=t,t=this.cwd);let{withFileTypes:s=!0,follow:i=!1,filter:r,walkFilter:o}=e,h=new mt({objectMode:!0});(!r||r(t))&&h.write(s?t:t.fullpath());let a=new Set,l=[t],c=0,f=()=>{let u=!1;for(;!u;){let m=l.shift();if(!m){c===0&&h.end();return}c++,a.add(m);let y=(w,g,b=!1)=>{if(w)return h.emit("error",w);if(i&&!b){let E=[];for(let S of g)S.isSymbolicLink()&&E.push(S.realpath().then(v=>v?.isUnknown()?v.lstat():v));if(E.length){Promise.all(E).then(()=>y(null,g,!0));return}}for(let E of g)E&&(!r||r(E))&&(h.write(s?E:E.fullpath())||(u=!0));c--;for(let E of g){let S=E.realpathCached()||E;S.shouldWalk(a,o)&&l.push(S)}u&&!h.flowing?h.once("drain",f):d||f()},d=!0;m.readdirCB(y,!0),d=!1}};return f(),h}streamSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof $||(e=t,t=this.cwd);let{withFileTypes:s=!0,follow:i=!1,filter:r,walkFilter:o}=e,h=new mt({objectMode:!0}),a=new Set;(!r||r(t))&&h.write(s?t:t.fullpath());let l=[t],c=0,f=()=>{let u=!1;for(;!u;){let m=l.shift();if(!m){c===0&&h.end();return}c++,a.add(m);let y=m.readdirSync();for(let d of y)(!r||r(d))&&(h.write(s?d:d.fullpath())||(u=!0));c--;for(let d of y){let w=d;if(d.isSymbolicLink()){if(!(i&&(w=d.realpathSync())))continue;w.isUnknown()&&w.lstatSync()}w.shouldWalk(a,o)&&l.push(w)}}u&&!h.flowing&&h.once("drain",f)};return f(),h}chdir(t=this.cwd){let e=this.cwd;this.cwd=typeof t=="string"?this.cwd.resolve(t):t,this.cwd[Ys](e)}},It=class extends Ne{sep="\\";constructor(t=process.cwd(),e={}){let{nocase:s=!0}=e;super(t,Rt.win32,"\\",{...e,nocase:s}),this.nocase=s;for(let i=this.cwd;i;i=i.parent)i.nocase=this.nocase}parseRootPath(t){return Rt.win32.parse(t).root.toUpperCase()}newRoot(t){return new Ot(this.rootPath,st,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}},Pt=class extends Ne{sep="/";constructor(t=process.cwd(),e={}){let{nocase:s=!1}=e;super(t,Rt.posix,"/",{...e,nocase:s}),this.nocase=s}parseRootPath(t){return"/"}newRoot(t){return new Mt(this.rootPath,st,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}},Qt=class extends Pt{constructor(t=process.cwd(),e={}){let{nocase:s=!0}=e;super(t,{...e,nocase:s})}},Fr=process.platform==="win32"?Ot:Mt,Js=process.platform==="win32"?It:process.platform==="darwin"?Qt:Pt;var Xs=W("url");var Dn=n=>n.length>=1,Tn=n=>n.length>=1,wt=class{#e;#n;#i;length;#o;#f;#l;#p;#a;#r;#t=!0;constructor(t,e,s,i){if(!Dn(t))throw new TypeError("empty pattern list");if(!Tn(e))throw new TypeError("empty glob list");if(e.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,s<0||s>=this.length)throw new TypeError("index out of range");if(this.#e=t,this.#n=e,this.#i=s,this.#o=i,this.#i===0){if(this.isUNC()){let[r,o,h,a,...l]=this.#e,[c,f,u,m,...y]=this.#n;l[0]===""&&(l.shift(),y.shift());let d=[r,o,h,a,""].join("/"),w=[c,f,u,m,""].join("/");this.#e=[d,...l],this.#n=[w,...y],this.length=this.#e.length}else if(this.isDrive()||this.isAbsolute()){let[r,...o]=this.#e,[h,...a]=this.#n;o[0]===""&&(o.shift(),a.shift());let l=r+"/",c=h+"/";this.#e=[l,...o],this.#n=[c,...a],this.length=this.#e.length}}}pattern(){return this.#e[this.#i]}isString(){return typeof this.#e[this.#i]=="string"}isGlobstar(){return this.#e[this.#i]===L}isRegExp(){return this.#e[this.#i]instanceof RegExp}globString(){return this.#l=this.#l||(this.#i===0?this.isAbsolute()?this.#n[0]+this.#n.slice(1).join("/"):this.#n.join("/"):this.#n.slice(this.#i).join("/"))}hasMore(){return this.length>this.#i+1}rest(){return this.#f!==void 0?this.#f:this.hasMore()?(this.#f=new wt(this.#e,this.#n,this.#i+1,this.#o),this.#f.#r=this.#r,this.#f.#a=this.#a,this.#f.#p=this.#p,this.#f):this.#f=null}isUNC(){let t=this.#e;return this.#a!==void 0?this.#a:this.#a=this.#o==="win32"&&this.#i===0&&t[0]===""&&t[1]===""&&typeof t[2]=="string"&&!!t[2]&&typeof t[3]=="string"&&!!t[3]}isDrive(){let t=this.#e;return this.#p!==void 0?this.#p:this.#p=this.#o==="win32"&&this.#i===0&&this.length>1&&typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0])}isAbsolute(){let t=this.#e;return this.#r!==void 0?this.#r:this.#r=t[0]===""&&t.length>1||this.isDrive()||this.isUNC()}root(){let t=this.#e[0];return typeof t=="string"&&this.isAbsolute()&&this.#i===0?t:""}checkFollowGlobstar(){return!(this.#i===0||!this.isGlobstar()||!this.#t)}markFollowGlobstar(){return this.#i===0||!this.isGlobstar()||!this.#t?!1:(this.#t=!1,!0)}};var kn=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",te=class{relative;relativeChildren;absolute;absoluteChildren;constructor(t,{nobrace:e,nocase:s,noext:i,noglobstar:r,platform:o=kn}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[];let h={dot:!0,nobrace:e,nocase:s,noext:i,noglobstar:r,optimizationLevel:2,platform:o,nocomment:!0,nonegate:!0};for(let a of t){let l=new G(a,h);for(let c=0;c<l.set.length;c++){let f=l.set[c],u=l.globParts[c];if(!f||!u)throw new Error("invalid pattern object");let m=new wt(f,u,0,o),y=new G(m.globString(),h),d=u[u.length-1]==="**",w=m.isAbsolute();w?this.absolute.push(y):this.relative.push(y),d&&(w?this.absoluteChildren.push(y):this.relativeChildren.push(y))}}}ignored(t){let e=t.fullpath(),s=`${e}/`,i=t.relative()||".",r=`${i}/`;for(let o of this.relative)if(o.match(i)||o.match(r))return!0;for(let o of this.absolute)if(o.match(e)||o.match(s))return!0;return!1}childrenIgnored(t){let e=t.fullpath()+"/",s=(t.relative()||".")+"/";for(let i of this.relativeChildren)if(i.match(s))return!0;for(let i of this.absoluteChildren)if(i.match(e))return!0;return!1}};var ee=class{store;constructor(t=new Map){this.store=t}copy(){return new ee(new Map(this.store))}hasWalked(t,e){return this.store.get(t.fullpath())?.has(e.globString())}storeWalked(t,e){let s=t.fullpath(),i=this.store.get(s);i?i.add(e.globString()):this.store.set(s,new Set([e.globString()]))}},Ve=class{store=new Map;add(t,e,s){let i=(e?2:0)|(s?1:0),r=this.store.get(t);this.store.set(t,r===void 0?i:i&r)}entries(){return[...this.store.entries()].map(([t,e])=>[t,!!(e&2),!!(e&1)])}},qe=class{store=new Map;add(t,e){if(!t.canReaddir())return;let s=this.store.get(t);s?s.find(i=>i.globString()===e.globString())||s.push(e):this.store.set(t,[e])}get(t){let e=this.store.get(t);if(!e)throw new Error("attempting to walk unknown path");return e}entries(){return this.keys().map(t=>[t,this.store.get(t)])}keys(){return[...this.store.keys()].filter(t=>t.canReaddir())}},xt=class{hasWalkedCache;matches=new Ve;subwalks=new qe;patterns;follow;dot;opts;constructor(t,e){this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=e?e.copy():new ee}processPatterns(t,e){this.patterns=e;let s=e.map(i=>[t,i]);for(let[i,r]of s){this.hasWalkedCache.storeWalked(i,r);let o=r.root(),h=r.isAbsolute()&&this.opts.absolute!==!1;if(o){i=i.resolve(o==="/"&&this.opts.root!==void 0?this.opts.root:o);let f=r.rest();if(f)r=f;else{this.matches.add(i,!0,!1);continue}}if(i.isENOENT())continue;let a,l,c=!1;for(;typeof(a=r.pattern())=="string"&&(l=r.rest());)i=i.resolve(a),r=l,c=!0;if(a=r.pattern(),l=r.rest(),c){if(this.hasWalkedCache.hasWalked(i,r))continue;this.hasWalkedCache.storeWalked(i,r)}if(typeof a=="string"){let f=a===".."||a===""||a===".";this.matches.add(i.resolve(a),h,f);continue}else if(a===L){(!i.isSymbolicLink()||this.follow||r.checkFollowGlobstar())&&this.subwalks.add(i,r);let f=l?.pattern(),u=l?.rest();if(!l||(f===""||f===".")&&!u)this.matches.add(i,h,f===""||f===".");else if(f===".."){let m=i.parent||i;u?this.hasWalkedCache.hasWalked(m,u)||this.subwalks.add(m,u):this.matches.add(m,h,!0)}}else a instanceof RegExp&&this.subwalks.add(i,r)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new xt(this.opts,this.hasWalkedCache)}filterEntries(t,e){let s=this.subwalks.get(t),i=this.child();for(let r of e)for(let o of s){let h=o.isAbsolute(),a=o.pattern(),l=o.rest();a===L?i.testGlobstar(r,o,l,h):a instanceof RegExp?i.testRegExp(r,a,l,h):i.testString(r,a,l,h)}return i}testGlobstar(t,e,s,i){if((this.dot||!t.name.startsWith("."))&&(e.hasMore()||this.matches.add(t,i,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,e):t.isSymbolicLink()&&(s&&e.checkFollowGlobstar()?this.subwalks.add(t,s):e.markFollowGlobstar()&&this.subwalks.add(t,e)))),s){let r=s.pattern();if(typeof r=="string"&&r!==".."&&r!==""&&r!==".")this.testString(t,r,s.rest(),i);else if(r===".."){let o=t.parent||t;this.subwalks.add(o,s)}else r instanceof RegExp&&this.testRegExp(t,r,s.rest(),i)}}testRegExp(t,e,s,i){!e.test(t.name)||(s?this.subwalks.add(t,s):this.matches.add(t,i,!1))}testString(t,e,s,i){!t.isNamed(e)||(s?this.subwalks.add(t,s):this.matches.add(t,i,!1))}};var Fn=(n,t)=>typeof n=="string"?new te([n],t):Array.isArray(n)?new te(n,t):n,De=class{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#e=[];#n;#i;signal;maxDepth;constructor(t,e,s){this.patterns=t,this.path=e,this.opts=s,this.#i=!s.posix&&s.platform==="win32"?"\\":"/",s.ignore&&(this.#n=Fn(s.ignore,s)),this.maxDepth=s.maxDepth||1/0,s.signal&&(this.signal=s.signal,this.signal.addEventListener("abort",()=>{this.#e.length=0}))}#o(t){return this.seen.has(t)||!!this.#n?.ignored?.(t)}#f(t){return!!this.#n?.childrenIgnored?.(t)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;this.paused=!1;let t;for(;!this.paused&&(t=this.#e.shift());)t()}onResume(t){this.signal?.aborted||(this.paused?this.#e.push(t):t())}async matchCheck(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||await t.realpath(),!s)return;t=s}let i=t.isUnknown()||this.opts.stat;return this.matchCheckTest(i?await t.lstat():t,e)}matchCheckTest(t,e){return t&&(this.maxDepth===1/0||t.depth()<=this.maxDepth)&&(!e||t.canReaddir())&&(!this.opts.nodir||!t.isDirectory())&&!this.#o(t)?t:void 0}matchCheckSync(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||t.realpathSync(),!s)return;t=s}let i=t.isUnknown()||this.opts.stat;return this.matchCheckTest(i?t.lstatSync():t,e)}matchFinish(t,e){if(this.#o(t))return;let s=this.opts.absolute===void 0?e:this.opts.absolute;this.seen.add(t);let i=this.opts.mark&&t.isDirectory()?this.#i:"";if(this.opts.withFileTypes)this.matchEmit(t);else if(s){let r=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(r+i)}else{let r=this.opts.posix?t.relativePosix():t.relative(),o=this.opts.dotRelative&&!r.startsWith(".."+this.#i)?"."+this.#i:"";this.matchEmit(r?o+r+i:"."+i)}}async match(t,e,s){let i=await this.matchCheck(t,s);i&&this.matchFinish(i,e)}matchSync(t,e,s){let i=this.matchCheckSync(t,s);i&&this.matchFinish(i,e)}walkCB(t,e,s){this.signal?.aborted&&s(),this.walkCB2(t,e,new xt(this.opts),s)}walkCB2(t,e,s,i){if(this.#f(t))return i();if(this.signal?.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2(t,e,s,i));return}s.processPatterns(t,e);let r=1,o=()=>{--r===0&&i()};for(let[h,a,l]of s.matches.entries())this.#o(h)||(r++,this.match(h,a,l).then(()=>o()));for(let h of s.subwalkTargets()){if(this.maxDepth!==1/0&&h.depth()>=this.maxDepth)continue;r++;let a=h.readdirCached();h.calledReaddir()?this.walkCB3(h,a,s,o):h.readdirCB((l,c)=>this.walkCB3(h,c,s,o),!0)}o()}walkCB3(t,e,s,i){s=s.filterEntries(t,e);let r=1,o=()=>{--r===0&&i()};for(let[h,a,l]of s.matches.entries())this.#o(h)||(r++,this.match(h,a,l).then(()=>o()));for(let[h,a]of s.subwalks.entries())r++,this.walkCB2(h,a,s.child(),o);o()}walkCBSync(t,e,s){this.signal?.aborted&&s(),this.walkCB2Sync(t,e,new xt(this.opts),s)}walkCB2Sync(t,e,s,i){if(this.#f(t))return i();if(this.signal?.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2Sync(t,e,s,i));return}s.processPatterns(t,e);let r=1,o=()=>{--r===0&&i()};for(let[h,a,l]of s.matches.entries())this.#o(h)||this.matchSync(h,a,l);for(let h of s.subwalkTargets()){if(this.maxDepth!==1/0&&h.depth()>=this.maxDepth)continue;r++;let a=h.readdirSync();this.walkCB3Sync(h,a,s,o)}o()}walkCB3Sync(t,e,s,i){s=s.filterEntries(t,e);let r=1,o=()=>{--r===0&&i()};for(let[h,a,l]of s.matches.entries())this.#o(h)||this.matchSync(h,a,l);for(let[h,a]of s.subwalks.entries())r++,this.walkCB2Sync(h,a,s.child(),o);o()}},se=class extends De{matches;constructor(t,e,s){super(t,e,s),this.matches=new Set}matchEmit(t){this.matches.add(t)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((t,e)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?e(this.signal.reason):t(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}},ie=class extends De{results;constructor(t,e,s){super(t,e,s),this.results=new mt({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(t){this.results.write(t),this.results.flowing||this.pause()}stream(){let t=this.path;return t.isUnknown()?t.lstat().then(()=>{this.walkCB(t,this.patterns,()=>this.results.end())}):this.walkCB(t,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}};var Rn=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",Q=class{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;opts;patterns;constructor(t,e){if(!e)throw new TypeError("glob options required");if(this.withFileTypes=!!e.withFileTypes,this.signal=e.signal,this.follow=!!e.follow,this.dot=!!e.dot,this.dotRelative=!!e.dotRelative,this.nodir=!!e.nodir,this.mark=!!e.mark,e.cwd?(e.cwd instanceof URL||e.cwd.startsWith("file://"))&&(e.cwd=(0,Xs.fileURLToPath)(e.cwd)):this.cwd="",this.cwd=e.cwd||"",this.root=e.root,this.magicalBraces=!!e.magicalBraces,this.nobrace=!!e.nobrace,this.noext=!!e.noext,this.realpath=!!e.realpath,this.absolute=e.absolute,this.noglobstar=!!e.noglobstar,this.matchBase=!!e.matchBase,this.maxDepth=typeof e.maxDepth=="number"?e.maxDepth:1/0,this.stat=!!e.stat,this.ignore=e.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof t=="string"&&(t=[t]),this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(t=t.map(a=>a.replace(/\\/g,"/"))),this.matchBase){if(e.noglobstar)throw new TypeError("base matching requires globstar");t=t.map(a=>a.includes("/")?a:`./**/${a}`)}if(this.pattern=t,this.platform=e.platform||Rn,this.opts={...e,platform:this.platform},e.scurry){if(this.scurry=e.scurry,e.nocase!==void 0&&e.nocase!==e.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{let a=e.platform==="win32"?It:e.platform==="darwin"?Qt:e.platform?Pt:Js;this.scurry=new a(this.cwd,{nocase:e.nocase,fs:e.fs})}this.nocase=this.scurry.nocase;let s=this.platform==="darwin"||this.platform==="win32",i={...e,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:s,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},r=this.pattern.map(a=>new G(a,i)),[o,h]=r.reduce((a,l)=>(a[0].push(...l.set),a[1].push(...l.globParts),a),[[],[]]);this.patterns=o.map((a,l)=>{let c=h[l];if(!c)throw new Error("invalid pattern object");return new wt(a,c,0,this.platform)})}async walk(){return[...await new se(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walk()]}walkSync(){return[...new se(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walkSync()]}stream(){return new ie(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).stream()}streamSync(){return new ie(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}};var Ke=(n,t={})=>{Array.isArray(n)||(n=[n]);for(let e of n)if(new G(e,t).hasMagic())return!0;return!1};function Te(n,t={}){return new Q(n,t).streamSync()}function Qs(n,t={}){return new Q(n,t).stream()}function ti(n,t={}){return new Q(n,t).walkSync()}async function Zs(n,t={}){return new Q(n,t).walk()}function ke(n,t={}){return new Q(n,t).iterateSync()}function ei(n,t={}){return new Q(n,t).iterate()}var On=Te,Mn=Object.assign(Qs,{sync:Te}),In=ke,Pn=Object.assign(ei,{sync:ke}),Ln=Object.assign(ti,{stream:Te,iterate:ke}),ne=Object.assign(Zs,{glob:Zs,globSync:ti,sync:Ln,globStream:Qs,stream:Mn,globStreamSync:Te,streamSync:On,globIterate:ei,iterate:Pn,globIterateSync:ke,iterateSync:In,Glob:Q,hasMagic:Ke,escape:At,unescape:J});ne.glob=ne;var ni=_t(W("os"));async function ri(n,t,e,s,i,r){let o=await hi(n,t,e,s,i);if(!o)return;let h=await $n(e.cwd,s),a={key:o,value:h};for(let l of r)await l.saveCacheEntry(a)}async function oi(n,t,e,s,i,r){let o=await hi(n,t,e,s,i);if(!!o)for(let h of r){let a=await h.loadCacheEntry(o);if(a)return await Bn(e.cwd,a.value),[a,h]}}async function hi(n,t,e,s,i){let r=e.script,o=e.args,h=n.lockFileChecksum,a=Ye(n.topLevelWorkspace.anchoredLocator),l=Ye(t),c=await ai(e.cwd,s.inputIncludes,s.inputExcludes),f=await Wn(n,t,i),u=_n(e,s);if(!!f)return{script:r,args:o,lockFileChecksum:h,topLevelWorkspaceLocator:a,workspaceLocator:l,globFileHashes:c,dependencyWorkspacesGlobFileHashes:f,environmentVariables:u}}function _n(n,t){let e={};for(let s of re(t.environmentVariableIncludes)){let i={},r=new RegExp(s);for(let[o,h]of Object.entries(n.env))r.test(o)&&(i[o]=h);e[s]=i}return e}async function Wn(n,t,e){let s={},i=n.getWorkspaceByLocator(t);for(let r of i.getRecursiveWorkspaceDependencies()){let o=Ye(r.anchoredLocator),h=await ae(r.cwd,e);if(!h){e.reportError(si.MessageName.UNNAMED,`Did not find a valid ${D} in workspace ${o}. All workspaces you depend on also need to be cachable!`);return}let a={};for(let l of h.scriptsToCache)a[l.scriptName]=await ai(r.cwd,l.outputIncludes,l.outputExcludes);s[o]=a}return s}async function ai(n,t,e){let s={};for(let i of re(t)){let r=_.npath.fromPortablePath(n),o=ne.sync(i,{cwd:r,ignore:re(e)});o.sort();let h={};for(let a of o){let l=_.npath.toPortablePath(a),c=_.ppath.resolve(n,l);(await _.xfs.statPromise(c)).isFile()&&(h[l]=await jn(c))}s[i]=h}return s}async function jn(n){let t=ii.default.createHash("sha512"),e=await _.xfs.readFilePromise(n,"base64");return t.update(e),t.digest("base64")}async function $n(n,t){let e={};for(let r of re(t.outputIncludes)){let o=_.npath.fromPortablePath(n),h=ne.sync(r,{cwd:o,ignore:re(t.outputExcludes)});h.sort();let a={};for(let l of h){let c=_.npath.toPortablePath(l),f=_.ppath.resolve(n,c);if((await _.xfs.statPromise(f)).isFile()){let m=await _.xfs.readFilePromise(f,"base64");a[c]=m.toString()}}e[r]=a}let s=Date.now(),i=ni.default.hostname();return{globFileContents:e,createdAt:s,createdBy:i}}async function Bn(n,t){for(let e of Object.values(t.globFileContents))for(let[s,i]of Object.entries(e)){let r=_.ppath.join(n,s),o=_.ppath.dirname(r);await _.xfs.mkdirPromise(o,{recursive:!0}),await _.xfs.writeFilePromise(r,i,{encoding:"base64"})}}function Ye(n){return n.scope?`${n.scope}/${n.name}@${n.reference}`:`${n.name}@${n.reference}`}function re(n){return n===void 0?[]:typeof n=="string"?[n]:n}var Un="YSC_DISABLED",zn="YSC_READ_DISABLED",Gn="YSC_WRITE_DISABLED";function li(n){return Je(n,Un,"cacheDisabled")}function ci(n){return Je(n,zn,"cacheReadDisabled")}function fi(n){return Je(n,Gn,"cacheWriteDisabled")}function Je(n,t,e){let s=process.env[t];return typeof s=="string"?s==="true":n[e]||!1}async function Hn(n){let t=nt.Configuration.create(n.cwd);return nt.StreamReport.start({configuration:t,includeFooter:!1,stdout:n.stdout},async()=>{}).then(e=>[e,t])}var Vn=async(n,t,e,s,i)=>{let[r,o]=await Hn(i),h=await ae(i.cwd,r);if(!h||li(h))return n;let a=h.scriptsToCache.find(c=>c.scriptName===s);if(!a)return n;let l=await ts(h,{project:t,locator:e,scriptName:s,extra:i});return l.length===0&&r.reportError(nt.MessageName.UNNAMED,"Script was configured to be cached but no cache implementation was found! Please make sure to add cache implementations via their own plugin."),async()=>{if(!ci(h)){let f=await oi(t,e,i,a,r,l);if(f){let[u,m]=f,y=new Date(u.value.createdAt).toUTCString(),d=u.value.createdBy;return r.reportInfo(nt.MessageName.UNNAMED,`Script execution result was restored from ${m.name} cache! Created ${y} by ${d}`),Promise.resolve(0)}}let c=await n();return c===0&&!fi(h)&&await qn(r,o,"Updating script execution result cache",async()=>{await ri(t,e,i,a,r,l)}),c}};async function qn(n,t,e,s){let i=new Date().getMilliseconds();n.reportInfo(null,`\u250C ${e}`),await s();let o=new Date().getMilliseconds()-i;o>200?n.reportInfo(null,`\u2514 Completed in ${nt.formatUtils.pretty(t,o,nt.formatUtils.Type.DURATION)}`):n.reportInfo(null,"\u2514 Completed")}var Kn={hooks:{wrapScriptExecution:Vn}},Yn=Kn;return bi(Jn);})();
return plugin;
}
};
