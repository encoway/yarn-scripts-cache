/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@yarnpkg/plugin-scripts-cache",
factory: function (require) {
"use strict";var plugin=(()=>{var As=Object.create;var ee=Object.defineProperty;var ws=Object.getOwnPropertyDescriptor;var ys=Object.getOwnPropertyNames;var bs=Object.getPrototypeOf,Ss=Object.prototype.hasOwnProperty;var _=(s=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(s,{get:(t,e)=>(typeof require<"u"?require:t)[e]}):s)(function(s){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+s+'" is not supported')});var Mt=(s,t)=>()=>(t||s((t={exports:{}}).exports,t),t.exports),Bs=(s,t)=>{for(var e in t)ee(s,e,{get:t[e],enumerable:!0})},si=(s,t,e,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of ys(t))!Ss.call(s,n)&&n!==e&&ee(s,n,{get:()=>t[n],enumerable:!(i=ws(t,n))||i.enumerable});return s};var bt=(s,t,e)=>(e=s!=null?As(bs(s)):{},si(t||!s||!s.__esModule?ee(e,"default",{value:s,enumerable:!0}):e,s)),xs=s=>si(ee({},"__esModule",{value:!0}),s);var ni=Mt((kr,ie)=>{ie.exports.Space_Separator=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/;ie.exports.ID_Start=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/;ie.exports.ID_Continue=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/});var xe=Mt((Tr,ri)=>{var Be=ni();ri.exports={isSpaceSeparator(s){return typeof s=="string"&&Be.Space_Separator.test(s)},isIdStartChar(s){return typeof s=="string"&&(s>="a"&&s<="z"||s>="A"&&s<="Z"||s==="$"||s==="_"||Be.ID_Start.test(s))},isIdContinueChar(s){return typeof s=="string"&&(s>="a"&&s<="z"||s>="A"&&s<="Z"||s>="0"&&s<="9"||s==="$"||s==="_"||s==="\u200C"||s==="\u200D"||Be.ID_Continue.test(s))},isDigit(s){return typeof s=="string"&&/[0-9]/.test(s)},isHexDigit(s){return typeof s=="string"&&/[0-9A-Fa-f]/.test(s)}}});var ci=Mt((Or,hi)=>{var k=xe(),Ne,$,ut,ne,ct,K,T,Te,_t;hi.exports=function(t,e){Ne=String(t),$="start",ut=[],ne=0,ct=1,K=0,T=void 0,Te=void 0,_t=void 0;do T=vs(),ks[$]();while(T.type!=="eof");return typeof e=="function"?Re({"":_t},"",e):_t};function Re(s,t,e){let i=s[t];if(i!=null&&typeof i=="object")if(Array.isArray(i))for(let n=0;n<i.length;n++){let r=String(n),u=Re(i,r,e);u===void 0?delete i[r]:Object.defineProperty(i,r,{value:u,writable:!0,enumerable:!0,configurable:!0})}else for(let n in i){let r=Re(i,n,e);r===void 0?delete i[n]:Object.defineProperty(i,n,{value:r,writable:!0,enumerable:!0,configurable:!0})}return e.call(s,t,i)}var y,w,It,rt,S;function vs(){for(y="default",w="",It=!1,rt=1;;){S=ot();let s=oi[y]();if(s)return s}}function ot(){if(Ne[ne])return String.fromCodePoint(Ne.codePointAt(ne))}function d(){let s=ot();return s===`
`?(ct++,K=0):s?K+=s.length:K++,s&&(ne+=s.length),s}var oi={default(){switch(S){case"	":case"\v":case"\f":case" ":case"\xA0":case"\uFEFF":case`
`:case"\r":case"\u2028":case"\u2029":d();return;case"/":d(),y="comment";return;case void 0:return d(),B("eof")}if(k.isSpaceSeparator(S)){d();return}return oi[$]()},comment(){switch(S){case"*":d(),y="multiLineComment";return;case"/":d(),y="singleLineComment";return}throw x(d())},multiLineComment(){switch(S){case"*":d(),y="multiLineCommentAsterisk";return;case void 0:throw x(d())}d()},multiLineCommentAsterisk(){switch(S){case"*":d();return;case"/":d(),y="default";return;case void 0:throw x(d())}d(),y="multiLineComment"},singleLineComment(){switch(S){case`
`:case"\r":case"\u2028":case"\u2029":d(),y="default";return;case void 0:return d(),B("eof")}d()},value(){switch(S){case"{":case"[":return B("punctuator",d());case"n":return d(),pt("ull"),B("null",null);case"t":return d(),pt("rue"),B("boolean",!0);case"f":return d(),pt("alse"),B("boolean",!1);case"-":case"+":d()==="-"&&(rt=-1),y="sign";return;case".":w=d(),y="decimalPointLeading";return;case"0":w=d(),y="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":w=d(),y="decimalInteger";return;case"I":return d(),pt("nfinity"),B("numeric",1/0);case"N":return d(),pt("aN"),B("numeric",NaN);case'"':case"'":It=d()==='"',w="",y="string";return}throw x(d())},identifierNameStartEscape(){if(S!=="u")throw x(d());d();let s=ke();switch(s){case"$":case"_":break;default:if(!k.isIdStartChar(s))throw ui();break}w+=s,y="identifierName"},identifierName(){switch(S){case"$":case"_":case"\u200C":case"\u200D":w+=d();return;case"\\":d(),y="identifierNameEscape";return}if(k.isIdContinueChar(S)){w+=d();return}return B("identifier",w)},identifierNameEscape(){if(S!=="u")throw x(d());d();let s=ke();switch(s){case"$":case"_":case"\u200C":case"\u200D":break;default:if(!k.isIdContinueChar(s))throw ui();break}w+=s,y="identifierName"},sign(){switch(S){case".":w=d(),y="decimalPointLeading";return;case"0":w=d(),y="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":w=d(),y="decimalInteger";return;case"I":return d(),pt("nfinity"),B("numeric",rt*(1/0));case"N":return d(),pt("aN"),B("numeric",NaN)}throw x(d())},zero(){switch(S){case".":w+=d(),y="decimalPoint";return;case"e":case"E":w+=d(),y="decimalExponent";return;case"x":case"X":w+=d(),y="hexadecimal";return}return B("numeric",rt*0)},decimalInteger(){switch(S){case".":w+=d(),y="decimalPoint";return;case"e":case"E":w+=d(),y="decimalExponent";return}if(k.isDigit(S)){w+=d();return}return B("numeric",rt*Number(w))},decimalPointLeading(){if(k.isDigit(S)){w+=d(),y="decimalFraction";return}throw x(d())},decimalPoint(){switch(S){case"e":case"E":w+=d(),y="decimalExponent";return}if(k.isDigit(S)){w+=d(),y="decimalFraction";return}return B("numeric",rt*Number(w))},decimalFraction(){switch(S){case"e":case"E":w+=d(),y="decimalExponent";return}if(k.isDigit(S)){w+=d();return}return B("numeric",rt*Number(w))},decimalExponent(){switch(S){case"+":case"-":w+=d(),y="decimalExponentSign";return}if(k.isDigit(S)){w+=d(),y="decimalExponentInteger";return}throw x(d())},decimalExponentSign(){if(k.isDigit(S)){w+=d(),y="decimalExponentInteger";return}throw x(d())},decimalExponentInteger(){if(k.isDigit(S)){w+=d();return}return B("numeric",rt*Number(w))},hexadecimal(){if(k.isHexDigit(S)){w+=d(),y="hexadecimalInteger";return}throw x(d())},hexadecimalInteger(){if(k.isHexDigit(S)){w+=d();return}return B("numeric",rt*Number(w))},string(){switch(S){case"\\":d(),w+=Ns();return;case'"':if(It)return d(),B("string",w);w+=d();return;case"'":if(!It)return d(),B("string",w);w+=d();return;case`
`:case"\r":throw x(d());case"\u2028":case"\u2029":Ts(S);break;case void 0:throw x(d())}w+=d()},start(){switch(S){case"{":case"[":return B("punctuator",d())}y="value"},beforePropertyName(){switch(S){case"$":case"_":w=d(),y="identifierName";return;case"\\":d(),y="identifierNameStartEscape";return;case"}":return B("punctuator",d());case'"':case"'":It=d()==='"',y="string";return}if(k.isIdStartChar(S)){w+=d(),y="identifierName";return}throw x(d())},afterPropertyName(){if(S===":")return B("punctuator",d());throw x(d())},beforePropertyValue(){y="value"},afterPropertyValue(){switch(S){case",":case"}":return B("punctuator",d())}throw x(d())},beforeArrayValue(){if(S==="]")return B("punctuator",d());y="value"},afterArrayValue(){switch(S){case",":case"]":return B("punctuator",d())}throw x(d())},end(){throw x(d())}};function B(s,t){return{type:s,value:t,line:ct,column:K}}function pt(s){for(let t of s){if(ot()!==t)throw x(d());d()}}function Ns(){switch(ot()){case"b":return d(),"\b";case"f":return d(),"\f";case"n":return d(),`
`;case"r":return d(),"\r";case"t":return d(),"	";case"v":return d(),"\v";case"0":if(d(),k.isDigit(ot()))throw x(d());return"\0";case"x":return d(),Rs();case"u":return d(),ke();case`
`:case"\u2028":case"\u2029":return d(),"";case"\r":return d(),ot()===`
`&&d(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw x(d());case void 0:throw x(d())}return d()}function Rs(){let s="",t=ot();if(!k.isHexDigit(t)||(s+=d(),t=ot(),!k.isHexDigit(t)))throw x(d());return s+=d(),String.fromCodePoint(parseInt(s,16))}function ke(){let s="",t=4;for(;t-- >0;){let e=ot();if(!k.isHexDigit(e))throw x(d());s+=d()}return String.fromCodePoint(parseInt(s,16))}var ks={start(){if(T.type==="eof")throw Et();ve()},beforePropertyName(){switch(T.type){case"identifier":case"string":Te=T.value,$="afterPropertyName";return;case"punctuator":se();return;case"eof":throw Et()}},afterPropertyName(){if(T.type==="eof")throw Et();$="beforePropertyValue"},beforePropertyValue(){if(T.type==="eof")throw Et();ve()},beforeArrayValue(){if(T.type==="eof")throw Et();if(T.type==="punctuator"&&T.value==="]"){se();return}ve()},afterPropertyValue(){if(T.type==="eof")throw Et();switch(T.value){case",":$="beforePropertyName";return;case"}":se()}},afterArrayValue(){if(T.type==="eof")throw Et();switch(T.value){case",":$="beforeArrayValue";return;case"]":se()}},end(){}};function ve(){let s;switch(T.type){case"punctuator":switch(T.value){case"{":s={};break;case"[":s=[];break}break;case"null":case"boolean":case"numeric":case"string":s=T.value;break}if(_t===void 0)_t=s;else{let t=ut[ut.length-1];Array.isArray(t)?t.push(s):Object.defineProperty(t,Te,{value:s,writable:!0,enumerable:!0,configurable:!0})}if(s!==null&&typeof s=="object")ut.push(s),Array.isArray(s)?$="beforeArrayValue":$="beforePropertyName";else{let t=ut[ut.length-1];t==null?$="end":Array.isArray(t)?$="afterArrayValue":$="afterPropertyValue"}}function se(){ut.pop();let s=ut[ut.length-1];s==null?$="end":Array.isArray(s)?$="afterArrayValue":$="afterPropertyValue"}function x(s){return re(s===void 0?`JSON5: invalid end of input at ${ct}:${K}`:`JSON5: invalid character '${ai(s)}' at ${ct}:${K}`)}function Et(){return re(`JSON5: invalid end of input at ${ct}:${K}`)}function ui(){return K-=5,re(`JSON5: invalid identifier character at ${ct}:${K}`)}function Ts(s){console.warn(`JSON5: '${ai(s)}' in strings is not valid ECMAScript; consider escaping`)}function ai(s){let t={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(t[s])return t[s];if(s<" "){let e=s.charCodeAt(0).toString(16);return"\\x"+("00"+e).substring(e.length)}return s}function re(s){let t=new SyntaxError(s);return t.lineNumber=ct,t.columnNumber=K,t}});var fi=Mt((Pr,li)=>{var Oe=xe();li.exports=function(t,e,i){let n=[],r="",u,o,a="",h;if(e!=null&&typeof e=="object"&&!Array.isArray(e)&&(i=e.space,h=e.quote,e=e.replacer),typeof e=="function")o=e;else if(Array.isArray(e)){u=[];for(let f of e){let C;typeof f=="string"?C=f:(typeof f=="number"||f instanceof String||f instanceof Number)&&(C=String(f)),C!==void 0&&u.indexOf(C)<0&&u.push(C)}}return i instanceof Number?i=Number(i):i instanceof String&&(i=String(i)),typeof i=="number"?i>0&&(i=Math.min(10,Math.floor(i)),a="          ".substr(0,i)):typeof i=="string"&&(a=i.substr(0,10)),c("",{"":t});function c(f,C){let E=C[f];switch(E!=null&&(typeof E.toJSON5=="function"?E=E.toJSON5(f):typeof E.toJSON=="function"&&(E=E.toJSON(f))),o&&(E=o.call(C,f,E)),E instanceof Number?E=Number(E):E instanceof String?E=String(E):E instanceof Boolean&&(E=E.valueOf()),E){case null:return"null";case!0:return"true";case!1:return"false"}if(typeof E=="string")return l(E,!1);if(typeof E=="number")return String(E);if(typeof E=="object")return Array.isArray(E)?g(E):D(E)}function l(f){let C={"'":.1,'"':.2},E={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},A="";for(let m=0;m<f.length;m++){let b=f[m];switch(b){case"'":case'"':C[b]++,A+=b;continue;case"\0":if(Oe.isDigit(f[m+1])){A+="\\x00";continue}}if(E[b]){A+=E[b];continue}if(b<" "){let I=b.charCodeAt(0).toString(16);A+="\\x"+("00"+I).substring(I.length);continue}A+=b}let F=h||Object.keys(C).reduce((m,b)=>C[m]<C[b]?m:b);return A=A.replace(new RegExp(F,"g"),E[F]),F+A+F}function D(f){if(n.indexOf(f)>=0)throw TypeError("Converting circular structure to JSON5");n.push(f);let C=r;r=r+a;let E=u||Object.keys(f),A=[];for(let m of E){let b=c(m,f);if(b!==void 0){let I=p(m)+":";a!==""&&(I+=" "),I+=b,A.push(I)}}let F;if(A.length===0)F="{}";else{let m;if(a==="")m=A.join(","),F="{"+m+"}";else{let b=`,
`+r;m=A.join(b),F=`{
`+r+m+`,
`+C+"}"}}return n.pop(),r=C,F}function p(f){if(f.length===0)return l(f,!0);let C=String.fromCodePoint(f.codePointAt(0));if(!Oe.isIdStartChar(C))return l(f,!0);for(let E=C.length;E<f.length;E++)if(!Oe.isIdContinueChar(String.fromCodePoint(f.codePointAt(E))))return l(f,!0);return f}function g(f){if(n.indexOf(f)>=0)throw TypeError("Converting circular structure to JSON5");n.push(f);let C=r;r=r+a;let E=[];for(let F=0;F<f.length;F++){let m=c(String(F),f);E.push(m!==void 0?m:"null")}let A;if(E.length===0)A="[]";else if(a==="")A="["+E.join(",")+"]";else{let F=`,
`+r,m=E.join(F);A=`[
`+r+m+`,
`+C+"]"}return n.pop(),r=C,A}}});var di=Mt((Mr,Di)=>{var Os=ci(),Ps=fi(),Ms={parse:Os,stringify:Ps};Di.exports=Ms});var vr={};Bs(vr,{default:()=>xr});var nt=_("@yarnpkg/core");var v=_("@yarnpkg/core"),mt=_("@yarnpkg/fslib"),mi=bt(di()),pi=".yarn-scripts-cache-rc.json",Ei=".yarn-scripts-cache-rc.json5";async function ue(s,t){let e=await Is(s,t);if(e){let i=await mt.xfs.readFilePromise(e.path,"utf-8");try{let n=mi.default.parse(i.toString());if(_s(n,e,t))return n}catch(n){t.reportErrorOnce(v.MessageName.EXCEPTION,`${e.name} is not valid:`),t.reportExceptionOnce(n)}}}async function Is(s,t){let e=mt.ppath.join(s,pi),i=mt.ppath.join(s,Ei),n=await mt.xfs.existsPromise(e),r=await mt.xfs.existsPromise(i);if(n&&r){t.reportErrorOnce(v.MessageName.EXCEPTION,"Found redundant configuration files, please choose either json or json5 extension!");return}if(n||r)return{path:n?e:i,name:n?pi:Ei}}function _s(s,t,e){return typeof s!="object"?(e.reportError(v.MessageName.UNNAMED,`${t.name} is not valid: config is not an object!`),!1):Array.isArray(s.scriptsToCache)?s.scriptsToCache.find(i=>typeof i!="object")!==void 0?(e.reportError(v.MessageName.UNNAMED,`${t.name} is not valid: config.scriptsToCache should only contain objects!`),!1):s.scriptsToCache.find(i=>!Ls(i,t,e))!==void 0?!1:s.cacheDisabled!==void 0&&typeof s.cacheDisabled!="boolean"?(e.reportError(v.MessageName.UNNAMED,`${t.name} is not valid: config.cacheDisabled should be a boolean!`),!1):s.cacheConfigs&&typeof s.cacheConfigs!="object"?(e.reportError(v.MessageName.UNNAMED,`${t.name} is not valid: config.cacheConfigs should be an object!`),!1):!0:(e.reportError(v.MessageName.UNNAMED,`${t.name} is not valid: config.scriptsToCache is not an array!`),!1)}function Ls(s,t,e){if(typeof s.scriptName!="string")return e.reportError(v.MessageName.UNNAMED,`${t.name} is not valid: config.scriptsToCache.scriptName is no string!`),!1;if(s.inputIncludes!==void 0&&typeof s.inputIncludes!="string"){if(!Array.isArray(s.inputIncludes))return e.reportError(v.MessageName.UNNAMED,`${t.name} is not valid: config.scriptsToCache.inputIncludes for ${s.scriptName} is not an array!`),!1;if(s.inputIncludes.find(i=>typeof i!="string")!==void 0)return e.reportError(v.MessageName.UNNAMED,`${t.name} is not valid: config.scriptsToCache.inputIncludes for ${s.scriptName} should only contain strings!`),!1}if(s.inputExcludes!==void 0&&typeof s.inputExcludes!="string"){if(!Array.isArray(s.inputExcludes))return e.reportError(v.MessageName.UNNAMED,`${t.name} is not valid: config.scriptsToCache.inputExcludes for ${s.scriptName} is not an array!`),!1;if(s.inputExcludes.find(i=>typeof i!="string")!==void 0)return e.reportError(v.MessageName.UNNAMED,`${t.name} is not valid: config.scriptsToCache.inputExcludes for ${s.scriptName} should only contain strings!`),!1}if(s.outputIncludes!==void 0&&typeof s.outputIncludes!="string"){if(!Array.isArray(s.outputIncludes))return e.reportError(v.MessageName.UNNAMED,`${t.name} is not valid: config.scriptsToCache.outputIncludes for ${s.scriptName} is not an array!`),!1;if(s.outputIncludes.find(i=>typeof i!="string")!==void 0)return e.reportError(v.MessageName.UNNAMED,`${t.name} is not valid: config.scriptsToCache.outputIncludes for ${s.scriptName} should only contain strings!`),!1}if(s.outputExcludes!==void 0&&typeof s.outputExcludes!="string"){if(!Array.isArray(s.outputExcludes))return e.reportError(v.MessageName.UNNAMED,`${t.name} is not valid: config.scriptsToCache.outputExcludes for ${s.scriptName} is not an array!`),!1;if(s.outputExcludes.find(i=>typeof i!="string")!==void 0)return e.reportError(v.MessageName.UNNAMED,`${t.name} is not valid: config.scriptsToCache.outputExcludes for ${s.scriptName} should only contain strings!`),!1}if(s.environmentVariableIncludes!==void 0&&typeof s.environmentVariableIncludes!="string"){if(!Array.isArray(s.environmentVariableIncludes))return e.reportError(v.MessageName.UNNAMED,`${t.name} is not valid: config.scriptsToCache.environmentVariableIncludes for ${s.scriptName} is not an array!`),!1;if(s.environmentVariableIncludes.find(i=>typeof i!="string")!==void 0)return e.reportError(v.MessageName.UNNAMED,`${t.name} is not valid: config.scriptsToCache.environmentVariableIncludes for ${s.scriptName} should only contain strings!`),!1}if(s.clearBeforeRestore!==void 0&&typeof s.clearBeforeRestore!="string"){if(!Array.isArray(s.clearBeforeRestore))return e.reportError(v.MessageName.UNNAMED,`${t.name} is not valid: config.scriptsToCache.clearBeforeRestore for ${s.scriptName} is not an array!`),!1;if(s.clearBeforeRestore.find(i=>typeof i!="string")!==void 0)return e.reportError(v.MessageName.UNNAMED,`${t.name} is not valid: config.scriptsToCache.clearBeforeRestore for ${s.scriptName} should only contain strings!`),!1}return!0}async function Ci(s,t){let e=t.project.configuration,i=[],n=[];return await e.triggerHook(r=>r.beforeYarnScriptsCacheUsage,i,n,s,t),{cacheRegistry:i.sort((r,u)=>r.order-u.order),statisticsServiceRegistry:n}}var ei=_("@yarnpkg/core"),R=_("@yarnpkg/fslib"),ls=bt(_("crypto"));var Pe=(s,t,e)=>{let i=s instanceof RegExp?gi(s,e):s,n=t instanceof RegExp?gi(t,e):t,r=i!==null&&n!=null&&Ws(i,n,e);return r&&{start:r[0],end:r[1],pre:e.slice(0,r[0]),body:e.slice(r[0]+i.length,r[1]),post:e.slice(r[1]+n.length)}},gi=(s,t)=>{let e=t.match(s);return e?e[0]:null},Ws=(s,t,e)=>{let i,n,r,u,o,a=e.indexOf(s),h=e.indexOf(t,a+1),c=a;if(a>=0&&h>0){if(s===t)return[a,h];for(i=[],r=e.length;c>=0&&!o;){if(c===a)i.push(c),a=e.indexOf(s,c+1);else if(i.length===1){let l=i.pop();l!==void 0&&(o=[l,h])}else n=i.pop(),n!==void 0&&n<r&&(r=n,u=h),h=e.indexOf(t,c+1);c=a<h&&a>=0?a:h}i.length&&u!==void 0&&(o=[r,u])}return o};var Fi="\0SLASH"+Math.random()+"\0",Ai="\0OPEN"+Math.random()+"\0",Ie="\0CLOSE"+Math.random()+"\0",wi="\0COMMA"+Math.random()+"\0",yi="\0PERIOD"+Math.random()+"\0",js=new RegExp(Fi,"g"),$s=new RegExp(Ai,"g"),Us=new RegExp(Ie,"g"),zs=new RegExp(wi,"g"),Gs=new RegExp(yi,"g"),Vs=/\\\\/g,Hs=/\\{/g,qs=/\\}/g,Js=/\\,/g,Ks=/\\./g;function Me(s){return isNaN(s)?s.charCodeAt(0):parseInt(s,10)}function Ys(s){return s.replace(Vs,Fi).replace(Hs,Ai).replace(qs,Ie).replace(Js,wi).replace(Ks,yi)}function Xs(s){return s.replace(js,"\\").replace($s,"{").replace(Us,"}").replace(zs,",").replace(Gs,".")}function bi(s){if(!s)return[""];let t=[],e=Pe("{","}",s);if(!e)return s.split(",");let{pre:i,body:n,post:r}=e,u=i.split(",");u[u.length-1]+="{"+n+"}";let o=bi(r);return r.length&&(u[u.length-1]+=o.shift(),u.push.apply(u,o)),t.push.apply(t,u),t}function Si(s){return s?(s.slice(0,2)==="{}"&&(s="\\{\\}"+s.slice(2)),Lt(Ys(s),!0).map(Xs)):[]}function Zs(s){return"{"+s+"}"}function Qs(s){return/^-?0\d/.test(s)}function tn(s,t){return s<=t}function en(s,t){return s>=t}function Lt(s,t){let e=[],i=Pe("{","}",s);if(!i)return[s];let n=i.pre,r=i.post.length?Lt(i.post,!1):[""];if(/\$$/.test(i.pre))for(let u=0;u<r.length;u++){let o=n+"{"+i.body+"}"+r[u];e.push(o)}else{let u=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),o=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),a=u||o,h=i.body.indexOf(",")>=0;if(!a&&!h)return i.post.match(/,(?!,).*\}/)?(s=i.pre+"{"+i.body+Ie+i.post,Lt(s)):[s];let c;if(a)c=i.body.split(/\.\./);else if(c=bi(i.body),c.length===1&&c[0]!==void 0&&(c=Lt(c[0],!1).map(Zs),c.length===1))return r.map(D=>i.pre+c[0]+D);let l;if(a&&c[0]!==void 0&&c[1]!==void 0){let D=Me(c[0]),p=Me(c[1]),g=Math.max(c[0].length,c[1].length),f=c.length===3&&c[2]!==void 0?Math.abs(Me(c[2])):1,C=tn;p<D&&(f*=-1,C=en);let A=c.some(Qs);l=[];for(let F=D;C(F,p);F+=f){let m;if(o)m=String.fromCharCode(F),m==="\\"&&(m="");else if(m=String(F),A){let b=g-m.length;if(b>0){let I=new Array(b+1).join("0");F<0?m="-"+I+m.slice(1):m=I+m}}l.push(m)}}else{l=[];for(let D=0;D<c.length;D++)l.push.apply(l,Lt(c[D],!1))}for(let D=0;D<l.length;D++)for(let p=0;p<r.length;p++){let g=n+l[D]+r[p];(!t||a||g)&&e.push(g)}}return e}var Wt=s=>{if(typeof s!="string")throw new TypeError("invalid pattern");if(s.length>65536)throw new TypeError("pattern is too long")};var sn={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},jt=s=>s.replace(/[[\]\\-]/g,"\\$&"),nn=s=>s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Bi=s=>s.join(""),xi=(s,t)=>{let e=t;if(s.charAt(e)!=="[")throw new Error("not in a brace expression");let i=[],n=[],r=e+1,u=!1,o=!1,a=!1,h=!1,c=e,l="";t:for(;r<s.length;){let f=s.charAt(r);if((f==="!"||f==="^")&&r===e+1){h=!0,r++;continue}if(f==="]"&&u&&!a){c=r+1;break}if(u=!0,f==="\\"&&!a){a=!0,r++;continue}if(f==="["&&!a){for(let[C,[E,A,F]]of Object.entries(sn))if(s.startsWith(C,r)){if(l)return["$.",!1,s.length-e,!0];r+=C.length,F?n.push(E):i.push(E),o=o||A;continue t}}if(a=!1,l){f>l?i.push(jt(l)+"-"+jt(f)):f===l&&i.push(jt(f)),l="",r++;continue}if(s.startsWith("-]",r+1)){i.push(jt(f+"-")),r+=2;continue}if(s.startsWith("-",r+1)){l=f,r+=2;continue}i.push(jt(f)),r++}if(c<r)return["",!1,0,!1];if(!i.length&&!n.length)return["$.",!1,s.length-e,!0];if(n.length===0&&i.length===1&&/^\\?.$/.test(i[0])&&!h){let f=i[0].length===2?i[0].slice(-1):i[0];return[nn(f),!1,c-e,!1]}let D="["+(h?"^":"")+Bi(i)+"]",p="["+(h?"":"^")+Bi(n)+"]";return[i.length&&n.length?"("+D+"|"+p+")":i.length?D:p,o,c-e,!0]};var Y=(s,{windowsPathsNoEscape:t=!1,magicalBraces:e=!0}={})=>e?t?s.replace(/\[([^\/\\])\]/g,"$1"):s.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"):t?s.replace(/\[([^\/\\{}])\]/g,"$1"):s.replace(/((?!\\).|^)\[([^\/\\{}])\]/g,"$1$2").replace(/\\([^\/{}])/g,"$1");var rn=new Set(["!","?","+","*","@"]),vi=s=>rn.has(s),un="(?!(?:^|/)\\.\\.?(?:$|/))",oe="(?!\\.)",on=new Set(["[","."]),an=new Set(["..","."]),hn=new Set("().*{}+?[]^$\\!"),cn=s=>s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),_e="[^/]",Ni=_e+"*?",Ri=_e+"+?",St=class s{type;#t;#i;#r=!1;#n=[];#u;#F;#m;#c=!1;#o;#f;#l=!1;constructor(t,e,i={}){this.type=t,t&&(this.#i=!0),this.#u=e,this.#t=this.#u?this.#u.#t:this,this.#o=this.#t===this?i:this.#t.#o,this.#m=this.#t===this?[]:this.#t.#m,t==="!"&&!this.#t.#c&&this.#m.push(this),this.#F=this.#u?this.#u.#n.length:0}get hasMagic(){if(this.#i!==void 0)return this.#i;for(let t of this.#n)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#i=!0;return this.#i}toString(){return this.#f!==void 0?this.#f:this.type?this.#f=this.type+"("+this.#n.map(t=>String(t)).join("|")+")":this.#f=this.#n.map(t=>String(t)).join("")}#a(){if(this!==this.#t)throw new Error("should only call on root");if(this.#c)return this;this.toString(),this.#c=!0;let t;for(;t=this.#m.pop();){if(t.type!=="!")continue;let e=t,i=e.#u;for(;i;){for(let n=e.#F+1;!i.type&&n<i.#n.length;n++)for(let r of t.#n){if(typeof r=="string")throw new Error("string part in extglob AST??");r.copyIn(i.#n[n])}e=i,i=e.#u}}return this}push(...t){for(let e of t)if(e!==""){if(typeof e!="string"&&!(e instanceof s&&e.#u===this))throw new Error("invalid part: "+e);this.#n.push(e)}}toJSON(){let t=this.type===null?this.#n.slice().map(e=>typeof e=="string"?e:e.toJSON()):[this.type,...this.#n.map(e=>e.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#c&&this.#u?.type==="!")&&t.push({}),t}isStart(){if(this.#t===this)return!0;if(!this.#u?.isStart())return!1;if(this.#F===0)return!0;let t=this.#u;for(let e=0;e<this.#F;e++){let i=t.#n[e];if(!(i instanceof s&&i.type==="!"))return!1}return!0}isEnd(){if(this.#t===this||this.#u?.type==="!")return!0;if(!this.#u?.isEnd())return!1;if(!this.type)return this.#u?.isEnd();let t=this.#u?this.#u.#n.length:0;return this.#F===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){let e=new s(this.type,t);for(let i of this.#n)e.copyIn(i);return e}static#s(t,e,i,n){let r=!1,u=!1,o=-1,a=!1;if(e.type===null){let p=i,g="";for(;p<t.length;){let f=t.charAt(p++);if(r||f==="\\"){r=!r,g+=f;continue}if(u){p===o+1?(f==="^"||f==="!")&&(a=!0):f==="]"&&!(p===o+2&&a)&&(u=!1),g+=f;continue}else if(f==="["){u=!0,o=p,a=!1,g+=f;continue}if(!n.noext&&vi(f)&&t.charAt(p)==="("){e.push(g),g="";let C=new s(f,e);p=s.#s(t,C,p,n),e.push(C);continue}g+=f}return e.push(g),p}let h=i+1,c=new s(null,e),l=[],D="";for(;h<t.length;){let p=t.charAt(h++);if(r||p==="\\"){r=!r,D+=p;continue}if(u){h===o+1?(p==="^"||p==="!")&&(a=!0):p==="]"&&!(h===o+2&&a)&&(u=!1),D+=p;continue}else if(p==="["){u=!0,o=h,a=!1,D+=p;continue}if(vi(p)&&t.charAt(h)==="("){c.push(D),D="";let g=new s(p,c);c.push(g),h=s.#s(t,g,h,n);continue}if(p==="|"){c.push(D),D="",l.push(c),c=new s(null,e);continue}if(p===")")return D===""&&e.#n.length===0&&(e.#l=!0),c.push(D),D="",e.push(...l,c),h;D+=p}return e.type=null,e.#i=void 0,e.#n=[t.substring(i-1)],h}static fromGlob(t,e={}){let i=new s(null,void 0,e);return s.#s(t,i,0,e),i}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();let t=this.toString(),[e,i,n,r]=this.toRegExpSource();if(!(n||this.#i||this.#o.nocase&&!this.#o.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return i;let o=(this.#o.nocase?"i":"")+(r?"u":"");return Object.assign(new RegExp(`^${e}$`,o),{_src:e,_glob:t})}get options(){return this.#o}toRegExpSource(t){let e=t??!!this.#o.dot;if(this.#t===this&&this.#a(),!this.type){let a=this.isStart()&&this.isEnd()&&!this.#n.some(p=>typeof p!="string"),h=this.#n.map(p=>{let[g,f,C,E]=typeof p=="string"?s.#A(p,this.#i,a):p.toRegExpSource(t);return this.#i=this.#i||C,this.#r=this.#r||E,g}).join(""),c="";if(this.isStart()&&typeof this.#n[0]=="string"&&!(this.#n.length===1&&an.has(this.#n[0]))){let g=on,f=e&&g.has(h.charAt(0))||h.startsWith("\\.")&&g.has(h.charAt(2))||h.startsWith("\\.\\.")&&g.has(h.charAt(4)),C=!e&&!t&&g.has(h.charAt(0));c=f?un:C?oe:""}let l="";return this.isEnd()&&this.#t.#c&&this.#u?.type==="!"&&(l="(?:$|\\/)"),[c+h+l,Y(h),this.#i=!!this.#i,this.#r]}let i=this.type==="*"||this.type==="+",n=this.type==="!"?"(?:(?!(?:":"(?:",r=this.#D(e);if(this.isStart()&&this.isEnd()&&!r&&this.type!=="!"){let a=this.toString();return this.#n=[a],this.type=null,this.#i=void 0,[a,Y(this.toString()),!1,!1]}let u=!i||t||e||!oe?"":this.#D(!0);u===r&&(u=""),u&&(r=`(?:${r})(?:${u})*?`);let o="";if(this.type==="!"&&this.#l)o=(this.isStart()&&!e?oe:"")+Ri;else{let a=this.type==="!"?"))"+(this.isStart()&&!e&&!t?oe:"")+Ni+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&u?")":this.type==="*"&&u?")?":`)${this.type}`;o=n+r+a}return[o,Y(r),this.#i=!!this.#i,this.#r]}#D(t){return this.#n.map(e=>{if(typeof e=="string")throw new Error("string type in extglob ast??");let[i,n,r,u]=e.toRegExpSource(t);return this.#r=this.#r||u,i}).filter(e=>!(this.isStart()&&this.isEnd())||!!e).join("|")}static#A(t,e,i=!1){let n=!1,r="",u=!1;for(let o=0;o<t.length;o++){let a=t.charAt(o);if(n){n=!1,r+=(hn.has(a)?"\\":"")+a;continue}if(a==="\\"){o===t.length-1?r+="\\\\":n=!0;continue}if(a==="["){let[h,c,l,D]=xi(t,o);if(l){r+=h,u=u||c,o+=l-1,e=e||D;continue}}if(a==="*"){r+=i&&t==="*"?Ri:Ni,e=!0;continue}if(a==="?"){r+=_e,e=!0;continue}r+=cn(a)}return[r,Y(t),!!e,u]}};var Bt=(s,{windowsPathsNoEscape:t=!1,magicalBraces:e=!1}={})=>e?t?s.replace(/[?*()[\]{}]/g,"[$&]"):s.replace(/[?*()[\]\\{}]/g,"\\$&"):t?s.replace(/[?*()[\]]/g,"[$&]"):s.replace(/[?*()[\]\\]/g,"\\$&");var U=(s,t,e={})=>(Wt(t),!e.nocomment&&t.charAt(0)==="#"?!1:new G(t,e).match(s)),ln=/^\*+([^+@!?\*\[\(]*)$/,fn=s=>t=>!t.startsWith(".")&&t.endsWith(s),Dn=s=>t=>t.endsWith(s),dn=s=>(s=s.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(s)),pn=s=>(s=s.toLowerCase(),t=>t.toLowerCase().endsWith(s)),En=/^\*+\.\*+$/,mn=s=>!s.startsWith(".")&&s.includes("."),Cn=s=>s!=="."&&s!==".."&&s.includes("."),gn=/^\.\*+$/,Fn=s=>s!=="."&&s!==".."&&s.startsWith("."),An=/^\*+$/,wn=s=>s.length!==0&&!s.startsWith("."),yn=s=>s.length!==0&&s!=="."&&s!=="..",bn=/^\?+([^+@!?\*\[\(]*)?$/,Sn=([s,t=""])=>{let e=Oi([s]);return t?(t=t.toLowerCase(),i=>e(i)&&i.toLowerCase().endsWith(t)):e},Bn=([s,t=""])=>{let e=Pi([s]);return t?(t=t.toLowerCase(),i=>e(i)&&i.toLowerCase().endsWith(t)):e},xn=([s,t=""])=>{let e=Pi([s]);return t?i=>e(i)&&i.endsWith(t):e},vn=([s,t=""])=>{let e=Oi([s]);return t?i=>e(i)&&i.endsWith(t):e},Oi=([s])=>{let t=s.length;return e=>e.length===t&&!e.startsWith(".")},Pi=([s])=>{let t=s.length;return e=>e.length===t&&e!=="."&&e!==".."},Mi=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",ki={win32:{sep:"\\"},posix:{sep:"/"}},Nn=Mi==="win32"?ki.win32.sep:ki.posix.sep;U.sep=Nn;var L=Symbol("globstar **");U.GLOBSTAR=L;var Rn="[^/]",kn=Rn+"*?",Tn="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",On="(?:(?!(?:\\/|^)\\.).)*?",Pn=(s,t={})=>e=>U(e,s,t);U.filter=Pn;var H=(s,t={})=>Object.assign({},s,t),Mn=s=>{if(!s||typeof s!="object"||!Object.keys(s).length)return U;let t=U;return Object.assign((i,n,r={})=>t(i,n,H(s,r)),{Minimatch:class extends t.Minimatch{constructor(n,r={}){super(n,H(s,r))}static defaults(n){return t.defaults(H(s,n)).Minimatch}},AST:class extends t.AST{constructor(n,r,u={}){super(n,r,H(s,u))}static fromGlob(n,r={}){return t.AST.fromGlob(n,H(s,r))}},unescape:(i,n={})=>t.unescape(i,H(s,n)),escape:(i,n={})=>t.escape(i,H(s,n)),filter:(i,n={})=>t.filter(i,H(s,n)),defaults:i=>t.defaults(H(s,i)),makeRe:(i,n={})=>t.makeRe(i,H(s,n)),braceExpand:(i,n={})=>t.braceExpand(i,H(s,n)),match:(i,n,r={})=>t.match(i,n,H(s,r)),sep:t.sep,GLOBSTAR:L})};U.defaults=Mn;var Ii=(s,t={})=>(Wt(s),t.nobrace||!/\{(?:(?!\{).)*\}/.test(s)?[s]:Si(s));U.braceExpand=Ii;var In=(s,t={})=>new G(s,t).makeRe();U.makeRe=In;var _n=(s,t,e={})=>{let i=new G(t,e);return s=s.filter(n=>i.match(n)),i.options.nonull&&!s.length&&s.push(t),s};U.match=_n;var Ti=/[?*]|[+@!]\(.*?\)|\[|\]/,Ln=s=>s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),G=class{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,e={}){Wt(t),e=e||{},this.options=e,this.pattern=t,this.platform=e.platform||Mi,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!e.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!e.nonegate,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=e.windowsNoMagicRoot!==void 0?e.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let t of this.set)for(let e of t)if(typeof e!="string")return!0;return!1}debug(...t){}make(){let t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],e.debug&&(this.debug=(...r)=>console.error(...r)),this.debug(this.pattern,this.globSet);let i=this.globSet.map(r=>this.slashSplit(r));this.globParts=this.preprocess(i),this.debug(this.pattern,this.globParts);let n=this.globParts.map((r,u,o)=>{if(this.isWindows&&this.windowsNoMagicRoot){let a=r[0]===""&&r[1]===""&&(r[2]==="?"||!Ti.test(r[2]))&&!Ti.test(r[3]),h=/^[a-z]:/i.test(r[0]);if(a)return[...r.slice(0,4),...r.slice(4).map(c=>this.parse(c))];if(h)return[r[0],...r.slice(1).map(c=>this.parse(c))]}return r.map(a=>this.parse(a))});if(this.debug(this.pattern,n),this.set=n.filter(r=>r.indexOf(!1)===-1),this.isWindows)for(let r=0;r<this.set.length;r++){let u=this.set[r];u[0]===""&&u[1]===""&&this.globParts[r][2]==="?"&&typeof u[3]=="string"&&/^[a-z]:$/i.test(u[3])&&(u[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let i=0;i<t.length;i++)for(let n=0;n<t[i].length;n++)t[i][n]==="**"&&(t[i][n]="*");let{optimizationLevel:e=1}=this.options;return e>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):e>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(e=>{let i=-1;for(;(i=e.indexOf("**",i+1))!==-1;){let n=i;for(;e[n+1]==="**";)n++;n!==i&&e.splice(i,n-i)}return e})}levelOneOptimize(t){return t.map(e=>(e=e.reduce((i,n)=>{let r=i[i.length-1];return n==="**"&&r==="**"?i:n===".."&&r&&r!==".."&&r!=="."&&r!=="**"?(i.pop(),i):(i.push(n),i)},[]),e.length===0?[""]:e))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let e=!1;do{if(e=!1,!this.preserveMultipleSlashes){for(let n=1;n<t.length-1;n++){let r=t[n];n===1&&r===""&&t[0]===""||(r==="."||r==="")&&(e=!0,t.splice(n,1),n--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(e=!0,t.pop())}let i=0;for(;(i=t.indexOf("..",i+1))!==-1;){let n=t[i-1];n&&n!=="."&&n!==".."&&n!=="**"&&(e=!0,t.splice(i-1,2),i-=2)}}while(e);return t.length===0?[""]:t}firstPhasePreProcess(t){let e=!1;do{e=!1;for(let i of t){let n=-1;for(;(n=i.indexOf("**",n+1))!==-1;){let u=n;for(;i[u+1]==="**";)u++;u>n&&i.splice(n+1,u-n);let o=i[n+1],a=i[n+2],h=i[n+3];if(o!==".."||!a||a==="."||a===".."||!h||h==="."||h==="..")continue;e=!0,i.splice(n,1);let c=i.slice(0);c[n]="**",t.push(c),n--}if(!this.preserveMultipleSlashes){for(let u=1;u<i.length-1;u++){let o=i[u];u===1&&o===""&&i[0]===""||(o==="."||o==="")&&(e=!0,i.splice(u,1),u--)}i[0]==="."&&i.length===2&&(i[1]==="."||i[1]==="")&&(e=!0,i.pop())}let r=0;for(;(r=i.indexOf("..",r+1))!==-1;){let u=i[r-1];if(u&&u!=="."&&u!==".."&&u!=="**"){e=!0;let a=r===1&&i[r+1]==="**"?["."]:[];i.splice(r-1,2,...a),i.length===0&&i.push(""),r-=2}}}}while(e);return t}secondPhasePreProcess(t){for(let e=0;e<t.length-1;e++)for(let i=e+1;i<t.length;i++){let n=this.partsMatch(t[e],t[i],!this.preserveMultipleSlashes);if(n){t[e]=[],t[i]=n;break}}return t.filter(e=>e.length)}partsMatch(t,e,i=!1){let n=0,r=0,u=[],o="";for(;n<t.length&&r<e.length;)if(t[n]===e[r])u.push(o==="b"?e[r]:t[n]),n++,r++;else if(i&&t[n]==="**"&&e[r]===t[n+1])u.push(t[n]),n++;else if(i&&e[r]==="**"&&t[n]===e[r+1])u.push(e[r]),r++;else if(t[n]==="*"&&e[r]&&(this.options.dot||!e[r].startsWith("."))&&e[r]!=="**"){if(o==="b")return!1;o="a",u.push(t[n]),n++,r++}else if(e[r]==="*"&&t[n]&&(this.options.dot||!t[n].startsWith("."))&&t[n]!=="**"){if(o==="a")return!1;o="b",u.push(e[r]),n++,r++}else return!1;return t.length===e.length&&u}parseNegate(){if(this.nonegate)return;let t=this.pattern,e=!1,i=0;for(let n=0;n<t.length&&t.charAt(n)==="!";n++)e=!e,i++;i&&(this.pattern=t.slice(i)),this.negate=e}matchOne(t,e,i=!1){let n=this.options;if(this.isWindows){let f=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),C=!f&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),E=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),A=!E&&e[0]===""&&e[1]===""&&e[2]==="?"&&typeof e[3]=="string"&&/^[a-z]:$/i.test(e[3]),F=C?3:f?0:void 0,m=A?3:E?0:void 0;if(typeof F=="number"&&typeof m=="number"){let[b,I]=[t[F],e[m]];b.toLowerCase()===I.toLowerCase()&&(e[m]=b,m>F?e=e.slice(m):F>m&&(t=t.slice(F)))}}let{optimizationLevel:r=1}=this.options;r>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var u=0,o=0,a=t.length,h=e.length;u<a&&o<h;u++,o++){this.debug("matchOne loop");var c=e[o],l=t[u];if(this.debug(e,c,l),c===!1)return!1;if(c===L){this.debug("GLOBSTAR",[e,c,l]);var D=u,p=o+1;if(p===h){for(this.debug("** at the end");u<a;u++)if(t[u]==="."||t[u]===".."||!n.dot&&t[u].charAt(0)===".")return!1;return!0}for(;D<a;){var g=t[D];if(this.debug(`
globstar while`,t,D,e,p,g),this.matchOne(t.slice(D),e.slice(p),i))return this.debug("globstar found match!",D,a,g),!0;if(g==="."||g===".."||!n.dot&&g.charAt(0)==="."){this.debug("dot detected!",t,D,e,p);break}this.debug("globstar swallow a segment, and continue"),D++}return!!(i&&(this.debug(`
>>> no match, partial?`,t,D,e,p),D===a))}let f;if(typeof c=="string"?(f=l===c,this.debug("string match",c,l,f)):(f=c.test(l),this.debug("pattern match",c,l,f)),!f)return!1}if(u===a&&o===h)return!0;if(u===a)return i;if(o===h)return u===a-1&&t[u]==="";throw new Error("wtf?")}braceExpand(){return Ii(this.pattern,this.options)}parse(t){Wt(t);let e=this.options;if(t==="**")return L;if(t==="")return"";let i,n=null;(i=t.match(An))?n=e.dot?yn:wn:(i=t.match(ln))?n=(e.nocase?e.dot?pn:dn:e.dot?Dn:fn)(i[1]):(i=t.match(bn))?n=(e.nocase?e.dot?Bn:Sn:e.dot?xn:vn)(i):(i=t.match(En))?n=e.dot?Cn:mn:(i=t.match(gn))&&(n=Fn);let r=St.fromGlob(t,this.options).toMMPattern();return n&&typeof r=="object"&&Reflect.defineProperty(r,"test",{value:n}),r}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let e=this.options,i=e.noglobstar?kn:e.dot?Tn:On,n=new Set(e.nocase?["i"]:[]),r=t.map(a=>{let h=a.map(l=>{if(l instanceof RegExp)for(let D of l.flags.split(""))n.add(D);return typeof l=="string"?Ln(l):l===L?L:l._src});h.forEach((l,D)=>{let p=h[D+1],g=h[D-1];l!==L||g===L||(g===void 0?p!==void 0&&p!==L?h[D+1]="(?:\\/|"+i+"\\/)?"+p:h[D]=i:p===void 0?h[D-1]=g+"(?:\\/|\\/"+i+")?":p!==L&&(h[D-1]=g+"(?:\\/|\\/"+i+"\\/)"+p,h[D+1]=L))});let c=h.filter(l=>l!==L);if(this.partial&&c.length>=1){let l=[];for(let D=1;D<=c.length;D++)l.push(c.slice(0,D).join("/"));return"(?:"+l.join("|")+")"}return c.join("/")}).join("|"),[u,o]=t.length>1?["(?:",")"]:["",""];r="^"+u+r+o+"$",this.partial&&(r="^(?:\\/|"+u+r.slice(1,-1)+o+")$"),this.negate&&(r="^(?!"+r+").+$");try{this.regexp=new RegExp(r,[...n].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,e=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&e)return!0;let i=this.options;this.isWindows&&(t=t.split("\\").join("/"));let n=this.slashSplit(t);this.debug(this.pattern,"split",n);let r=this.set;this.debug(this.pattern,"set",r);let u=n[n.length-1];if(!u)for(let o=n.length-2;!u&&o>=0;o--)u=n[o];for(let o=0;o<r.length;o++){let a=r[o],h=n;if(i.matchBase&&a.length===1&&(h=[u]),this.matchOne(h,a,e))return i.flipNegate?!0:!this.negate}return i.flipNegate?!1:this.negate}static defaults(t){return U.defaults(t).Minimatch}};U.AST=St;U.Minimatch=G;U.escape=Bt;U.unescape=Y;var us=_("url");var Wn=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Li=new Set,Le=typeof process=="object"&&process?process:{},Wi=(s,t,e,i)=>{typeof Le.emitWarning=="function"?Le.emitWarning(s,t,e,i):console.error(`[${e}] ${t}: ${s}`)},ae=globalThis.AbortController,_i=globalThis.AbortSignal;if(typeof ae>"u"){_i=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(i,n){this._onabort.push(n)}},ae=class{constructor(){t()}signal=new _i;abort(i){if(!this.signal.aborted){this.signal.reason=i,this.signal.aborted=!0;for(let n of this.signal._onabort)n(i);this.signal.onabort?.(i)}}};let s=Le.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",t=()=>{s&&(s=!1,Wi("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}var jn=s=>!Li.has(s),hu=Symbol("type"),lt=s=>s&&s===Math.floor(s)&&s>0&&isFinite(s),ji=s=>lt(s)?s<=Math.pow(2,8)?Uint8Array:s<=Math.pow(2,16)?Uint16Array:s<=Math.pow(2,32)?Uint32Array:s<=Number.MAX_SAFE_INTEGER?xt:null:null,xt=class extends Array{constructor(t){super(t),this.fill(0)}},We=class s{heap;length;static#t=!1;static create(t){let e=ji(t);if(!e)return[];s.#t=!0;let i=new s(t,e);return s.#t=!1,i}constructor(t,e){if(!s.#t)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}},Ct=class s{#t;#i;#r;#n;#u;#F;#m;#c;get perf(){return this.#c}ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#o;#f;#l;#a;#s;#D;#A;#g;#d;#v;#p;#b;#S;#E;#C;#w;#B;#e;#P;static unsafeExposeInternals(t){return{starts:t.#S,ttls:t.#E,autopurgeTimers:t.#C,sizes:t.#b,keyMap:t.#l,keyList:t.#a,valList:t.#s,next:t.#D,prev:t.#A,get head(){return t.#g},get tail(){return t.#d},free:t.#v,isBackgroundFetch:e=>t.#h(e),backgroundFetch:(e,i,n,r)=>t.#U(e,i,n,r),moveToTail:e=>t.#I(e),indexes:e=>t.#R(e),rindexes:e=>t.#k(e),isStale:e=>t.#y(e)}}get max(){return this.#t}get maxSize(){return this.#i}get calculatedSize(){return this.#f}get size(){return this.#o}get fetchMethod(){return this.#F}get memoMethod(){return this.#m}get dispose(){return this.#r}get onInsert(){return this.#n}get disposeAfter(){return this.#u}constructor(t){let{max:e=0,ttl:i,ttlResolution:n=1,ttlAutopurge:r,updateAgeOnGet:u,updateAgeOnHas:o,allowStale:a,dispose:h,onInsert:c,disposeAfter:l,noDisposeOnSet:D,noUpdateTTL:p,maxSize:g=0,maxEntrySize:f=0,sizeCalculation:C,fetchMethod:E,memoMethod:A,noDeleteOnFetchRejection:F,noDeleteOnStaleGet:m,allowStaleOnFetchRejection:b,allowStaleOnFetchAbort:I,ignoreFetchAbort:At,perf:te}=t;if(te!==void 0&&typeof te?.now!="function")throw new TypeError("perf option must have a now() method if specified");if(this.#c=te??Wn,e!==0&&!lt(e))throw new TypeError("max option must be a nonnegative integer");let wt=e?ji(e):Array;if(!wt)throw new Error("invalid max value: "+e);if(this.#t=e,this.#i=g,this.maxEntrySize=f||this.#i,this.sizeCalculation=C,this.sizeCalculation){if(!this.#i&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(A!==void 0&&typeof A!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#m=A,E!==void 0&&typeof E!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#F=E,this.#B=!!E,this.#l=new Map,this.#a=new Array(e).fill(void 0),this.#s=new Array(e).fill(void 0),this.#D=new wt(e),this.#A=new wt(e),this.#g=0,this.#d=0,this.#v=We.create(e),this.#o=0,this.#f=0,typeof h=="function"&&(this.#r=h),typeof c=="function"&&(this.#n=c),typeof l=="function"?(this.#u=l,this.#p=[]):(this.#u=void 0,this.#p=void 0),this.#w=!!this.#r,this.#P=!!this.#n,this.#e=!!this.#u,this.noDisposeOnSet=!!D,this.noUpdateTTL=!!p,this.noDeleteOnFetchRejection=!!F,this.allowStaleOnFetchRejection=!!b,this.allowStaleOnFetchAbort=!!I,this.ignoreFetchAbort=!!At,this.maxEntrySize!==0){if(this.#i!==0&&!lt(this.#i))throw new TypeError("maxSize must be a positive integer if specified");if(!lt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#G()}if(this.allowStale=!!a,this.noDeleteOnStaleGet=!!m,this.updateAgeOnGet=!!u,this.updateAgeOnHas=!!o,this.ttlResolution=lt(n)||n===0?n:1,this.ttlAutopurge=!!r,this.ttl=i||0,this.ttl){if(!lt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#T()}if(this.#t===0&&this.ttl===0&&this.#i===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#t&&!this.#i){let yt="LRU_CACHE_UNBOUNDED";jn(yt)&&(Li.add(yt),Wi("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",yt,s))}}getRemainingTTL(t){return this.#l.has(t)?1/0:0}#T(){let t=new xt(this.#t),e=new xt(this.#t);this.#E=t,this.#S=e;let i=this.ttlAutopurge?new Array(this.#t):void 0;this.#C=i,this.#L=(u,o,a=this.#c.now())=>{if(e[u]=o!==0?a:0,t[u]=o,i?.[u]&&(clearTimeout(i[u]),i[u]=void 0),o!==0&&i){let h=setTimeout(()=>{this.#y(u)&&this.#N(this.#a[u],"expire")},o+1);h.unref&&h.unref(),i[u]=h}},this.#x=u=>{e[u]=t[u]!==0?this.#c.now():0},this.#O=(u,o)=>{if(t[o]){let a=t[o],h=e[o];if(!a||!h)return;u.ttl=a,u.start=h,u.now=n||r();let c=u.now-h;u.remainingTTL=a-c}};let n=0,r=()=>{let u=this.#c.now();if(this.ttlResolution>0){n=u;let o=setTimeout(()=>n=0,this.ttlResolution);o.unref&&o.unref()}return u};this.getRemainingTTL=u=>{let o=this.#l.get(u);if(o===void 0)return 0;let a=t[o],h=e[o];if(!a||!h)return 1/0;let c=(n||r())-h;return a-c},this.#y=u=>{let o=e[u],a=t[u];return!!a&&!!o&&(n||r())-o>a}}#x=()=>{};#O=()=>{};#L=()=>{};#y=()=>!1;#G(){let t=new xt(this.#t);this.#f=0,this.#b=t,this.#_=e=>{this.#f-=t[e],t[e]=0},this.#W=(e,i,n,r)=>{if(this.#h(i))return 0;if(!lt(n))if(r){if(typeof r!="function")throw new TypeError("sizeCalculation must be a function");if(n=r(i,e),!lt(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return n},this.#M=(e,i,n)=>{if(t[e]=i,this.#i){let r=this.#i-t[e];for(;this.#f>r;)this.#$(!0)}this.#f+=t[e],n&&(n.entrySize=i,n.totalCalculatedSize=this.#f)}}#_=t=>{};#M=(t,e,i)=>{};#W=(t,e,i,n)=>{if(i||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#R({allowStale:t=this.allowStale}={}){if(this.#o)for(let e=this.#d;!(!this.#j(e)||((t||!this.#y(e))&&(yield e),e===this.#g));)e=this.#A[e]}*#k({allowStale:t=this.allowStale}={}){if(this.#o)for(let e=this.#g;!(!this.#j(e)||((t||!this.#y(e))&&(yield e),e===this.#d));)e=this.#D[e]}#j(t){return t!==void 0&&this.#l.get(this.#a[t])===t}*entries(){for(let t of this.#R())this.#s[t]!==void 0&&this.#a[t]!==void 0&&!this.#h(this.#s[t])&&(yield[this.#a[t],this.#s[t]])}*rentries(){for(let t of this.#k())this.#s[t]!==void 0&&this.#a[t]!==void 0&&!this.#h(this.#s[t])&&(yield[this.#a[t],this.#s[t]])}*keys(){for(let t of this.#R()){let e=this.#a[t];e!==void 0&&!this.#h(this.#s[t])&&(yield e)}}*rkeys(){for(let t of this.#k()){let e=this.#a[t];e!==void 0&&!this.#h(this.#s[t])&&(yield e)}}*values(){for(let t of this.#R())this.#s[t]!==void 0&&!this.#h(this.#s[t])&&(yield this.#s[t])}*rvalues(){for(let t of this.#k())this.#s[t]!==void 0&&!this.#h(this.#s[t])&&(yield this.#s[t])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(t,e={}){for(let i of this.#R()){let n=this.#s[i],r=this.#h(n)?n.__staleWhileFetching:n;if(r!==void 0&&t(r,this.#a[i],this))return this.get(this.#a[i],e)}}forEach(t,e=this){for(let i of this.#R()){let n=this.#s[i],r=this.#h(n)?n.__staleWhileFetching:n;r!==void 0&&t.call(e,r,this.#a[i],this)}}rforEach(t,e=this){for(let i of this.#k()){let n=this.#s[i],r=this.#h(n)?n.__staleWhileFetching:n;r!==void 0&&t.call(e,r,this.#a[i],this)}}purgeStale(){let t=!1;for(let e of this.#k({allowStale:!0}))this.#y(e)&&(this.#N(this.#a[e],"expire"),t=!0);return t}info(t){let e=this.#l.get(t);if(e===void 0)return;let i=this.#s[e],n=this.#h(i)?i.__staleWhileFetching:i;if(n===void 0)return;let r={value:n};if(this.#E&&this.#S){let u=this.#E[e],o=this.#S[e];if(u&&o){let a=u-(this.#c.now()-o);r.ttl=a,r.start=Date.now()}}return this.#b&&(r.size=this.#b[e]),r}dump(){let t=[];for(let e of this.#R({allowStale:!0})){let i=this.#a[e],n=this.#s[e],r=this.#h(n)?n.__staleWhileFetching:n;if(r===void 0||i===void 0)continue;let u={value:r};if(this.#E&&this.#S){u.ttl=this.#E[e];let o=this.#c.now()-this.#S[e];u.start=Math.floor(Date.now()-o)}this.#b&&(u.size=this.#b[e]),t.unshift([i,u])}return t}load(t){this.clear();for(let[e,i]of t){if(i.start){let n=Date.now()-i.start;i.start=this.#c.now()-n}this.set(e,i.value,i)}}set(t,e,i={}){if(e===void 0)return this.delete(t),this;let{ttl:n=this.ttl,start:r,noDisposeOnSet:u=this.noDisposeOnSet,sizeCalculation:o=this.sizeCalculation,status:a}=i,{noUpdateTTL:h=this.noUpdateTTL}=i,c=this.#W(t,e,i.size||0,o);if(this.maxEntrySize&&c>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),this.#N(t,"set"),this;let l=this.#o===0?void 0:this.#l.get(t);if(l===void 0)l=this.#o===0?this.#d:this.#v.length!==0?this.#v.pop():this.#o===this.#t?this.#$(!1):this.#o,this.#a[l]=t,this.#s[l]=e,this.#l.set(t,l),this.#D[this.#d]=l,this.#A[l]=this.#d,this.#d=l,this.#o++,this.#M(l,c,a),a&&(a.set="add"),h=!1,this.#P&&this.#n?.(e,t,"add");else{this.#I(l);let D=this.#s[l];if(e!==D){if(this.#B&&this.#h(D)){D.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:p}=D;p!==void 0&&!u&&(this.#w&&this.#r?.(p,t,"set"),this.#e&&this.#p?.push([p,t,"set"]))}else u||(this.#w&&this.#r?.(D,t,"set"),this.#e&&this.#p?.push([D,t,"set"]));if(this.#_(l),this.#M(l,c,a),this.#s[l]=e,a){a.set="replace";let p=D&&this.#h(D)?D.__staleWhileFetching:D;p!==void 0&&(a.oldValue=p)}}else a&&(a.set="update");this.#P&&this.onInsert?.(e,t,e===D?"update":"replace")}if(n!==0&&!this.#E&&this.#T(),this.#E&&(h||this.#L(l,n,r),a&&this.#O(a,l)),!u&&this.#e&&this.#p){let D=this.#p,p;for(;p=D?.shift();)this.#u?.(...p)}return this}pop(){try{for(;this.#o;){let t=this.#s[this.#g];if(this.#$(!0),this.#h(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(t!==void 0)return t}}finally{if(this.#e&&this.#p){let t=this.#p,e;for(;e=t?.shift();)this.#u?.(...e)}}}#$(t){let e=this.#g,i=this.#a[e],n=this.#s[e];return this.#B&&this.#h(n)?n.__abortController.abort(new Error("evicted")):(this.#w||this.#e)&&(this.#w&&this.#r?.(n,i,"evict"),this.#e&&this.#p?.push([n,i,"evict"])),this.#_(e),this.#C?.[e]&&(clearTimeout(this.#C[e]),this.#C[e]=void 0),t&&(this.#a[e]=void 0,this.#s[e]=void 0,this.#v.push(e)),this.#o===1?(this.#g=this.#d=0,this.#v.length=0):this.#g=this.#D[e],this.#l.delete(i),this.#o--,e}has(t,e={}){let{updateAgeOnHas:i=this.updateAgeOnHas,status:n}=e,r=this.#l.get(t);if(r!==void 0){let u=this.#s[r];if(this.#h(u)&&u.__staleWhileFetching===void 0)return!1;if(this.#y(r))n&&(n.has="stale",this.#O(n,r));else return i&&this.#x(r),n&&(n.has="hit",this.#O(n,r)),!0}else n&&(n.has="miss");return!1}peek(t,e={}){let{allowStale:i=this.allowStale}=e,n=this.#l.get(t);if(n===void 0||!i&&this.#y(n))return;let r=this.#s[n];return this.#h(r)?r.__staleWhileFetching:r}#U(t,e,i,n){let r=e===void 0?void 0:this.#s[e];if(this.#h(r))return r;let u=new ae,{signal:o}=i;o?.addEventListener("abort",()=>u.abort(o.reason),{signal:u.signal});let a={signal:u.signal,options:i,context:n},h=(f,C=!1)=>{let{aborted:E}=u.signal,A=i.ignoreFetchAbort&&f!==void 0;if(i.status&&(E&&!C?(i.status.fetchAborted=!0,i.status.fetchError=u.signal.reason,A&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),E&&!A&&!C)return l(u.signal.reason);let F=p,m=this.#s[e];return(m===p||A&&C&&m===void 0)&&(f===void 0?F.__staleWhileFetching!==void 0?this.#s[e]=F.__staleWhileFetching:this.#N(t,"fetch"):(i.status&&(i.status.fetchUpdated=!0),this.set(t,f,a.options))),f},c=f=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=f),l(f)),l=f=>{let{aborted:C}=u.signal,E=C&&i.allowStaleOnFetchAbort,A=E||i.allowStaleOnFetchRejection,F=A||i.noDeleteOnFetchRejection,m=p;if(this.#s[e]===p&&(!F||m.__staleWhileFetching===void 0?this.#N(t,"fetch"):E||(this.#s[e]=m.__staleWhileFetching)),A)return i.status&&m.__staleWhileFetching!==void 0&&(i.status.returnedStale=!0),m.__staleWhileFetching;if(m.__returned===m)throw f},D=(f,C)=>{let E=this.#F?.(t,r,a);E&&E instanceof Promise&&E.then(A=>f(A===void 0?void 0:A),C),u.signal.addEventListener("abort",()=>{(!i.ignoreFetchAbort||i.allowStaleOnFetchAbort)&&(f(void 0),i.allowStaleOnFetchAbort&&(f=A=>h(A,!0)))})};i.status&&(i.status.fetchDispatched=!0);let p=new Promise(D).then(h,c),g=Object.assign(p,{__abortController:u,__staleWhileFetching:r,__returned:void 0});return e===void 0?(this.set(t,g,{...a.options,status:void 0}),e=this.#l.get(t)):this.#s[e]=g,g}#h(t){if(!this.#B)return!1;let e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof ae}async fetch(t,e={}){let{allowStale:i=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,ttl:u=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:a=0,sizeCalculation:h=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL,noDeleteOnFetchRejection:l=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:D=this.allowStaleOnFetchRejection,ignoreFetchAbort:p=this.ignoreFetchAbort,allowStaleOnFetchAbort:g=this.allowStaleOnFetchAbort,context:f,forceRefresh:C=!1,status:E,signal:A}=e;if(!this.#B)return E&&(E.fetch="get"),this.get(t,{allowStale:i,updateAgeOnGet:n,noDeleteOnStaleGet:r,status:E});let F={allowStale:i,updateAgeOnGet:n,noDeleteOnStaleGet:r,ttl:u,noDisposeOnSet:o,size:a,sizeCalculation:h,noUpdateTTL:c,noDeleteOnFetchRejection:l,allowStaleOnFetchRejection:D,allowStaleOnFetchAbort:g,ignoreFetchAbort:p,status:E,signal:A},m=this.#l.get(t);if(m===void 0){E&&(E.fetch="miss");let b=this.#U(t,m,F,f);return b.__returned=b}else{let b=this.#s[m];if(this.#h(b)){let yt=i&&b.__staleWhileFetching!==void 0;return E&&(E.fetch="inflight",yt&&(E.returnedStale=!0)),yt?b.__staleWhileFetching:b.__returned=b}let I=this.#y(m);if(!C&&!I)return E&&(E.fetch="hit"),this.#I(m),n&&this.#x(m),E&&this.#O(E,m),b;let At=this.#U(t,m,F,f),wt=At.__staleWhileFetching!==void 0&&i;return E&&(E.fetch=I?"stale":"refresh",wt&&I&&(E.returnedStale=!0)),wt?At.__staleWhileFetching:At.__returned=At}}async forceFetch(t,e={}){let i=await this.fetch(t,e);if(i===void 0)throw new Error("fetch() returned undefined");return i}memo(t,e={}){let i=this.#m;if(!i)throw new Error("no memoMethod provided to constructor");let{context:n,forceRefresh:r,...u}=e,o=this.get(t,u);if(!r&&o!==void 0)return o;let a=i(t,o,{options:u,context:n});return this.set(t,a,u),a}get(t,e={}){let{allowStale:i=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,status:u}=e,o=this.#l.get(t);if(o!==void 0){let a=this.#s[o],h=this.#h(a);return u&&this.#O(u,o),this.#y(o)?(u&&(u.get="stale"),h?(u&&i&&a.__staleWhileFetching!==void 0&&(u.returnedStale=!0),i?a.__staleWhileFetching:void 0):(r||this.#N(t,"expire"),u&&i&&(u.returnedStale=!0),i?a:void 0)):(u&&(u.get="hit"),h?a.__staleWhileFetching:(this.#I(o),n&&this.#x(o),a))}else u&&(u.get="miss")}#z(t,e){this.#A[e]=t,this.#D[t]=e}#I(t){t!==this.#d&&(t===this.#g?this.#g=this.#D[t]:this.#z(this.#A[t],this.#D[t]),this.#z(this.#d,t),this.#d=t)}delete(t){return this.#N(t,"delete")}#N(t,e){let i=!1;if(this.#o!==0){let n=this.#l.get(t);if(n!==void 0)if(this.#C?.[n]&&(clearTimeout(this.#C?.[n]),this.#C[n]=void 0),i=!0,this.#o===1)this.#V(e);else{this.#_(n);let r=this.#s[n];if(this.#h(r)?r.__abortController.abort(new Error("deleted")):(this.#w||this.#e)&&(this.#w&&this.#r?.(r,t,e),this.#e&&this.#p?.push([r,t,e])),this.#l.delete(t),this.#a[n]=void 0,this.#s[n]=void 0,n===this.#d)this.#d=this.#A[n];else if(n===this.#g)this.#g=this.#D[n];else{let u=this.#A[n];this.#D[u]=this.#D[n];let o=this.#D[n];this.#A[o]=this.#A[n]}this.#o--,this.#v.push(n)}}if(this.#e&&this.#p?.length){let n=this.#p,r;for(;r=n?.shift();)this.#u?.(...r)}return i}clear(){return this.#V("delete")}#V(t){for(let e of this.#k({allowStale:!0})){let i=this.#s[e];if(this.#h(i))i.__abortController.abort(new Error("deleted"));else{let n=this.#a[e];this.#w&&this.#r?.(i,n,t),this.#e&&this.#p?.push([i,n,t])}}if(this.#l.clear(),this.#s.fill(void 0),this.#a.fill(void 0),this.#E&&this.#S){this.#E.fill(0),this.#S.fill(0);for(let e of this.#C??[])e!==void 0&&clearTimeout(e);this.#C?.fill(void 0)}if(this.#b&&this.#b.fill(0),this.#g=0,this.#d=0,this.#v.length=0,this.#f=0,this.#o=0,this.#e&&this.#p){let e=this.#p,i;for(;i=e?.shift();)this.#u?.(...i)}}};var Rt=_("path"),Yi=_("url"),it=_("fs"),Yn=bt(_("fs"),1),dt=_("fs/promises");var pe=_("events"),He=bt(_("stream"),1),Vi=_("string_decoder"),$i=typeof process=="object"&&process?process:{stdout:null,stderr:null},$n=s=>!!s&&typeof s=="object"&&(s instanceof Dt||s instanceof He.default||Un(s)||zn(s)),Un=s=>!!s&&typeof s=="object"&&s instanceof pe.EventEmitter&&typeof s.pipe=="function"&&s.pipe!==He.default.Writable.prototype.pipe,zn=s=>!!s&&typeof s=="object"&&s instanceof pe.EventEmitter&&typeof s.write=="function"&&typeof s.end=="function",at=Symbol("EOF"),ht=Symbol("maybeEmitEnd"),ft=Symbol("emittedEnd"),he=Symbol("emittingEnd"),$t=Symbol("emittedError"),ce=Symbol("closed"),Ui=Symbol("read"),le=Symbol("flush"),zi=Symbol("flushChunk"),X=Symbol("encoding"),vt=Symbol("decoder"),O=Symbol("flowing"),Ut=Symbol("paused"),Nt=Symbol("resume"),P=Symbol("buffer"),z=Symbol("pipes"),M=Symbol("bufferLength"),je=Symbol("bufferPush"),fe=Symbol("bufferShift"),W=Symbol("objectMode"),N=Symbol("destroyed"),$e=Symbol("error"),Ue=Symbol("emitData"),Gi=Symbol("emitEnd"),ze=Symbol("emitEnd2"),tt=Symbol("async"),Ge=Symbol("abort"),De=Symbol("aborted"),zt=Symbol("signal"),gt=Symbol("dataListeners"),V=Symbol("discarded"),Gt=s=>Promise.resolve().then(s),Gn=s=>s(),Vn=s=>s==="end"||s==="finish"||s==="prefinish",Hn=s=>s instanceof ArrayBuffer||!!s&&typeof s=="object"&&s.constructor&&s.constructor.name==="ArrayBuffer"&&s.byteLength>=0,qn=s=>!Buffer.isBuffer(s)&&ArrayBuffer.isView(s),de=class{src;dest;opts;ondrain;constructor(t,e,i){this.src=t,this.dest=e,this.opts=i,this.ondrain=()=>t[Nt](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(t){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},Ve=class extends de{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,i){super(t,e,i),this.proxyErrors=n=>e.emit("error",n),t.on("error",this.proxyErrors)}},Jn=s=>!!s.objectMode,Kn=s=>!s.objectMode&&!!s.encoding&&s.encoding!=="buffer",Dt=class extends pe.EventEmitter{[O]=!1;[Ut]=!1;[z]=[];[P]=[];[W];[X];[tt];[vt];[at]=!1;[ft]=!1;[he]=!1;[ce]=!1;[$t]=null;[M]=0;[N]=!1;[zt];[De]=!1;[gt]=0;[V]=!1;writable=!0;readable=!0;constructor(...t){let e=t[0]||{};if(super(),e.objectMode&&typeof e.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");Jn(e)?(this[W]=!0,this[X]=null):Kn(e)?(this[X]=e.encoding,this[W]=!1):(this[W]=!1,this[X]=null),this[tt]=!!e.async,this[vt]=this[X]?new Vi.StringDecoder(this[X]):null,e&&e.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[P]}),e&&e.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[z]});let{signal:i}=e;i&&(this[zt]=i,i.aborted?this[Ge]():i.addEventListener("abort",()=>this[Ge]()))}get bufferLength(){return this[M]}get encoding(){return this[X]}set encoding(t){throw new Error("Encoding must be set at instantiation time")}setEncoding(t){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[W]}set objectMode(t){throw new Error("objectMode must be set at instantiation time")}get async(){return this[tt]}set async(t){this[tt]=this[tt]||!!t}[Ge](){this[De]=!0,this.emit("abort",this[zt]?.reason),this.destroy(this[zt]?.reason)}get aborted(){return this[De]}set aborted(t){}write(t,e,i){if(this[De])return!1;if(this[at])throw new Error("write after end");if(this[N])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof e=="function"&&(i=e,e="utf8"),e||(e="utf8");let n=this[tt]?Gt:Gn;if(!this[W]&&!Buffer.isBuffer(t)){if(qn(t))t=Buffer.from(t.buffer,t.byteOffset,t.byteLength);else if(Hn(t))t=Buffer.from(t);else if(typeof t!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[W]?(this[O]&&this[M]!==0&&this[le](!0),this[O]?this.emit("data",t):this[je](t),this[M]!==0&&this.emit("readable"),i&&n(i),this[O]):t.length?(typeof t=="string"&&!(e===this[X]&&!this[vt]?.lastNeed)&&(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[X]&&(t=this[vt].write(t)),this[O]&&this[M]!==0&&this[le](!0),this[O]?this.emit("data",t):this[je](t),this[M]!==0&&this.emit("readable"),i&&n(i),this[O]):(this[M]!==0&&this.emit("readable"),i&&n(i),this[O])}read(t){if(this[N])return null;if(this[V]=!1,this[M]===0||t===0||t&&t>this[M])return this[ht](),null;this[W]&&(t=null),this[P].length>1&&!this[W]&&(this[P]=[this[X]?this[P].join(""):Buffer.concat(this[P],this[M])]);let e=this[Ui](t||null,this[P][0]);return this[ht](),e}[Ui](t,e){if(this[W])this[fe]();else{let i=e;t===i.length||t===null?this[fe]():typeof i=="string"?(this[P][0]=i.slice(t),e=i.slice(0,t),this[M]-=t):(this[P][0]=i.subarray(t),e=i.subarray(0,t),this[M]-=t)}return this.emit("data",e),!this[P].length&&!this[at]&&this.emit("drain"),e}end(t,e,i){return typeof t=="function"&&(i=t,t=void 0),typeof e=="function"&&(i=e,e="utf8"),t!==void 0&&this.write(t,e),i&&this.once("end",i),this[at]=!0,this.writable=!1,(this[O]||!this[Ut])&&this[ht](),this}[Nt](){this[N]||(!this[gt]&&!this[z].length&&(this[V]=!0),this[Ut]=!1,this[O]=!0,this.emit("resume"),this[P].length?this[le]():this[at]?this[ht]():this.emit("drain"))}resume(){return this[Nt]()}pause(){this[O]=!1,this[Ut]=!0,this[V]=!1}get destroyed(){return this[N]}get flowing(){return this[O]}get paused(){return this[Ut]}[je](t){this[W]?this[M]+=1:this[M]+=t.length,this[P].push(t)}[fe](){return this[W]?this[M]-=1:this[M]-=this[P][0].length,this[P].shift()}[le](t=!1){do;while(this[zi](this[fe]())&&this[P].length);!t&&!this[P].length&&!this[at]&&this.emit("drain")}[zi](t){return this.emit("data",t),this[O]}pipe(t,e){if(this[N])return t;this[V]=!1;let i=this[ft];return e=e||{},t===$i.stdout||t===$i.stderr?e.end=!1:e.end=e.end!==!1,e.proxyErrors=!!e.proxyErrors,i?e.end&&t.end():(this[z].push(e.proxyErrors?new Ve(this,t,e):new de(this,t,e)),this[tt]?Gt(()=>this[Nt]()):this[Nt]()),t}unpipe(t){let e=this[z].find(i=>i.dest===t);e&&(this[z].length===1?(this[O]&&this[gt]===0&&(this[O]=!1),this[z]=[]):this[z].splice(this[z].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){let i=super.on(t,e);if(t==="data")this[V]=!1,this[gt]++,!this[z].length&&!this[O]&&this[Nt]();else if(t==="readable"&&this[M]!==0)super.emit("readable");else if(Vn(t)&&this[ft])super.emit(t),this.removeAllListeners(t);else if(t==="error"&&this[$t]){let n=e;this[tt]?Gt(()=>n.call(this,this[$t])):n.call(this,this[$t])}return i}removeListener(t,e){return this.off(t,e)}off(t,e){let i=super.off(t,e);return t==="data"&&(this[gt]=this.listeners("data").length,this[gt]===0&&!this[V]&&!this[z].length&&(this[O]=!1)),i}removeAllListeners(t){let e=super.removeAllListeners(t);return(t==="data"||t===void 0)&&(this[gt]=0,!this[V]&&!this[z].length&&(this[O]=!1)),e}get emittedEnd(){return this[ft]}[ht](){!this[he]&&!this[ft]&&!this[N]&&this[P].length===0&&this[at]&&(this[he]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[ce]&&this.emit("close"),this[he]=!1)}emit(t,...e){let i=e[0];if(t!=="error"&&t!=="close"&&t!==N&&this[N])return!1;if(t==="data")return!this[W]&&!i?!1:this[tt]?(Gt(()=>this[Ue](i)),!0):this[Ue](i);if(t==="end")return this[Gi]();if(t==="close"){if(this[ce]=!0,!this[ft]&&!this[N])return!1;let r=super.emit("close");return this.removeAllListeners("close"),r}else if(t==="error"){this[$t]=i,super.emit($e,i);let r=!this[zt]||this.listeners("error").length?super.emit("error",i):!1;return this[ht](),r}else if(t==="resume"){let r=super.emit("resume");return this[ht](),r}else if(t==="finish"||t==="prefinish"){let r=super.emit(t);return this.removeAllListeners(t),r}let n=super.emit(t,...e);return this[ht](),n}[Ue](t){for(let i of this[z])i.dest.write(t)===!1&&this.pause();let e=this[V]?!1:super.emit("data",t);return this[ht](),e}[Gi](){return this[ft]?!1:(this[ft]=!0,this.readable=!1,this[tt]?(Gt(()=>this[ze]()),!0):this[ze]())}[ze](){if(this[vt]){let e=this[vt].end();if(e){for(let i of this[z])i.dest.write(e);this[V]||super.emit("data",e)}}for(let e of this[z])e.end();let t=super.emit("end");return this.removeAllListeners("end"),t}async collect(){let t=Object.assign([],{dataLength:0});this[W]||(t.dataLength=0);let e=this.promise();return this.on("data",i=>{t.push(i),this[W]||(t.dataLength+=i.length)}),await e,t}async concat(){if(this[W])throw new Error("cannot concat in objectMode");let t=await this.collect();return this[X]?t.join(""):Buffer.concat(t,t.dataLength)}async promise(){return new Promise((t,e)=>{this.on(N,()=>e(new Error("stream destroyed"))),this.on("error",i=>e(i)),this.on("end",()=>t())})}[Symbol.asyncIterator](){this[V]=!1;let t=!1,e=async()=>(this.pause(),t=!0,{value:void 0,done:!0});return{next:()=>{if(t)return e();let n=this.read();if(n!==null)return Promise.resolve({done:!1,value:n});if(this[at])return e();let r,u,o=l=>{this.off("data",a),this.off("end",h),this.off(N,c),e(),u(l)},a=l=>{this.off("error",o),this.off("end",h),this.off(N,c),this.pause(),r({value:l,done:!!this[at]})},h=()=>{this.off("error",o),this.off("data",a),this.off(N,c),e(),r({done:!0,value:void 0})},c=()=>o(new Error("stream destroyed"));return new Promise((l,D)=>{u=D,r=l,this.once(N,c),this.once("error",o),this.once("end",h),this.once("data",a)})},throw:e,return:e,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[V]=!1;let t=!1,e=()=>(this.pause(),this.off($e,e),this.off(N,e),this.off("end",e),t=!0,{done:!0,value:void 0}),i=()=>{if(t)return e();let n=this.read();return n===null?e():{done:!1,value:n}};return this.once("end",e),this.once($e,e),this.once(N,e),{next:i,throw:e,return:e,[Symbol.iterator](){return this}}}destroy(t){if(this[N])return t?this.emit("error",t):this.emit(N),this;this[N]=!0,this[V]=!0,this[P].length=0,this[M]=0;let e=this;return typeof e.close=="function"&&!this[ce]&&e.close(),t?this.emit("error",t):this.emit(N),this}static get isStream(){return $n}};var Xn=it.realpathSync.native,Ht={lstatSync:it.lstatSync,readdir:it.readdir,readdirSync:it.readdirSync,readlinkSync:it.readlinkSync,realpathSync:Xn,promises:{lstat:dt.lstat,readdir:dt.readdir,readlink:dt.readlink,realpath:dt.realpath}},Xi=s=>!s||s===Ht||s===Yn?Ht:{...Ht,...s,promises:{...Ht.promises,...s.promises||{}}},Zi=/^\\\\\?\\([a-z]:)\\?$/i,Zn=s=>s.replace(/\//g,"\\").replace(Zi,"$1\\"),Qn=/[\\\/]/,J=0,Qi=1,ts=2,et=4,es=6,is=8,Ft=10,ss=12,q=15,Vt=~q,qe=16,Hi=32,qt=64,Z=128,Ee=256,Ce=512,qi=qt|Z|Ce,tr=1023,Je=s=>s.isFile()?is:s.isDirectory()?et:s.isSymbolicLink()?Ft:s.isCharacterDevice()?ts:s.isBlockDevice()?es:s.isSocket()?ss:s.isFIFO()?Qi:J,Ji=new Ct({max:2**12}),Jt=s=>{let t=Ji.get(s);if(t)return t;let e=s.normalize("NFKD");return Ji.set(s,e),e},Ki=new Ct({max:2**12}),me=s=>{let t=Ki.get(s);if(t)return t;let e=Jt(s.toLowerCase());return Ki.set(s,e),e},ge=class extends Ct{constructor(){super({max:256})}},Ke=class extends Ct{constructor(t=16*1024){super({maxSize:t,sizeCalculation:e=>e.length+1})}},ns=Symbol("PathScurry setAsCwd"),j=class{name;root;roots;parent;nocase;isCWD=!1;#t;#i;get dev(){return this.#i}#r;get mode(){return this.#r}#n;get nlink(){return this.#n}#u;get uid(){return this.#u}#F;get gid(){return this.#F}#m;get rdev(){return this.#m}#c;get blksize(){return this.#c}#o;get ino(){return this.#o}#f;get size(){return this.#f}#l;get blocks(){return this.#l}#a;get atimeMs(){return this.#a}#s;get mtimeMs(){return this.#s}#D;get ctimeMs(){return this.#D}#A;get birthtimeMs(){return this.#A}#g;get atime(){return this.#g}#d;get mtime(){return this.#d}#v;get ctime(){return this.#v}#p;get birthtime(){return this.#p}#b;#S;#E;#C;#w;#B;#e;#P;#T;#x;get parentPath(){return(this.parent||this).fullpath()}get path(){return this.parentPath}constructor(t,e=J,i,n,r,u,o){this.name=t,this.#b=r?me(t):Jt(t),this.#e=e&tr,this.nocase=r,this.roots=n,this.root=i||this,this.#P=u,this.#E=o.fullpath,this.#w=o.relative,this.#B=o.relativePosix,this.parent=o.parent,this.parent?this.#t=this.parent.#t:this.#t=Xi(o.fs)}depth(){return this.#S!==void 0?this.#S:this.parent?this.#S=this.parent.depth()+1:this.#S=0}childrenCache(){return this.#P}resolve(t){if(!t)return this;let e=this.getRootString(t),n=t.substring(e.length).split(this.splitSep);return e?this.getRoot(e).#O(n):this.#O(n)}#O(t){let e=this;for(let i of t)e=e.child(i);return e}children(){let t=this.#P.get(this);if(t)return t;let e=Object.assign([],{provisional:0});return this.#P.set(this,e),this.#e&=~qe,e}child(t,e){if(t===""||t===".")return this;if(t==="..")return this.parent||this;let i=this.children(),n=this.nocase?me(t):Jt(t);for(let a of i)if(a.#b===n)return a;let r=this.parent?this.sep:"",u=this.#E?this.#E+r+t:void 0,o=this.newChild(t,J,{...e,parent:this,fullpath:u});return this.canReaddir()||(o.#e|=Z),i.push(o),o}relative(){if(this.isCWD)return"";if(this.#w!==void 0)return this.#w;let t=this.name,e=this.parent;if(!e)return this.#w=this.name;let i=e.relative();return i+(!i||!e.parent?"":this.sep)+t}relativePosix(){if(this.sep==="/")return this.relative();if(this.isCWD)return"";if(this.#B!==void 0)return this.#B;let t=this.name,e=this.parent;if(!e)return this.#B=this.fullpathPosix();let i=e.relativePosix();return i+(!i||!e.parent?"":"/")+t}fullpath(){if(this.#E!==void 0)return this.#E;let t=this.name,e=this.parent;if(!e)return this.#E=this.name;let n=e.fullpath()+(e.parent?this.sep:"")+t;return this.#E=n}fullpathPosix(){if(this.#C!==void 0)return this.#C;if(this.sep==="/")return this.#C=this.fullpath();if(!this.parent){let n=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(n)?this.#C=`//?/${n}`:this.#C=n}let t=this.parent,e=t.fullpathPosix(),i=e+(!e||!t.parent?"":"/")+this.name;return this.#C=i}isUnknown(){return(this.#e&q)===J}isType(t){return this[`is${t}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#e&q)===is}isDirectory(){return(this.#e&q)===et}isCharacterDevice(){return(this.#e&q)===ts}isBlockDevice(){return(this.#e&q)===es}isFIFO(){return(this.#e&q)===Qi}isSocket(){return(this.#e&q)===ss}isSymbolicLink(){return(this.#e&Ft)===Ft}lstatCached(){return this.#e&Hi?this:void 0}readlinkCached(){return this.#T}realpathCached(){return this.#x}readdirCached(){let t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(this.#T)return!0;if(!this.parent)return!1;let t=this.#e&q;return!(t!==J&&t!==Ft||this.#e&Ee||this.#e&Z)}calledReaddir(){return!!(this.#e&qe)}isENOENT(){return!!(this.#e&Z)}isNamed(t){return this.nocase?this.#b===me(t):this.#b===Jt(t)}async readlink(){let t=this.#T;if(t)return t;if(this.canReadlink()&&this.parent)try{let e=await this.#t.promises.readlink(this.fullpath()),i=(await this.parent.realpath())?.resolve(e);if(i)return this.#T=i}catch(e){this.#k(e.code);return}}readlinkSync(){let t=this.#T;if(t)return t;if(this.canReadlink()&&this.parent)try{let e=this.#t.readlinkSync(this.fullpath()),i=this.parent.realpathSync()?.resolve(e);if(i)return this.#T=i}catch(e){this.#k(e.code);return}}#L(t){this.#e|=qe;for(let e=t.provisional;e<t.length;e++){let i=t[e];i&&i.#y()}}#y(){this.#e&Z||(this.#e=(this.#e|Z)&Vt,this.#G())}#G(){let t=this.children();t.provisional=0;for(let e of t)e.#y()}#_(){this.#e|=Ce,this.#M()}#M(){if(this.#e&qt)return;let t=this.#e;(t&q)===et&&(t&=Vt),this.#e=t|qt,this.#G()}#W(t=""){t==="ENOTDIR"||t==="EPERM"?this.#M():t==="ENOENT"?this.#y():this.children().provisional=0}#R(t=""){t==="ENOTDIR"?this.parent.#M():t==="ENOENT"&&this.#y()}#k(t=""){let e=this.#e;e|=Ee,t==="ENOENT"&&(e|=Z),(t==="EINVAL"||t==="UNKNOWN")&&(e&=Vt),this.#e=e,t==="ENOTDIR"&&this.parent&&this.parent.#M()}#j(t,e){return this.#U(t,e)||this.#$(t,e)}#$(t,e){let i=Je(t),n=this.newChild(t.name,i,{parent:this}),r=n.#e&q;return r!==et&&r!==Ft&&r!==J&&(n.#e|=qt),e.unshift(n),e.provisional++,n}#U(t,e){for(let i=e.provisional;i<e.length;i++){let n=e[i];if((this.nocase?me(t.name):Jt(t.name))===n.#b)return this.#h(t,n,i,e)}}#h(t,e,i,n){let r=e.name;return e.#e=e.#e&Vt|Je(t),r!==t.name&&(e.name=t.name),i!==n.provisional&&(i===n.length-1?n.pop():n.splice(i,1),n.unshift(e)),n.provisional++,e}async lstat(){if(!(this.#e&Z))try{return this.#z(await this.#t.promises.lstat(this.fullpath())),this}catch(t){this.#R(t.code)}}lstatSync(){if(!(this.#e&Z))try{return this.#z(this.#t.lstatSync(this.fullpath())),this}catch(t){this.#R(t.code)}}#z(t){let{atime:e,atimeMs:i,birthtime:n,birthtimeMs:r,blksize:u,blocks:o,ctime:a,ctimeMs:h,dev:c,gid:l,ino:D,mode:p,mtime:g,mtimeMs:f,nlink:C,rdev:E,size:A,uid:F}=t;this.#g=e,this.#a=i,this.#p=n,this.#A=r,this.#c=u,this.#l=o,this.#v=a,this.#D=h,this.#i=c,this.#F=l,this.#o=D,this.#r=p,this.#d=g,this.#s=f,this.#n=C,this.#m=E,this.#f=A,this.#u=F;let m=Je(t);this.#e=this.#e&Vt|m|Hi,m!==J&&m!==et&&m!==Ft&&(this.#e|=qt)}#I=[];#N=!1;#V(t){this.#N=!1;let e=this.#I.slice();this.#I.length=0,e.forEach(i=>i(null,t))}readdirCB(t,e=!1){if(!this.canReaddir()){e?t(null,[]):queueMicrotask(()=>t(null,[]));return}let i=this.children();if(this.calledReaddir()){let r=i.slice(0,i.provisional);e?t(null,r):queueMicrotask(()=>t(null,r));return}if(this.#I.push(t),this.#N)return;this.#N=!0;let n=this.fullpath();this.#t.readdir(n,{withFileTypes:!0},(r,u)=>{if(r)this.#W(r.code),i.provisional=0;else{for(let o of u)this.#j(o,i);this.#L(i)}this.#V(i.slice(0,i.provisional))})}#H;async readdir(){if(!this.canReaddir())return[];let t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);let e=this.fullpath();if(this.#H)await this.#H;else{let i=()=>{};this.#H=new Promise(n=>i=n);try{for(let n of await this.#t.promises.readdir(e,{withFileTypes:!0}))this.#j(n,t);this.#L(t)}catch(n){this.#W(n.code),t.provisional=0}this.#H=void 0,i()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];let t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);let e=this.fullpath();try{for(let i of this.#t.readdirSync(e,{withFileTypes:!0}))this.#j(i,t);this.#L(t)}catch(i){this.#W(i.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(this.#e&qi)return!1;let t=q&this.#e;return t===J||t===et||t===Ft}shouldWalk(t,e){return(this.#e&et)===et&&!(this.#e&qi)&&!t.has(this)&&(!e||e(this))}async realpath(){if(this.#x)return this.#x;if(!((Ce|Ee|Z)&this.#e))try{let t=await this.#t.promises.realpath(this.fullpath());return this.#x=this.resolve(t)}catch{this.#_()}}realpathSync(){if(this.#x)return this.#x;if(!((Ce|Ee|Z)&this.#e))try{let t=this.#t.realpathSync(this.fullpath());return this.#x=this.resolve(t)}catch{this.#_()}}[ns](t){if(t===this)return;t.isCWD=!1,this.isCWD=!0;let e=new Set([]),i=[],n=this;for(;n&&n.parent;)e.add(n),n.#w=i.join(this.sep),n.#B=i.join("/"),n=n.parent,i.push("..");for(n=t;n&&n.parent&&!e.has(n);)n.#w=void 0,n.#B=void 0,n=n.parent}},Fe=class s extends j{sep="\\";splitSep=Qn;constructor(t,e=J,i,n,r,u,o){super(t,e,i,n,r,u,o)}newChild(t,e=J,i={}){return new s(t,e,this.root,this.roots,this.nocase,this.childrenCache(),i)}getRootString(t){return Rt.win32.parse(t).root}getRoot(t){if(t=Zn(t.toUpperCase()),t===this.root.name)return this.root;for(let[e,i]of Object.entries(this.roots))if(this.sameRoot(t,e))return this.roots[t]=i;return this.roots[t]=new kt(t,this).root}sameRoot(t,e=this.root.name){return t=t.toUpperCase().replace(/\//g,"\\").replace(Zi,"$1\\"),t===e}},Ae=class s extends j{splitSep="/";sep="/";constructor(t,e=J,i,n,r,u,o){super(t,e,i,n,r,u,o)}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(t,e=J,i={}){return new s(t,e,this.root,this.roots,this.nocase,this.childrenCache(),i)}},we=class{root;rootPath;roots;cwd;#t;#i;#r;nocase;#n;constructor(t=process.cwd(),e,i,{nocase:n,childrenCacheSize:r=16*1024,fs:u=Ht}={}){this.#n=Xi(u),(t instanceof URL||t.startsWith("file://"))&&(t=(0,Yi.fileURLToPath)(t));let o=e.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(o),this.#t=new ge,this.#i=new ge,this.#r=new Ke(r);let a=o.substring(this.rootPath.length).split(i);if(a.length===1&&!a[0]&&a.pop(),n===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=n,this.root=this.newRoot(this.#n),this.roots[this.rootPath]=this.root;let h=this.root,c=a.length-1,l=e.sep,D=this.rootPath,p=!1;for(let g of a){let f=c--;h=h.child(g,{relative:new Array(f).fill("..").join(l),relativePosix:new Array(f).fill("..").join("/"),fullpath:D+=(p?"":l)+g}),p=!0}this.cwd=h}depth(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return this.#r}resolve(...t){let e="";for(let r=t.length-1;r>=0;r--){let u=t[r];if(!(!u||u===".")&&(e=e?`${u}/${e}`:u,this.isAbsolute(u)))break}let i=this.#t.get(e);if(i!==void 0)return i;let n=this.cwd.resolve(e).fullpath();return this.#t.set(e,n),n}resolvePosix(...t){let e="";for(let r=t.length-1;r>=0;r--){let u=t[r];if(!(!u||u===".")&&(e=e?`${u}/${e}`:u,this.isAbsolute(u)))break}let i=this.#i.get(e);if(i!==void 0)return i;let n=this.cwd.resolve(e).fullpathPosix();return this.#i.set(e,n),n}relative(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof j||(e=t,t=this.cwd);let{withFileTypes:i}=e;if(t.canReaddir()){let n=await t.readdir();return i?n:n.map(r=>r.name)}else return[]}readdirSync(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof j||(e=t,t=this.cwd);let{withFileTypes:i=!0}=e;return t.canReaddir()?i?t.readdirSync():t.readdirSync().map(n=>n.name):[]}async lstat(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof j||(e=t.withFileTypes,t=this.cwd);let i=await t.readlink();return e?i:i?.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof j||(e=t.withFileTypes,t=this.cwd);let i=t.readlinkSync();return e?i:i?.fullpath()}async realpath(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof j||(e=t.withFileTypes,t=this.cwd);let i=await t.realpath();return e?i:i?.fullpath()}realpathSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof j||(e=t.withFileTypes,t=this.cwd);let i=t.realpathSync();return e?i:i?.fullpath()}async walk(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof j||(e=t,t=this.cwd);let{withFileTypes:i=!0,follow:n=!1,filter:r,walkFilter:u}=e,o=[];(!r||r(t))&&o.push(i?t:t.fullpath());let a=new Set,h=(l,D)=>{a.add(l),l.readdirCB((p,g)=>{if(p)return D(p);let f=g.length;if(!f)return D();let C=()=>{--f===0&&D()};for(let E of g)(!r||r(E))&&o.push(i?E:E.fullpath()),n&&E.isSymbolicLink()?E.realpath().then(A=>A?.isUnknown()?A.lstat():A).then(A=>A?.shouldWalk(a,u)?h(A,C):C()):E.shouldWalk(a,u)?h(E,C):C()},!0)},c=t;return new Promise((l,D)=>{h(c,p=>{if(p)return D(p);l(o)})})}walkSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof j||(e=t,t=this.cwd);let{withFileTypes:i=!0,follow:n=!1,filter:r,walkFilter:u}=e,o=[];(!r||r(t))&&o.push(i?t:t.fullpath());let a=new Set([t]);for(let h of a){let c=h.readdirSync();for(let l of c){(!r||r(l))&&o.push(i?l:l.fullpath());let D=l;if(l.isSymbolicLink()){if(!(n&&(D=l.realpathSync())))continue;D.isUnknown()&&D.lstatSync()}D.shouldWalk(a,u)&&a.add(D)}}return o}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,e={}){return typeof t=="string"?t=this.cwd.resolve(t):t instanceof j||(e=t,t=this.cwd),this.stream(t,e)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof j||(e=t,t=this.cwd);let{withFileTypes:i=!0,follow:n=!1,filter:r,walkFilter:u}=e;(!r||r(t))&&(yield i?t:t.fullpath());let o=new Set([t]);for(let a of o){let h=a.readdirSync();for(let c of h){(!r||r(c))&&(yield i?c:c.fullpath());let l=c;if(c.isSymbolicLink()){if(!(n&&(l=c.realpathSync())))continue;l.isUnknown()&&l.lstatSync()}l.shouldWalk(o,u)&&o.add(l)}}}stream(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof j||(e=t,t=this.cwd);let{withFileTypes:i=!0,follow:n=!1,filter:r,walkFilter:u}=e,o=new Dt({objectMode:!0});(!r||r(t))&&o.write(i?t:t.fullpath());let a=new Set,h=[t],c=0,l=()=>{let D=!1;for(;!D;){let p=h.shift();if(!p){c===0&&o.end();return}c++,a.add(p);let g=(C,E,A=!1)=>{if(C)return o.emit("error",C);if(n&&!A){let F=[];for(let m of E)m.isSymbolicLink()&&F.push(m.realpath().then(b=>b?.isUnknown()?b.lstat():b));if(F.length){Promise.all(F).then(()=>g(null,E,!0));return}}for(let F of E)F&&(!r||r(F))&&(o.write(i?F:F.fullpath())||(D=!0));c--;for(let F of E){let m=F.realpathCached()||F;m.shouldWalk(a,u)&&h.push(m)}D&&!o.flowing?o.once("drain",l):f||l()},f=!0;p.readdirCB(g,!0),f=!1}};return l(),o}streamSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof j||(e=t,t=this.cwd);let{withFileTypes:i=!0,follow:n=!1,filter:r,walkFilter:u}=e,o=new Dt({objectMode:!0}),a=new Set;(!r||r(t))&&o.write(i?t:t.fullpath());let h=[t],c=0,l=()=>{let D=!1;for(;!D;){let p=h.shift();if(!p){c===0&&o.end();return}c++,a.add(p);let g=p.readdirSync();for(let f of g)(!r||r(f))&&(o.write(i?f:f.fullpath())||(D=!0));c--;for(let f of g){let C=f;if(f.isSymbolicLink()){if(!(n&&(C=f.realpathSync())))continue;C.isUnknown()&&C.lstatSync()}C.shouldWalk(a,u)&&h.push(C)}}D&&!o.flowing&&o.once("drain",l)};return l(),o}chdir(t=this.cwd){let e=this.cwd;this.cwd=typeof t=="string"?this.cwd.resolve(t):t,this.cwd[ns](e)}},kt=class extends we{sep="\\";constructor(t=process.cwd(),e={}){let{nocase:i=!0}=e;super(t,Rt.win32,"\\",{...e,nocase:i}),this.nocase=i;for(let n=this.cwd;n;n=n.parent)n.nocase=this.nocase}parseRootPath(t){return Rt.win32.parse(t).root.toUpperCase()}newRoot(t){return new Fe(this.rootPath,et,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}},Tt=class extends we{sep="/";constructor(t=process.cwd(),e={}){let{nocase:i=!1}=e;super(t,Rt.posix,"/",{...e,nocase:i}),this.nocase=i}parseRootPath(t){return"/"}newRoot(t){return new Ae(this.rootPath,et,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}},Kt=class extends Tt{constructor(t=process.cwd(),e={}){let{nocase:i=!0}=e;super(t,{...e,nocase:i})}},du=process.platform==="win32"?Fe:Ae,rs=process.platform==="win32"?kt:process.platform==="darwin"?Kt:Tt;var er=s=>s.length>=1,ir=s=>s.length>=1,Ot=class s{#t;#i;#r;length;#n;#u;#F;#m;#c;#o;#f=!0;constructor(t,e,i,n){if(!er(t))throw new TypeError("empty pattern list");if(!ir(e))throw new TypeError("empty glob list");if(e.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,i<0||i>=this.length)throw new TypeError("index out of range");if(this.#t=t,this.#i=e,this.#r=i,this.#n=n,this.#r===0){if(this.isUNC()){let[r,u,o,a,...h]=this.#t,[c,l,D,p,...g]=this.#i;h[0]===""&&(h.shift(),g.shift());let f=[r,u,o,a,""].join("/"),C=[c,l,D,p,""].join("/");this.#t=[f,...h],this.#i=[C,...g],this.length=this.#t.length}else if(this.isDrive()||this.isAbsolute()){let[r,...u]=this.#t,[o,...a]=this.#i;u[0]===""&&(u.shift(),a.shift());let h=r+"/",c=o+"/";this.#t=[h,...u],this.#i=[c,...a],this.length=this.#t.length}}}pattern(){return this.#t[this.#r]}isString(){return typeof this.#t[this.#r]=="string"}isGlobstar(){return this.#t[this.#r]===L}isRegExp(){return this.#t[this.#r]instanceof RegExp}globString(){return this.#F=this.#F||(this.#r===0?this.isAbsolute()?this.#i[0]+this.#i.slice(1).join("/"):this.#i.join("/"):this.#i.slice(this.#r).join("/"))}hasMore(){return this.length>this.#r+1}rest(){return this.#u!==void 0?this.#u:this.hasMore()?(this.#u=new s(this.#t,this.#i,this.#r+1,this.#n),this.#u.#o=this.#o,this.#u.#c=this.#c,this.#u.#m=this.#m,this.#u):this.#u=null}isUNC(){let t=this.#t;return this.#c!==void 0?this.#c:this.#c=this.#n==="win32"&&this.#r===0&&t[0]===""&&t[1]===""&&typeof t[2]=="string"&&!!t[2]&&typeof t[3]=="string"&&!!t[3]}isDrive(){let t=this.#t;return this.#m!==void 0?this.#m:this.#m=this.#n==="win32"&&this.#r===0&&this.length>1&&typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0])}isAbsolute(){let t=this.#t;return this.#o!==void 0?this.#o:this.#o=t[0]===""&&t.length>1||this.isDrive()||this.isUNC()}root(){let t=this.#t[0];return typeof t=="string"&&this.isAbsolute()&&this.#r===0?t:""}checkFollowGlobstar(){return!(this.#r===0||!this.isGlobstar()||!this.#f)}markFollowGlobstar(){return this.#r===0||!this.isGlobstar()||!this.#f?!1:(this.#f=!1,!0)}};var sr=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",Pt=class{relative;relativeChildren;absolute;absoluteChildren;platform;mmopts;constructor(t,{nobrace:e,nocase:i,noext:n,noglobstar:r,platform:u=sr}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[],this.platform=u,this.mmopts={dot:!0,nobrace:e,nocase:i,noext:n,noglobstar:r,optimizationLevel:2,platform:u,nocomment:!0,nonegate:!0};for(let o of t)this.add(o)}add(t){let e=new G(t,this.mmopts);for(let i=0;i<e.set.length;i++){let n=e.set[i],r=e.globParts[i];if(!n||!r)throw new Error("invalid pattern object");for(;n[0]==="."&&r[0]===".";)n.shift(),r.shift();let u=new Ot(n,r,0,this.platform),o=new G(u.globString(),this.mmopts),a=r[r.length-1]==="**",h=u.isAbsolute();h?this.absolute.push(o):this.relative.push(o),a&&(h?this.absoluteChildren.push(o):this.relativeChildren.push(o))}}ignored(t){let e=t.fullpath(),i=`${e}/`,n=t.relative()||".",r=`${n}/`;for(let u of this.relative)if(u.match(n)||u.match(r))return!0;for(let u of this.absolute)if(u.match(e)||u.match(i))return!0;return!1}childrenIgnored(t){let e=t.fullpath()+"/",i=(t.relative()||".")+"/";for(let n of this.relativeChildren)if(n.match(i))return!0;for(let n of this.absoluteChildren)if(n.match(e))return!0;return!1}};var Ye=class s{store;constructor(t=new Map){this.store=t}copy(){return new s(new Map(this.store))}hasWalked(t,e){return this.store.get(t.fullpath())?.has(e.globString())}storeWalked(t,e){let i=t.fullpath(),n=this.store.get(i);n?n.add(e.globString()):this.store.set(i,new Set([e.globString()]))}},Xe=class{store=new Map;add(t,e,i){let n=(e?2:0)|(i?1:0),r=this.store.get(t);this.store.set(t,r===void 0?n:n&r)}entries(){return[...this.store.entries()].map(([t,e])=>[t,!!(e&2),!!(e&1)])}},Ze=class{store=new Map;add(t,e){if(!t.canReaddir())return;let i=this.store.get(t);i?i.find(n=>n.globString()===e.globString())||i.push(e):this.store.set(t,[e])}get(t){let e=this.store.get(t);if(!e)throw new Error("attempting to walk unknown path");return e}entries(){return this.keys().map(t=>[t,this.store.get(t)])}keys(){return[...this.store.keys()].filter(t=>t.canReaddir())}},Yt=class s{hasWalkedCache;matches=new Xe;subwalks=new Ze;patterns;follow;dot;opts;constructor(t,e){this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=e?e.copy():new Ye}processPatterns(t,e){this.patterns=e;let i=e.map(n=>[t,n]);for(let[n,r]of i){this.hasWalkedCache.storeWalked(n,r);let u=r.root(),o=r.isAbsolute()&&this.opts.absolute!==!1;if(u){n=n.resolve(u==="/"&&this.opts.root!==void 0?this.opts.root:u);let l=r.rest();if(l)r=l;else{this.matches.add(n,!0,!1);continue}}if(n.isENOENT())continue;let a,h,c=!1;for(;typeof(a=r.pattern())=="string"&&(h=r.rest());)n=n.resolve(a),r=h,c=!0;if(a=r.pattern(),h=r.rest(),c){if(this.hasWalkedCache.hasWalked(n,r))continue;this.hasWalkedCache.storeWalked(n,r)}if(typeof a=="string"){let l=a===".."||a===""||a===".";this.matches.add(n.resolve(a),o,l);continue}else if(a===L){(!n.isSymbolicLink()||this.follow||r.checkFollowGlobstar())&&this.subwalks.add(n,r);let l=h?.pattern(),D=h?.rest();if(!h||(l===""||l===".")&&!D)this.matches.add(n,o,l===""||l===".");else if(l===".."){let p=n.parent||n;D?this.hasWalkedCache.hasWalked(p,D)||this.subwalks.add(p,D):this.matches.add(p,o,!0)}}else a instanceof RegExp&&this.subwalks.add(n,r)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new s(this.opts,this.hasWalkedCache)}filterEntries(t,e){let i=this.subwalks.get(t),n=this.child();for(let r of e)for(let u of i){let o=u.isAbsolute(),a=u.pattern(),h=u.rest();a===L?n.testGlobstar(r,u,h,o):a instanceof RegExp?n.testRegExp(r,a,h,o):n.testString(r,a,h,o)}return n}testGlobstar(t,e,i,n){if((this.dot||!t.name.startsWith("."))&&(e.hasMore()||this.matches.add(t,n,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,e):t.isSymbolicLink()&&(i&&e.checkFollowGlobstar()?this.subwalks.add(t,i):e.markFollowGlobstar()&&this.subwalks.add(t,e)))),i){let r=i.pattern();if(typeof r=="string"&&r!==".."&&r!==""&&r!==".")this.testString(t,r,i.rest(),n);else if(r===".."){let u=t.parent||t;this.subwalks.add(u,i)}else r instanceof RegExp&&this.testRegExp(t,r,i.rest(),n)}}testRegExp(t,e,i,n){e.test(t.name)&&(i?this.subwalks.add(t,i):this.matches.add(t,n,!1))}testString(t,e,i,n){t.isNamed(e)&&(i?this.subwalks.add(t,i):this.matches.add(t,n,!1))}};var nr=(s,t)=>typeof s=="string"?new Pt([s],t):Array.isArray(s)?new Pt(s,t):s,ye=class{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#t=[];#i;#r;signal;maxDepth;includeChildMatches;constructor(t,e,i){if(this.patterns=t,this.path=e,this.opts=i,this.#r=!i.posix&&i.platform==="win32"?"\\":"/",this.includeChildMatches=i.includeChildMatches!==!1,(i.ignore||!this.includeChildMatches)&&(this.#i=nr(i.ignore??[],i),!this.includeChildMatches&&typeof this.#i.add!="function")){let n="cannot ignore child matches, ignore lacks add() method.";throw new Error(n)}this.maxDepth=i.maxDepth||1/0,i.signal&&(this.signal=i.signal,this.signal.addEventListener("abort",()=>{this.#t.length=0}))}#n(t){return this.seen.has(t)||!!this.#i?.ignored?.(t)}#u(t){return!!this.#i?.childrenIgnored?.(t)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;this.paused=!1;let t;for(;!this.paused&&(t=this.#t.shift());)t()}onResume(t){this.signal?.aborted||(this.paused?this.#t.push(t):t())}async matchCheck(t,e){if(e&&this.opts.nodir)return;let i;if(this.opts.realpath){if(i=t.realpathCached()||await t.realpath(),!i)return;t=i}let r=t.isUnknown()||this.opts.stat?await t.lstat():t;if(this.opts.follow&&this.opts.nodir&&r?.isSymbolicLink()){let u=await r.realpath();u&&(u.isUnknown()||this.opts.stat)&&await u.lstat()}return this.matchCheckTest(r,e)}matchCheckTest(t,e){return t&&(this.maxDepth===1/0||t.depth()<=this.maxDepth)&&(!e||t.canReaddir())&&(!this.opts.nodir||!t.isDirectory())&&(!this.opts.nodir||!this.opts.follow||!t.isSymbolicLink()||!t.realpathCached()?.isDirectory())&&!this.#n(t)?t:void 0}matchCheckSync(t,e){if(e&&this.opts.nodir)return;let i;if(this.opts.realpath){if(i=t.realpathCached()||t.realpathSync(),!i)return;t=i}let r=t.isUnknown()||this.opts.stat?t.lstatSync():t;if(this.opts.follow&&this.opts.nodir&&r?.isSymbolicLink()){let u=r.realpathSync();u&&(u?.isUnknown()||this.opts.stat)&&u.lstatSync()}return this.matchCheckTest(r,e)}matchFinish(t,e){if(this.#n(t))return;if(!this.includeChildMatches&&this.#i?.add){let r=`${t.relativePosix()}/**`;this.#i.add(r)}let i=this.opts.absolute===void 0?e:this.opts.absolute;this.seen.add(t);let n=this.opts.mark&&t.isDirectory()?this.#r:"";if(this.opts.withFileTypes)this.matchEmit(t);else if(i){let r=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(r+n)}else{let r=this.opts.posix?t.relativePosix():t.relative(),u=this.opts.dotRelative&&!r.startsWith(".."+this.#r)?"."+this.#r:"";this.matchEmit(r?u+r+n:"."+n)}}async match(t,e,i){let n=await this.matchCheck(t,i);n&&this.matchFinish(n,e)}matchSync(t,e,i){let n=this.matchCheckSync(t,i);n&&this.matchFinish(n,e)}walkCB(t,e,i){this.signal?.aborted&&i(),this.walkCB2(t,e,new Yt(this.opts),i)}walkCB2(t,e,i,n){if(this.#u(t))return n();if(this.signal?.aborted&&n(),this.paused){this.onResume(()=>this.walkCB2(t,e,i,n));return}i.processPatterns(t,e);let r=1,u=()=>{--r===0&&n()};for(let[o,a,h]of i.matches.entries())this.#n(o)||(r++,this.match(o,a,h).then(()=>u()));for(let o of i.subwalkTargets()){if(this.maxDepth!==1/0&&o.depth()>=this.maxDepth)continue;r++;let a=o.readdirCached();o.calledReaddir()?this.walkCB3(o,a,i,u):o.readdirCB((h,c)=>this.walkCB3(o,c,i,u),!0)}u()}walkCB3(t,e,i,n){i=i.filterEntries(t,e);let r=1,u=()=>{--r===0&&n()};for(let[o,a,h]of i.matches.entries())this.#n(o)||(r++,this.match(o,a,h).then(()=>u()));for(let[o,a]of i.subwalks.entries())r++,this.walkCB2(o,a,i.child(),u);u()}walkCBSync(t,e,i){this.signal?.aborted&&i(),this.walkCB2Sync(t,e,new Yt(this.opts),i)}walkCB2Sync(t,e,i,n){if(this.#u(t))return n();if(this.signal?.aborted&&n(),this.paused){this.onResume(()=>this.walkCB2Sync(t,e,i,n));return}i.processPatterns(t,e);let r=1,u=()=>{--r===0&&n()};for(let[o,a,h]of i.matches.entries())this.#n(o)||this.matchSync(o,a,h);for(let o of i.subwalkTargets()){if(this.maxDepth!==1/0&&o.depth()>=this.maxDepth)continue;r++;let a=o.readdirSync();this.walkCB3Sync(o,a,i,u)}u()}walkCB3Sync(t,e,i,n){i=i.filterEntries(t,e);let r=1,u=()=>{--r===0&&n()};for(let[o,a,h]of i.matches.entries())this.#n(o)||this.matchSync(o,a,h);for(let[o,a]of i.subwalks.entries())r++,this.walkCB2Sync(o,a,i.child(),u);u()}},Xt=class extends ye{matches=new Set;constructor(t,e,i){super(t,e,i)}matchEmit(t){this.matches.add(t)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((t,e)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?e(this.signal.reason):t(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}},Zt=class extends ye{results;constructor(t,e,i){super(t,e,i),this.results=new Dt({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(t){this.results.write(t),this.results.flowing||this.pause()}stream(){let t=this.path;return t.isUnknown()?t.lstat().then(()=>{this.walkCB(t,this.patterns,()=>this.results.end())}):this.walkCB(t,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}};var rr=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",Q=class{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;includeChildMatches;opts;patterns;constructor(t,e){if(!e)throw new TypeError("glob options required");if(this.withFileTypes=!!e.withFileTypes,this.signal=e.signal,this.follow=!!e.follow,this.dot=!!e.dot,this.dotRelative=!!e.dotRelative,this.nodir=!!e.nodir,this.mark=!!e.mark,e.cwd?(e.cwd instanceof URL||e.cwd.startsWith("file://"))&&(e.cwd=(0,us.fileURLToPath)(e.cwd)):this.cwd="",this.cwd=e.cwd||"",this.root=e.root,this.magicalBraces=!!e.magicalBraces,this.nobrace=!!e.nobrace,this.noext=!!e.noext,this.realpath=!!e.realpath,this.absolute=e.absolute,this.includeChildMatches=e.includeChildMatches!==!1,this.noglobstar=!!e.noglobstar,this.matchBase=!!e.matchBase,this.maxDepth=typeof e.maxDepth=="number"?e.maxDepth:1/0,this.stat=!!e.stat,this.ignore=e.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof t=="string"&&(t=[t]),this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(t=t.map(a=>a.replace(/\\/g,"/"))),this.matchBase){if(e.noglobstar)throw new TypeError("base matching requires globstar");t=t.map(a=>a.includes("/")?a:`./**/${a}`)}if(this.pattern=t,this.platform=e.platform||rr,this.opts={...e,platform:this.platform},e.scurry){if(this.scurry=e.scurry,e.nocase!==void 0&&e.nocase!==e.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{let a=e.platform==="win32"?kt:e.platform==="darwin"?Kt:e.platform?Tt:rs;this.scurry=new a(this.cwd,{nocase:e.nocase,fs:e.fs})}this.nocase=this.scurry.nocase;let i=this.platform==="darwin"||this.platform==="win32",n={...e,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:i,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},r=this.pattern.map(a=>new G(a,n)),[u,o]=r.reduce((a,h)=>(a[0].push(...h.set),a[1].push(...h.globParts),a),[[],[]]);this.patterns=u.map((a,h)=>{let c=o[h];if(!c)throw new Error("invalid pattern object");return new Ot(a,c,0,this.platform)})}async walk(){return[...await new Xt(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walk()]}walkSync(){return[...new Xt(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walkSync()]}stream(){return new Zt(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).stream()}streamSync(){return new Zt(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}};var Qe=(s,t={})=>{Array.isArray(s)||(s=[s]);for(let e of s)if(new G(e,t).hasMagic())return!0;return!1};function be(s,t={}){return new Q(s,t).streamSync()}function as(s,t={}){return new Q(s,t).stream()}function hs(s,t={}){return new Q(s,t).walkSync()}async function os(s,t={}){return new Q(s,t).walk()}function Se(s,t={}){return new Q(s,t).iterateSync()}function cs(s,t={}){return new Q(s,t).iterate()}var ur=be,or=Object.assign(as,{sync:be}),ar=Se,hr=Object.assign(cs,{sync:Se}),cr=Object.assign(hs,{stream:be,iterate:Se}),Qt=Object.assign(os,{glob:os,globSync:hs,sync:cr,globStream:as,stream:or,globStreamSync:be,streamSync:ur,globIterate:cs,iterate:hr,globIterateSync:Se,iterateSync:ar,Glob:Q,hasMagic:Qe,escape:Bt,unescape:Y});Qt.glob=Qt;var fs=bt(_("os"));async function Ds(s,t,e,i,n,r,u,o){let a=await ps(s,t,e,i,u);if(!a)return;if(n&&!i.ignoreConcurrentModifications&&!gr(n,a)){u.reportError(ei.MessageName.UNNAMED,"Detected concurrent modification of cached files during script execution. The script execution result is uncertain. Abort update of cache to avoid faulty cache entries.");return}let h=await mr(e.cwd,i),c={key:a,value:h,stats:{scriptExecutionTime:r,scriptName:i.scriptName}};for(let l of o)await l.saveCacheEntry(c)}async function ds(s,t,e,i,n,r){let u=await ps(s,t,e,i,n);if(!u)return{type:"FAILURE"};for(let o of r){let a=await o.loadCacheEntry(u);if(a)return await Cr(e.cwd,i,a.value),await lr(a,o,r),{type:"SUCCESS",cacheEntry:a,cache:o}}return{type:"CACHE_MISS",key:u}}async function lr(s,t,e){for(let i of e)i.order<t.order&&await i.saveCacheEntry(s)}async function ps(s,t,e,i,n){let r=e.script,u=e.args,o=s.lockFileChecksum,a=ti(s.topLevelWorkspace.anchoredLocator),h=ti(t),c=await Es(e.cwd,i.inputIncludes,i.inputExcludes),l=await Dr(s,t,i.workspaceDependencyConfig,n),D=fr(e,i);if(l)return{script:r,args:u,lockFileChecksum:o,topLevelWorkspaceLocator:a,workspaceLocator:h,globFileHashes:c,dependencyWorkspacesGlobFileHashes:l,environmentVariables:D}}function fr(s,t){let e={};for(let i of st(t.environmentVariableIncludes)){let n={},r=new RegExp(i);for(let[u,o]of Object.entries(s.env))r.test(u)&&o!==void 0&&(n[u]=o);e[i]=n}return e}async function Dr(s,t,e,i){let n={};if(e==="ignore-all-workspace-dependencies")return n;let r=s.getWorkspaceByLocator(t);for(let u of r.getRecursiveWorkspaceDependencies()){let o=ti(u.anchoredLocator),a=dr(o,e);if(a==="ignore-this-workspace-dependency")continue;let h=await ue(u.cwd,i);if(!h){i.reportError(ei.MessageName.UNNAMED,`Did not find a valid yarn-scripts-cache configuration file in workspace ${o}. All workspaces you depend on also need to be cachable!`);return}let c={};for(let l of h.scriptsToCache)pr(l,a)&&(c[l.scriptName]=await Es(u.cwd,l.outputIncludes,l.outputExcludes));n[o]=c}return n}function dr(s,t){if(t){for(let[e,i]of Object.entries(t))if(s.startsWith(e))return i}}function pr(s,t){let e=s.scriptName;return s.ignoreForDependentWorkspaces?st(t?.includedScripts).includes(e)&&!st(t?.excludedScripts).includes(e):t?t.includedScripts!==void 0&&!st(t.includedScripts).includes(e)?!1:!st(t.excludedScripts).includes(e):!0}async function Es(s,t,e){let i={};for(let n of st(t)){let r=R.npath.fromPortablePath(s),u=Qt.sync(n,{cwd:r,ignore:st(e)});u.sort();let o={};for(let a of u){let h=R.npath.toPortablePath(a),c=R.ppath.resolve(s,h);(await R.xfs.statPromise(c)).isFile()&&(o[h]=await Er(c))}i[n]=o}return i}async function Er(s){let t=ls.default.createHash("sha512"),e=await R.xfs.readFilePromise(s,"base64");return t.update(e),t.digest("base64")}async function mr(s,t){let e={};for(let r of st(t.outputIncludes)){let u=R.npath.fromPortablePath(s),o=Qt.sync(r,{cwd:u,ignore:st(t.outputExcludes)});o.sort();let a={};for(let h of o){let c=R.npath.toPortablePath(h),l=R.ppath.resolve(s,c);if((await R.xfs.statPromise(l)).isFile()){let p=await R.xfs.readFilePromise(l,"base64");a[c]=p.toString()}}e[r]=a}let i=Date.now(),n=fs.default.hostname();return{globFileContents:e,createdAt:i,createdBy:n}}async function Cr(s,t,e){for(let i of st(t.clearBeforeRestore)){let n=R.ppath.join(s,i);await R.xfs.removePromise(n,{recursive:!0})}for(let i of Object.values(e.globFileContents))for(let[n,r]of Object.entries(i)){let u=R.ppath.join(s,n),o=R.ppath.dirname(u);await R.xfs.mkdirPromise(o,{recursive:!0}),await R.xfs.writeFilePromise(u,r,{encoding:"base64"})}}function gr(s,t){return JSON.stringify(s)===JSON.stringify(t)}function ti(s){return s.scope?`@${s.scope}/${s.name}@${s.reference}`:`${s.name}@${s.reference}`}function st(s){return s===void 0?[]:typeof s=="string"?[s]:s}var Fr="YSC_DISABLED",Ar="YSC_READ_DISABLED",wr="YSC_WRITE_DISABLED";function ms(s){return ii(s,Fr,"cacheDisabled")}function Cs(s){return ii(s,Ar,"cacheReadDisabled")}function gs(s){return ii(s,wr,"cacheWriteDisabled")}function ii(s,t,e){let i=process.env[t];return typeof i=="string"?i==="true":s[e]||!1}var Fs=bt(_("os"));async function yr(s){let t=nt.Configuration.create(s.cwd);return nt.StreamReport.start({configuration:t,includeFooter:!1,stdout:s.stdout},async()=>{}).then(e=>[e,t])}var br=async(s,t,e,i,n)=>{let[r,u]=await yr(n),o=await ue(n.cwd,r);if(!o||ms(o))return s;let a=o.scriptsToCache.find(c=>c.scriptName===i);if(!a)return s;let h=await Ci(o,{project:t,locator:e,scriptName:i,extra:n});return h.cacheRegistry.length===0&&r.reportError(nt.MessageName.UNNAMED,"Script was configured to be cached but no cache implementation was found! Please make sure to add cache implementations via their own plugin."),async()=>{let c;if(!Cs(o)){let f=await ds(t,e,n,a,r,h.cacheRegistry);if(f.type==="SUCCESS"){let C=Date.now(),E=Fs.default.hostname();for(let m of h.statisticsServiceRegistry)await m.recordCacheHit(f.cacheEntry,f.cache,C,E);let A=new Date(f.cacheEntry.value.createdAt).toUTCString(),F=f.cacheEntry.value.createdBy;return r.reportInfo(nt.MessageName.UNNAMED,`Script execution result was restored from ${f.cache.name} cache! Created ${A} by ${F}`),Promise.resolve(0)}else f.type==="CACHE_MISS"&&(c=f.key)}let l=Date.now(),D=await s(),g=Date.now()-l;return D===0&&!gs(o)&&await Sr(r,u,"Updating script execution result cache",async()=>{await Ds(t,e,n,a,c,g,r,h.cacheRegistry)}),D}};async function Sr(s,t,e,i){let n=new Date().getMilliseconds();s.reportInfo(null,`\u250C ${e}`),await i();let u=new Date().getMilliseconds()-n;u>200?s.reportInfo(null,`\u2514 Completed in ${nt.formatUtils.pretty(t,u,nt.formatUtils.Type.DURATION)}`):s.reportInfo(null,"\u2514 Completed")}var Br={hooks:{wrapScriptExecution:br}},xr=Br;return xs(vr);})();
return plugin;
}
};
