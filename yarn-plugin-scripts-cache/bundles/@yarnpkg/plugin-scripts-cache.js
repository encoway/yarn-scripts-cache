/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@yarnpkg/plugin-scripts-cache",
factory: function (require) {
"use strict";var plugin=(()=>{var gu=Object.create;var Yr=Object.defineProperty;var _u=Object.getOwnPropertyDescriptor;var Su=Object.getOwnPropertyNames;var wu=Object.getPrototypeOf,Eu=Object.prototype.hasOwnProperty;var O=(r=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(t,n)=>(typeof require<"u"?require:t)[n]}):r)(function(r){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+r+'" is not supported')});var Jt=(r,t)=>()=>(r&&(t=r(r=0)),t);var Y=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports),Yi=(r,t)=>{for(var n in t)Yr(r,n,{get:t[n],enumerable:!0})},Qi=(r,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Su(t))!Eu.call(r,a)&&a!==n&&Yr(r,a,{get:()=>t[a],enumerable:!(i=_u(t,a))||i.enumerable});return r};var se=(r,t,n)=>(n=r!=null?gu(wu(r)):{},Qi(t||!r||!r.__esModule?Yr(n,"default",{value:r,enumerable:!0}):n,r)),vu=r=>Qi(Yr({},"__esModule",{value:!0}),r);var Ji=(r,t,n)=>{if(!t.has(r))throw TypeError("Cannot "+n)};var N=(r,t,n)=>(Ji(r,t,"read from private field"),n?n.call(r):t.get(r)),le=(r,t,n)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,n)},te=(r,t,n,i)=>(Ji(r,t,"write to private field"),i?i.call(r,n):t.set(r,n),n);var ua=Y((Kr,la)=>{(function(r,t){typeof Kr=="object"&&typeof la<"u"?t(Kr):typeof define=="function"&&define.amd?define(["exports"],t):(r=typeof globalThis<"u"?globalThis:r||self,t(r.WebStreamsPolyfill={}))})(Kr,function(r){"use strict";let t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:e=>`Symbol(${e})`;function n(){}function i(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}let a=i();function l(e){return typeof e=="object"&&e!==null||typeof e=="function"}let u=n,f=Promise,d=Promise.prototype.then,h=Promise.resolve.bind(f),_=Promise.reject.bind(f);function w(e){return new f(e)}function y(e){return h(e)}function b(e){return _(e)}function m(e,o,s){return d.call(e,o,s)}function A(e,o,s){m(m(e,o,s),void 0,u)}function E(e,o){A(e,o)}function P(e,o){A(e,void 0,o)}function L(e,o,s){return m(e,o,s)}function $(e){m(e,void 0,u)}let R=(()=>{let e=a&&a.queueMicrotask;if(typeof e=="function")return e;let o=y(void 0);return s=>m(o,s)})();function C(e,o,s){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,o,s)}function k(e,o,s){try{return y(C(e,o,s))}catch(c){return b(c)}}let X=16384;class M{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(o){let s=this._back,c=s;s._elements.length===X-1&&(c={_elements:[],_next:void 0}),s._elements.push(o),c!==s&&(this._back=c,s._next=c),++this._size}shift(){let o=this._front,s=o,c=this._cursor,p=c+1,g=o._elements,S=g[c];return p===X&&(s=o._next,p=0),--this._size,this._cursor=p,o!==s&&(this._front=s),g[c]=void 0,S}forEach(o){let s=this._cursor,c=this._front,p=c._elements;for(;(s!==p.length||c._next!==void 0)&&!(s===p.length&&(c=c._next,p=c._elements,s=0,p.length===0));)o(p[s]),++s}peek(){let o=this._front,s=this._cursor;return o._elements[s]}}function de(e,o){e._ownerReadableStream=o,o._reader=e,o._state==="readable"?mt(e):o._state==="closed"?Gs(e):Bo(e,o._storedError)}function Je(e,o){let s=e._ownerReadableStream;return ge(s,o)}function ie(e){e._ownerReadableStream._state==="readable"?pn(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):Ys(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function We(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function mt(e){e._closedPromise=w((o,s)=>{e._closedPromise_resolve=o,e._closedPromise_reject=s})}function Bo(e,o){mt(e),pn(e,o)}function Gs(e){mt(e),Io(e)}function pn(e,o){e._closedPromise_reject!==void 0&&($(e._closedPromise),e._closedPromise_reject(o),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function Ys(e,o){Bo(e,o)}function Io(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}let Wo=t("[[AbortSteps]]"),qo=t("[[ErrorSteps]]"),mn=t("[[CancelSteps]]"),bn=t("[[PullSteps]]"),No=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},Qs=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function Js(e){return typeof e=="object"||typeof e=="function"}function Ae(e,o){if(e!==void 0&&!Js(e))throw new TypeError(`${o} is not an object.`)}function be(e,o){if(typeof e!="function")throw new TypeError(`${o} is not a function.`)}function Ks(e){return typeof e=="object"&&e!==null||typeof e=="function"}function Mo(e,o){if(!Ks(e))throw new TypeError(`${o} is not an object.`)}function Pe(e,o,s){if(e===void 0)throw new TypeError(`Parameter ${o} is required in '${s}'.`)}function yn(e,o,s){if(e===void 0)throw new TypeError(`${o} is required in '${s}'.`)}function gn(e){return Number(e)}function Uo(e){return e===0?0:e}function Zs(e){return Uo(Qs(e))}function jo(e,o){let c=Number.MAX_SAFE_INTEGER,p=Number(e);if(p=Uo(p),!No(p))throw new TypeError(`${o} is not a finite number`);if(p=Zs(p),p<0||p>c)throw new TypeError(`${o} is outside the accepted range of ${0} to ${c}, inclusive`);return!No(p)||p===0?0:p}function _n(e,o){if(!je(e))throw new TypeError(`${o} is not a ReadableStream.`)}function bt(e){return new It(e)}function xo(e,o){e._reader._readRequests.push(o)}function Sn(e,o,s){let p=e._reader._readRequests.shift();s?p._closeSteps():p._chunkSteps(o)}function br(e){return e._reader._readRequests.length}function $o(e){let o=e._reader;return!(o===void 0||!qe(o))}class It{constructor(o){if(Pe(o,1,"ReadableStreamDefaultReader"),_n(o,"First parameter"),xe(o))throw new TypeError("This stream has already been locked for exclusive reading by another reader");de(this,o),this._readRequests=new M}get closed(){return qe(this)?this._closedPromise:b(yr("closed"))}cancel(o=void 0){return qe(this)?this._ownerReadableStream===void 0?b(We("cancel")):Je(this,o):b(yr("cancel"))}read(){if(!qe(this))return b(yr("read"));if(this._ownerReadableStream===void 0)return b(We("read from"));let o,s,c=w((g,S)=>{o=g,s=S});return Wt(this,{_chunkSteps:g=>o({value:g,done:!1}),_closeSteps:()=>o({value:void 0,done:!0}),_errorSteps:g=>s(g)}),c}releaseLock(){if(!qe(this))throw yr("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");ie(this)}}}Object.defineProperties(It.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(It.prototype,t.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function qe(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_readRequests")?!1:e instanceof It}function Wt(e,o){let s=e._ownerReadableStream;s._disturbed=!0,s._state==="closed"?o._closeSteps():s._state==="errored"?o._errorSteps(s._storedError):s._readableStreamController[bn](o)}function yr(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}let zo=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class Ho{constructor(o,s){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=o,this._preventCancel=s}next(){let o=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?L(this._ongoingPromise,o,o):o(),this._ongoingPromise}return(o){let s=()=>this._returnSteps(o);return this._ongoingPromise?L(this._ongoingPromise,s,s):s()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let o=this._reader;if(o._ownerReadableStream===void 0)return b(We("iterate"));let s,c,p=w((S,v)=>{s=S,c=v});return Wt(o,{_chunkSteps:S=>{this._ongoingPromise=void 0,R(()=>s({value:S,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,ie(o),s({value:void 0,done:!0})},_errorSteps:S=>{this._ongoingPromise=void 0,this._isFinished=!0,ie(o),c(S)}}),p}_returnSteps(o){if(this._isFinished)return Promise.resolve({value:o,done:!0});this._isFinished=!0;let s=this._reader;if(s._ownerReadableStream===void 0)return b(We("finish iterating"));if(!this._preventCancel){let c=Je(s,o);return ie(s),L(c,()=>({value:o,done:!0}))}return ie(s),y({value:o,done:!0})}}let Vo={next(){return Go(this)?this._asyncIteratorImpl.next():b(Yo("next"))},return(e){return Go(this)?this._asyncIteratorImpl.return(e):b(Yo("return"))}};zo!==void 0&&Object.setPrototypeOf(Vo,zo);function Xs(e,o){let s=bt(e),c=new Ho(s,o),p=Object.create(Vo);return p._asyncIteratorImpl=c,p}function Go(e){if(!l(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof Ho}catch{return!1}}function Yo(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}let Qo=Number.isNaN||function(e){return e!==e};function qt(e){return e.slice()}function Jo(e,o,s,c,p){new Uint8Array(e).set(new Uint8Array(s,c,p),o)}function gf(e){return e}function gr(e){return!1}function Ko(e,o,s){if(e.slice)return e.slice(o,s);let c=s-o,p=new ArrayBuffer(c);return Jo(p,0,e,o,c),p}function el(e){return!(typeof e!="number"||Qo(e)||e<0)}function Zo(e){let o=Ko(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(o)}function wn(e){let o=e._queue.shift();return e._queueTotalSize-=o.size,e._queueTotalSize<0&&(e._queueTotalSize=0),o.value}function En(e,o,s){if(!el(s)||s===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:o,size:s}),e._queueTotalSize+=s}function tl(e){return e._queue.peek().value}function Ne(e){e._queue=new M,e._queueTotalSize=0}class Nt{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!vn(this))throw Pn("view");return this._view}respond(o){if(!vn(this))throw Pn("respond");if(Pe(o,1,"respond"),o=jo(o,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");gr(this._view.buffer),vr(this._associatedReadableByteStreamController,o)}respondWithNewView(o){if(!vn(this))throw Pn("respondWithNewView");if(Pe(o,1,"respondWithNewView"),!ArrayBuffer.isView(o))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");gr(o.buffer),Rr(this._associatedReadableByteStreamController,o)}}Object.defineProperties(Nt.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(Nt.prototype,t.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class yt{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Ke(this))throw Ut("byobRequest");return An(this)}get desiredSize(){if(!Ke(this))throw Ut("desiredSize");return ai(this)}close(){if(!Ke(this))throw Ut("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let o=this._controlledReadableByteStream._state;if(o!=="readable")throw new TypeError(`The stream (in ${o} state) is not in the readable state and cannot be closed`);Mt(this)}enqueue(o){if(!Ke(this))throw Ut("enqueue");if(Pe(o,1,"enqueue"),!ArrayBuffer.isView(o))throw new TypeError("chunk must be an array buffer view");if(o.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(o.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let s=this._controlledReadableByteStream._state;if(s!=="readable")throw new TypeError(`The stream (in ${s} state) is not in the readable state and cannot be enqueued to`);Er(this,o)}error(o=void 0){if(!Ke(this))throw Ut("error");ye(this,o)}[mn](o){Xo(this),Ne(this);let s=this._cancelAlgorithm(o);return wr(this),s}[bn](o){let s=this._controlledReadableByteStream;if(this._queueTotalSize>0){let p=this._queue.shift();this._queueTotalSize-=p.byteLength,ni(this);let g=new Uint8Array(p.buffer,p.byteOffset,p.byteLength);o._chunkSteps(g);return}let c=this._autoAllocateChunkSize;if(c!==void 0){let p;try{p=new ArrayBuffer(c)}catch(S){o._errorSteps(S);return}let g={buffer:p,bufferByteLength:c,byteOffset:0,byteLength:c,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(g)}xo(s,o),Ze(this)}}Object.defineProperties(yt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(yt.prototype,t.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function Ke(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")?!1:e instanceof yt}function vn(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")?!1:e instanceof Nt}function Ze(e){if(!il(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let s=e._pullAlgorithm();A(s,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Ze(e))},c=>{ye(e,c)})}function Xo(e){Cn(e),e._pendingPullIntos=new M}function Rn(e,o){let s=!1;e._state==="closed"&&(s=!0);let c=ei(o);o.readerType==="default"?Sn(e,c,s):ll(e,c,s)}function ei(e){let o=e.bytesFilled,s=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,o/s)}function _r(e,o,s,c){e._queue.push({buffer:o,byteOffset:s,byteLength:c}),e._queueTotalSize+=c}function ti(e,o){let s=o.elementSize,c=o.bytesFilled-o.bytesFilled%s,p=Math.min(e._queueTotalSize,o.byteLength-o.bytesFilled),g=o.bytesFilled+p,S=g-g%s,v=p,D=!1;S>c&&(v=S-o.bytesFilled,D=!0);let B=e._queue;for(;v>0;){let I=B.peek(),W=Math.min(v,I.byteLength),H=o.byteOffset+o.bytesFilled;Jo(o.buffer,H,I.buffer,I.byteOffset,W),I.byteLength===W?B.shift():(I.byteOffset+=W,I.byteLength-=W),e._queueTotalSize-=W,ri(e,W,o),v-=W}return D}function ri(e,o,s){s.bytesFilled+=o}function ni(e){e._queueTotalSize===0&&e._closeRequested?(wr(e),Yt(e._controlledReadableByteStream)):Ze(e)}function Cn(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function oi(e){for(;e._pendingPullIntos.length>0;){if(e._queueTotalSize===0)return;let o=e._pendingPullIntos.peek();ti(e,o)&&(Sr(e),Rn(e._controlledReadableByteStream,o))}}function rl(e,o,s){let c=e._controlledReadableByteStream,p=1;o.constructor!==DataView&&(p=o.constructor.BYTES_PER_ELEMENT);let g=o.constructor,S=o.buffer,v={buffer:S,bufferByteLength:S.byteLength,byteOffset:o.byteOffset,byteLength:o.byteLength,bytesFilled:0,elementSize:p,viewConstructor:g,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(v),ui(c,s);return}if(c._state==="closed"){let D=new g(v.buffer,v.byteOffset,0);s._closeSteps(D);return}if(e._queueTotalSize>0){if(ti(e,v)){let D=ei(v);ni(e),s._chunkSteps(D);return}if(e._closeRequested){let D=new TypeError("Insufficient bytes to fill elements in the given buffer");ye(e,D),s._errorSteps(D);return}}e._pendingPullIntos.push(v),ui(c,s),Ze(e)}function nl(e,o){let s=e._controlledReadableByteStream;if(Tn(s))for(;ci(s)>0;){let c=Sr(e);Rn(s,c)}}function ol(e,o,s){if(ri(e,o,s),s.bytesFilled<s.elementSize)return;Sr(e);let c=s.bytesFilled%s.elementSize;if(c>0){let p=s.byteOffset+s.bytesFilled,g=Ko(s.buffer,p-c,p);_r(e,g,0,g.byteLength)}s.bytesFilled-=c,Rn(e._controlledReadableByteStream,s),oi(e)}function ii(e,o){let s=e._pendingPullIntos.peek();Cn(e),e._controlledReadableByteStream._state==="closed"?nl(e):ol(e,o,s),Ze(e)}function Sr(e){return e._pendingPullIntos.shift()}function il(e){let o=e._controlledReadableByteStream;return o._state!=="readable"||e._closeRequested||!e._started?!1:!!($o(o)&&br(o)>0||Tn(o)&&ci(o)>0||ai(e)>0)}function wr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Mt(e){let o=e._controlledReadableByteStream;if(!(e._closeRequested||o._state!=="readable")){if(e._queueTotalSize>0){e._closeRequested=!0;return}if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){let c=new TypeError("Insufficient bytes to fill elements in the given buffer");throw ye(e,c),c}wr(e),Yt(o)}}function Er(e,o){let s=e._controlledReadableByteStream;if(e._closeRequested||s._state!=="readable")return;let c=o.buffer,p=o.byteOffset,g=o.byteLength,S=c;if(e._pendingPullIntos.length>0){let v=e._pendingPullIntos.peek();gr(v.buffer),v.buffer=v.buffer}if(Cn(e),$o(s))if(br(s)===0)_r(e,S,p,g);else{e._pendingPullIntos.length>0&&Sr(e);let v=new Uint8Array(S,p,g);Sn(s,v,!1)}else Tn(s)?(_r(e,S,p,g),oi(e)):_r(e,S,p,g);Ze(e)}function ye(e,o){let s=e._controlledReadableByteStream;s._state==="readable"&&(Xo(e),Ne(e),wr(e),Bi(s,o))}function An(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){let o=e._pendingPullIntos.peek(),s=new Uint8Array(o.buffer,o.byteOffset+o.bytesFilled,o.byteLength-o.bytesFilled),c=Object.create(Nt.prototype);sl(c,e,s),e._byobRequest=c}return e._byobRequest}function ai(e){let o=e._controlledReadableByteStream._state;return o==="errored"?null:o==="closed"?0:e._strategyHWM-e._queueTotalSize}function vr(e,o){let s=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(o!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(o===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(s.bytesFilled+o>s.byteLength)throw new RangeError("bytesWritten out of range")}s.buffer=s.buffer,ii(e,o)}function Rr(e,o){let s=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(o.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(o.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(s.byteOffset+s.bytesFilled!==o.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(s.bufferByteLength!==o.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(s.bytesFilled+o.byteLength>s.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let p=o.byteLength;s.buffer=o.buffer,ii(e,p)}function si(e,o,s,c,p,g,S){o._controlledReadableByteStream=e,o._pullAgain=!1,o._pulling=!1,o._byobRequest=null,o._queue=o._queueTotalSize=void 0,Ne(o),o._closeRequested=!1,o._started=!1,o._strategyHWM=g,o._pullAlgorithm=c,o._cancelAlgorithm=p,o._autoAllocateChunkSize=S,o._pendingPullIntos=new M,e._readableStreamController=o;let v=s();A(y(v),()=>{o._started=!0,Ze(o)},D=>{ye(o,D)})}function al(e,o,s){let c=Object.create(yt.prototype),p=()=>{},g=()=>y(void 0),S=()=>y(void 0);o.start!==void 0&&(p=()=>o.start(c)),o.pull!==void 0&&(g=()=>o.pull(c)),o.cancel!==void 0&&(S=D=>o.cancel(D));let v=o.autoAllocateChunkSize;if(v===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");si(e,c,p,g,S,s,v)}function sl(e,o,s){e._associatedReadableByteStreamController=o,e._view=s}function Pn(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function Ut(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function li(e){return new jt(e)}function ui(e,o){e._reader._readIntoRequests.push(o)}function ll(e,o,s){let p=e._reader._readIntoRequests.shift();s?p._closeSteps(o):p._chunkSteps(o)}function ci(e){return e._reader._readIntoRequests.length}function Tn(e){let o=e._reader;return!(o===void 0||!Xe(o))}class jt{constructor(o){if(Pe(o,1,"ReadableStreamBYOBReader"),_n(o,"First parameter"),xe(o))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Ke(o._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");de(this,o),this._readIntoRequests=new M}get closed(){return Xe(this)?this._closedPromise:b(Cr("closed"))}cancel(o=void 0){return Xe(this)?this._ownerReadableStream===void 0?b(We("cancel")):Je(this,o):b(Cr("cancel"))}read(o){if(!Xe(this))return b(Cr("read"));if(!ArrayBuffer.isView(o))return b(new TypeError("view must be an array buffer view"));if(o.byteLength===0)return b(new TypeError("view must have non-zero byteLength"));if(o.buffer.byteLength===0)return b(new TypeError("view's buffer must have non-zero byteLength"));if(gr(o.buffer),this._ownerReadableStream===void 0)return b(We("read from"));let s,c,p=w((S,v)=>{s=S,c=v});return fi(this,o,{_chunkSteps:S=>s({value:S,done:!1}),_closeSteps:S=>s({value:S,done:!0}),_errorSteps:S=>c(S)}),p}releaseLock(){if(!Xe(this))throw Cr("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");ie(this)}}}Object.defineProperties(jt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(jt.prototype,t.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function Xe(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")?!1:e instanceof jt}function fi(e,o,s){let c=e._ownerReadableStream;c._disturbed=!0,c._state==="errored"?s._errorSteps(c._storedError):rl(c._readableStreamController,o,s)}function Cr(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function xt(e,o){let{highWaterMark:s}=e;if(s===void 0)return o;if(Qo(s)||s<0)throw new RangeError("Invalid highWaterMark");return s}function Ar(e){let{size:o}=e;return o||(()=>1)}function Pr(e,o){Ae(e,o);let s=e==null?void 0:e.highWaterMark,c=e==null?void 0:e.size;return{highWaterMark:s===void 0?void 0:gn(s),size:c===void 0?void 0:ul(c,`${o} has member 'size' that`)}}function ul(e,o){return be(e,o),s=>gn(e(s))}function cl(e,o){Ae(e,o);let s=e==null?void 0:e.abort,c=e==null?void 0:e.close,p=e==null?void 0:e.start,g=e==null?void 0:e.type,S=e==null?void 0:e.write;return{abort:s===void 0?void 0:fl(s,e,`${o} has member 'abort' that`),close:c===void 0?void 0:dl(c,e,`${o} has member 'close' that`),start:p===void 0?void 0:hl(p,e,`${o} has member 'start' that`),write:S===void 0?void 0:pl(S,e,`${o} has member 'write' that`),type:g}}function fl(e,o,s){return be(e,s),c=>k(e,o,[c])}function dl(e,o,s){return be(e,s),()=>k(e,o,[])}function hl(e,o,s){return be(e,s),c=>C(e,o,[c])}function pl(e,o,s){return be(e,s),(c,p)=>k(e,o,[c,p])}function di(e,o){if(!gt(e))throw new TypeError(`${o} is not a WritableStream.`)}function ml(e){if(typeof e!="object"||e===null)return!1;try{return typeof e.aborted=="boolean"}catch{return!1}}let bl=typeof AbortController=="function";function yl(){if(bl)return new AbortController}class $t{constructor(o={},s={}){o===void 0?o=null:Mo(o,"First parameter");let c=Pr(s,"Second parameter"),p=cl(o,"First parameter");if(pi(this),p.type!==void 0)throw new RangeError("Invalid type is specified");let S=Ar(c),v=xt(c,1);Dl(this,p,v,S)}get locked(){if(!gt(this))throw Fr("locked");return _t(this)}abort(o=void 0){return gt(this)?_t(this)?b(new TypeError("Cannot abort a stream that already has a writer")):Tr(this,o):b(Fr("abort"))}close(){return gt(this)?_t(this)?b(new TypeError("Cannot close a stream that already has a writer")):ve(this)?b(new TypeError("Cannot close an already-closing stream")):mi(this):b(Fr("close"))}getWriter(){if(!gt(this))throw Fr("getWriter");return hi(this)}}Object.defineProperties($t.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty($t.prototype,t.toStringTag,{value:"WritableStream",configurable:!0});function hi(e){return new zt(e)}function gl(e,o,s,c,p=1,g=()=>1){let S=Object.create($t.prototype);pi(S);let v=Object.create(St.prototype);return wi(S,v,e,o,s,c,p,g),S}function pi(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new M,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function gt(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")?!1:e instanceof $t}function _t(e){return e._writer!==void 0}function Tr(e,o){var s;if(e._state==="closed"||e._state==="errored")return y(void 0);e._writableStreamController._abortReason=o,(s=e._writableStreamController._abortController)===null||s===void 0||s.abort();let c=e._state;if(c==="closed"||c==="errored")return y(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;let p=!1;c==="erroring"&&(p=!0,o=void 0);let g=w((S,v)=>{e._pendingAbortRequest={_promise:void 0,_resolve:S,_reject:v,_reason:o,_wasAlreadyErroring:p}});return e._pendingAbortRequest._promise=g,p||On(e,o),g}function mi(e){let o=e._state;if(o==="closed"||o==="errored")return b(new TypeError(`The stream (in ${o} state) is not in the writable state and cannot be closed`));let s=w((p,g)=>{let S={_resolve:p,_reject:g};e._closeRequest=S}),c=e._writer;return c!==void 0&&e._backpressure&&o==="writable"&&Mn(c),Fl(e._writableStreamController),s}function _l(e){return w((s,c)=>{let p={_resolve:s,_reject:c};e._writeRequests.push(p)})}function kn(e,o){if(e._state==="writable"){On(e,o);return}Dn(e)}function On(e,o){let s=e._writableStreamController;e._state="erroring",e._storedError=o;let c=e._writer;c!==void 0&&yi(c,o),!Rl(e)&&s._started&&Dn(e)}function Dn(e){e._state="errored",e._writableStreamController[qo]();let o=e._storedError;if(e._writeRequests.forEach(p=>{p._reject(o)}),e._writeRequests=new M,e._pendingAbortRequest===void 0){kr(e);return}let s=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,s._wasAlreadyErroring){s._reject(o),kr(e);return}let c=e._writableStreamController[Wo](s._reason);A(c,()=>{s._resolve(),kr(e)},p=>{s._reject(p),kr(e)})}function Sl(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function wl(e,o){e._inFlightWriteRequest._reject(o),e._inFlightWriteRequest=void 0,kn(e,o)}function El(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,e._state==="erroring"&&(e._storedError=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";let s=e._writer;s!==void 0&&Ci(s)}function vl(e,o){e._inFlightCloseRequest._reject(o),e._inFlightCloseRequest=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._reject(o),e._pendingAbortRequest=void 0),kn(e,o)}function ve(e){return!(e._closeRequest===void 0&&e._inFlightCloseRequest===void 0)}function Rl(e){return!(e._inFlightWriteRequest===void 0&&e._inFlightCloseRequest===void 0)}function Cl(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function Al(e){e._inFlightWriteRequest=e._writeRequests.shift()}function kr(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let o=e._writer;o!==void 0&&qn(o,e._storedError)}function Fn(e,o){let s=e._writer;s!==void 0&&o!==e._backpressure&&(o?Ml(s):Mn(s)),e._backpressure=o}class zt{constructor(o){if(Pe(o,1,"WritableStreamDefaultWriter"),di(o,"First parameter"),_t(o))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=o,o._writer=this;let s=o._state;if(s==="writable")!ve(o)&&o._backpressure?Br(this):Ai(this),Lr(this);else if(s==="erroring")Nn(this,o._storedError),Lr(this);else if(s==="closed")Ai(this),ql(this);else{let c=o._storedError;Nn(this,c),Ri(this,c)}}get closed(){return et(this)?this._closedPromise:b(tt("closed"))}get desiredSize(){if(!et(this))throw tt("desiredSize");if(this._ownerWritableStream===void 0)throw Ht("desiredSize");return Ol(this)}get ready(){return et(this)?this._readyPromise:b(tt("ready"))}abort(o=void 0){return et(this)?this._ownerWritableStream===void 0?b(Ht("abort")):Pl(this,o):b(tt("abort"))}close(){if(!et(this))return b(tt("close"));let o=this._ownerWritableStream;return o===void 0?b(Ht("close")):ve(o)?b(new TypeError("Cannot close an already-closing stream")):bi(this)}releaseLock(){if(!et(this))throw tt("releaseLock");this._ownerWritableStream!==void 0&&gi(this)}write(o=void 0){return et(this)?this._ownerWritableStream===void 0?b(Ht("write to")):_i(this,o):b(tt("write"))}}Object.defineProperties(zt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(zt.prototype,t.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function et(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")?!1:e instanceof zt}function Pl(e,o){let s=e._ownerWritableStream;return Tr(s,o)}function bi(e){let o=e._ownerWritableStream;return mi(o)}function Tl(e){let o=e._ownerWritableStream,s=o._state;return ve(o)||s==="closed"?y(void 0):s==="errored"?b(o._storedError):bi(e)}function kl(e,o){e._closedPromiseState==="pending"?qn(e,o):Nl(e,o)}function yi(e,o){e._readyPromiseState==="pending"?Pi(e,o):Ul(e,o)}function Ol(e){let o=e._ownerWritableStream,s=o._state;return s==="errored"||s==="erroring"?null:s==="closed"?0:Ei(o._writableStreamController)}function gi(e){let o=e._ownerWritableStream,s=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");yi(e,s),kl(e,s),o._writer=void 0,e._ownerWritableStream=void 0}function _i(e,o){let s=e._ownerWritableStream,c=s._writableStreamController,p=Ll(c,o);if(s!==e._ownerWritableStream)return b(Ht("write to"));let g=s._state;if(g==="errored")return b(s._storedError);if(ve(s)||g==="closed")return b(new TypeError("The stream is closing or closed and cannot be written to"));if(g==="erroring")return b(s._storedError);let S=_l(s);return Bl(c,o,p),S}let Si={};class St{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Ln(this))throw Wn("abortReason");return this._abortReason}get signal(){if(!Ln(this))throw Wn("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(o=void 0){if(!Ln(this))throw Wn("error");this._controlledWritableStream._state==="writable"&&vi(this,o)}[Wo](o){let s=this._abortAlgorithm(o);return Or(this),s}[qo](){Ne(this)}}Object.defineProperties(St.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(St.prototype,t.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function Ln(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")?!1:e instanceof St}function wi(e,o,s,c,p,g,S,v){o._controlledWritableStream=e,e._writableStreamController=o,o._queue=void 0,o._queueTotalSize=void 0,Ne(o),o._abortReason=void 0,o._abortController=yl(),o._started=!1,o._strategySizeAlgorithm=v,o._strategyHWM=S,o._writeAlgorithm=c,o._closeAlgorithm=p,o._abortAlgorithm=g;let D=In(o);Fn(e,D);let B=s(),I=y(B);A(I,()=>{o._started=!0,Dr(o)},W=>{o._started=!0,kn(e,W)})}function Dl(e,o,s,c){let p=Object.create(St.prototype),g=()=>{},S=()=>y(void 0),v=()=>y(void 0),D=()=>y(void 0);o.start!==void 0&&(g=()=>o.start(p)),o.write!==void 0&&(S=B=>o.write(B,p)),o.close!==void 0&&(v=()=>o.close()),o.abort!==void 0&&(D=B=>o.abort(B)),wi(e,p,g,S,v,D,s,c)}function Or(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Fl(e){En(e,Si,0),Dr(e)}function Ll(e,o){try{return e._strategySizeAlgorithm(o)}catch(s){return Bn(e,s),1}}function Ei(e){return e._strategyHWM-e._queueTotalSize}function Bl(e,o,s){try{En(e,o,s)}catch(p){Bn(e,p);return}let c=e._controlledWritableStream;if(!ve(c)&&c._state==="writable"){let p=In(e);Fn(c,p)}Dr(e)}function Dr(e){let o=e._controlledWritableStream;if(!e._started||o._inFlightWriteRequest!==void 0)return;if(o._state==="erroring"){Dn(o);return}if(e._queue.length===0)return;let c=tl(e);c===Si?Il(e):Wl(e,c)}function Bn(e,o){e._controlledWritableStream._state==="writable"&&vi(e,o)}function Il(e){let o=e._controlledWritableStream;Cl(o),wn(e);let s=e._closeAlgorithm();Or(e),A(s,()=>{El(o)},c=>{vl(o,c)})}function Wl(e,o){let s=e._controlledWritableStream;Al(s);let c=e._writeAlgorithm(o);A(c,()=>{Sl(s);let p=s._state;if(wn(e),!ve(s)&&p==="writable"){let g=In(e);Fn(s,g)}Dr(e)},p=>{s._state==="writable"&&Or(e),wl(s,p)})}function In(e){return Ei(e)<=0}function vi(e,o){let s=e._controlledWritableStream;Or(e),On(s,o)}function Fr(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function Wn(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function tt(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function Ht(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Lr(e){e._closedPromise=w((o,s)=>{e._closedPromise_resolve=o,e._closedPromise_reject=s,e._closedPromiseState="pending"})}function Ri(e,o){Lr(e),qn(e,o)}function ql(e){Lr(e),Ci(e)}function qn(e,o){e._closedPromise_reject!==void 0&&($(e._closedPromise),e._closedPromise_reject(o),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function Nl(e,o){Ri(e,o)}function Ci(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function Br(e){e._readyPromise=w((o,s)=>{e._readyPromise_resolve=o,e._readyPromise_reject=s}),e._readyPromiseState="pending"}function Nn(e,o){Br(e),Pi(e,o)}function Ai(e){Br(e),Mn(e)}function Pi(e,o){e._readyPromise_reject!==void 0&&($(e._readyPromise),e._readyPromise_reject(o),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function Ml(e){Br(e)}function Ul(e,o){Nn(e,o)}function Mn(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}let Ti=typeof DOMException<"u"?DOMException:void 0;function jl(e){if(!(typeof e=="function"||typeof e=="object"))return!1;try{return new e,!0}catch{return!1}}function xl(){let e=function(s,c){this.message=s||"",this.name=c||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}let $l=jl(Ti)?Ti:xl();function ki(e,o,s,c,p,g){let S=bt(e),v=hi(o);e._disturbed=!0;let D=!1,B=y(void 0);return w((I,W)=>{let H;if(g!==void 0){if(H=()=>{let T=new $l("Aborted","AbortError"),F=[];c||F.push(()=>o._state==="writable"?Tr(o,T):y(void 0)),p||F.push(()=>e._state==="readable"?ge(e,T):y(void 0)),re(()=>Promise.all(F.map(U=>U())),!0,T)},g.aborted){H();return}g.addEventListener("abort",H)}function _e(){return w((T,F)=>{function U(ae){ae?T():m(vt(),U,F)}U(!1)})}function vt(){return D?y(!0):m(v._readyPromise,()=>w((T,F)=>{Wt(S,{_chunkSteps:U=>{B=m(_i(v,U),void 0,n),T(!1)},_closeSteps:()=>T(!0),_errorSteps:F})}))}if(Te(e,S._closedPromise,T=>{c?he(!0,T):re(()=>Tr(o,T),!0,T)}),Te(o,v._closedPromise,T=>{p?he(!0,T):re(()=>ge(e,T),!0,T)}),ee(e,S._closedPromise,()=>{s?he():re(()=>Tl(v))}),ve(o)||o._state==="closed"){let T=new TypeError("the destination writable stream closed before all data could be piped to it");p?he(!0,T):re(()=>ge(e,T),!0,T)}$(_e());function $e(){let T=B;return m(B,()=>T!==B?$e():void 0)}function Te(T,F,U){T._state==="errored"?U(T._storedError):P(F,U)}function ee(T,F,U){T._state==="closed"?U():E(F,U)}function re(T,F,U){if(D)return;D=!0,o._state==="writable"&&!ve(o)?E($e(),ae):ae();function ae(){A(T(),()=>ke(F,U),Rt=>ke(!0,Rt))}}function he(T,F){D||(D=!0,o._state==="writable"&&!ve(o)?E($e(),()=>ke(T,F)):ke(T,F))}function ke(T,F){gi(v),ie(S),g!==void 0&&g.removeEventListener("abort",H),T?W(F):I(void 0)}})}class wt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Ir(this))throw Nr("desiredSize");return Un(this)}close(){if(!Ir(this))throw Nr("close");if(!Et(this))throw new TypeError("The stream is not in a state that permits close");Gt(this)}enqueue(o=void 0){if(!Ir(this))throw Nr("enqueue");if(!Et(this))throw new TypeError("The stream is not in a state that permits enqueue");return qr(this,o)}error(o=void 0){if(!Ir(this))throw Nr("error");Me(this,o)}[mn](o){Ne(this);let s=this._cancelAlgorithm(o);return Wr(this),s}[bn](o){let s=this._controlledReadableStream;if(this._queue.length>0){let c=wn(this);this._closeRequested&&this._queue.length===0?(Wr(this),Yt(s)):Vt(this),o._chunkSteps(c)}else xo(s,o),Vt(this)}}Object.defineProperties(wt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(wt.prototype,t.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function Ir(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")?!1:e instanceof wt}function Vt(e){if(!Oi(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let s=e._pullAlgorithm();A(s,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Vt(e))},c=>{Me(e,c)})}function Oi(e){let o=e._controlledReadableStream;return!Et(e)||!e._started?!1:!!(xe(o)&&br(o)>0||Un(e)>0)}function Wr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Gt(e){if(!Et(e))return;let o=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(Wr(e),Yt(o))}function qr(e,o){if(!Et(e))return;let s=e._controlledReadableStream;if(xe(s)&&br(s)>0)Sn(s,o,!1);else{let c;try{c=e._strategySizeAlgorithm(o)}catch(p){throw Me(e,p),p}try{En(e,o,c)}catch(p){throw Me(e,p),p}}Vt(e)}function Me(e,o){let s=e._controlledReadableStream;s._state==="readable"&&(Ne(e),Wr(e),Bi(s,o))}function Un(e){let o=e._controlledReadableStream._state;return o==="errored"?null:o==="closed"?0:e._strategyHWM-e._queueTotalSize}function zl(e){return!Oi(e)}function Et(e){let o=e._controlledReadableStream._state;return!e._closeRequested&&o==="readable"}function Di(e,o,s,c,p,g,S){o._controlledReadableStream=e,o._queue=void 0,o._queueTotalSize=void 0,Ne(o),o._started=!1,o._closeRequested=!1,o._pullAgain=!1,o._pulling=!1,o._strategySizeAlgorithm=S,o._strategyHWM=g,o._pullAlgorithm=c,o._cancelAlgorithm=p,e._readableStreamController=o;let v=s();A(y(v),()=>{o._started=!0,Vt(o)},D=>{Me(o,D)})}function Hl(e,o,s,c){let p=Object.create(wt.prototype),g=()=>{},S=()=>y(void 0),v=()=>y(void 0);o.start!==void 0&&(g=()=>o.start(p)),o.pull!==void 0&&(S=()=>o.pull(p)),o.cancel!==void 0&&(v=D=>o.cancel(D)),Di(e,p,g,S,v,s,c)}function Nr(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function Vl(e,o){return Ke(e._readableStreamController)?Yl(e):Gl(e)}function Gl(e,o){let s=bt(e),c=!1,p=!1,g=!1,S=!1,v,D,B,I,W,H=w(ee=>{W=ee});function _e(){return c?(p=!0,y(void 0)):(c=!0,Wt(s,{_chunkSteps:re=>{R(()=>{p=!1;let he=re,ke=re;g||qr(B._readableStreamController,he),S||qr(I._readableStreamController,ke),c=!1,p&&_e()})},_closeSteps:()=>{c=!1,g||Gt(B._readableStreamController),S||Gt(I._readableStreamController),(!g||!S)&&W(void 0)},_errorSteps:()=>{c=!1}}),y(void 0))}function vt(ee){if(g=!0,v=ee,S){let re=qt([v,D]),he=ge(e,re);W(he)}return H}function $e(ee){if(S=!0,D=ee,g){let re=qt([v,D]),he=ge(e,re);W(he)}return H}function Te(){}return B=jn(Te,_e,vt),I=jn(Te,_e,$e),P(s._closedPromise,ee=>{Me(B._readableStreamController,ee),Me(I._readableStreamController,ee),(!g||!S)&&W(void 0)}),[B,I]}function Yl(e){let o=bt(e),s=!1,c=!1,p=!1,g=!1,S=!1,v,D,B,I,W,H=w(T=>{W=T});function _e(T){P(T._closedPromise,F=>{T===o&&(ye(B._readableStreamController,F),ye(I._readableStreamController,F),(!g||!S)&&W(void 0))})}function vt(){Xe(o)&&(ie(o),o=bt(e),_e(o)),Wt(o,{_chunkSteps:F=>{R(()=>{c=!1,p=!1;let U=F,ae=F;if(!g&&!S)try{ae=Zo(F)}catch(Rt){ye(B._readableStreamController,Rt),ye(I._readableStreamController,Rt),W(ge(e,Rt));return}g||Er(B._readableStreamController,U),S||Er(I._readableStreamController,ae),s=!1,c?Te():p&&ee()})},_closeSteps:()=>{s=!1,g||Mt(B._readableStreamController),S||Mt(I._readableStreamController),B._readableStreamController._pendingPullIntos.length>0&&vr(B._readableStreamController,0),I._readableStreamController._pendingPullIntos.length>0&&vr(I._readableStreamController,0),(!g||!S)&&W(void 0)},_errorSteps:()=>{s=!1}})}function $e(T,F){qe(o)&&(ie(o),o=li(e),_e(o));let U=F?I:B,ae=F?B:I;fi(o,T,{_chunkSteps:Ct=>{R(()=>{c=!1,p=!1;let At=F?S:g;if(F?g:S)At||Rr(U._readableStreamController,Ct);else{let Gi;try{Gi=Zo(Ct)}catch($n){ye(U._readableStreamController,$n),ye(ae._readableStreamController,$n),W(ge(e,$n));return}At||Rr(U._readableStreamController,Ct),Er(ae._readableStreamController,Gi)}s=!1,c?Te():p&&ee()})},_closeSteps:Ct=>{s=!1;let At=F?S:g,Gr=F?g:S;At||Mt(U._readableStreamController),Gr||Mt(ae._readableStreamController),Ct!==void 0&&(At||Rr(U._readableStreamController,Ct),!Gr&&ae._readableStreamController._pendingPullIntos.length>0&&vr(ae._readableStreamController,0)),(!At||!Gr)&&W(void 0)},_errorSteps:()=>{s=!1}})}function Te(){if(s)return c=!0,y(void 0);s=!0;let T=An(B._readableStreamController);return T===null?vt():$e(T._view,!1),y(void 0)}function ee(){if(s)return p=!0,y(void 0);s=!0;let T=An(I._readableStreamController);return T===null?vt():$e(T._view,!0),y(void 0)}function re(T){if(g=!0,v=T,S){let F=qt([v,D]),U=ge(e,F);W(U)}return H}function he(T){if(S=!0,D=T,g){let F=qt([v,D]),U=ge(e,F);W(U)}return H}function ke(){}return B=Li(ke,Te,re),I=Li(ke,ee,he),_e(o),[B,I]}function Ql(e,o){Ae(e,o);let s=e,c=s==null?void 0:s.autoAllocateChunkSize,p=s==null?void 0:s.cancel,g=s==null?void 0:s.pull,S=s==null?void 0:s.start,v=s==null?void 0:s.type;return{autoAllocateChunkSize:c===void 0?void 0:jo(c,`${o} has member 'autoAllocateChunkSize' that`),cancel:p===void 0?void 0:Jl(p,s,`${o} has member 'cancel' that`),pull:g===void 0?void 0:Kl(g,s,`${o} has member 'pull' that`),start:S===void 0?void 0:Zl(S,s,`${o} has member 'start' that`),type:v===void 0?void 0:Xl(v,`${o} has member 'type' that`)}}function Jl(e,o,s){return be(e,s),c=>k(e,o,[c])}function Kl(e,o,s){return be(e,s),c=>k(e,o,[c])}function Zl(e,o,s){return be(e,s),c=>C(e,o,[c])}function Xl(e,o){if(e=`${e}`,e!=="bytes")throw new TypeError(`${o} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function eu(e,o){Ae(e,o);let s=e==null?void 0:e.mode;return{mode:s===void 0?void 0:tu(s,`${o} has member 'mode' that`)}}function tu(e,o){if(e=`${e}`,e!=="byob")throw new TypeError(`${o} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function ru(e,o){Ae(e,o);let s=e==null?void 0:e.preventCancel;return{preventCancel:Boolean(s)}}function Fi(e,o){Ae(e,o);let s=e==null?void 0:e.preventAbort,c=e==null?void 0:e.preventCancel,p=e==null?void 0:e.preventClose,g=e==null?void 0:e.signal;return g!==void 0&&nu(g,`${o} has member 'signal' that`),{preventAbort:Boolean(s),preventCancel:Boolean(c),preventClose:Boolean(p),signal:g}}function nu(e,o){if(!ml(e))throw new TypeError(`${o} is not an AbortSignal.`)}function ou(e,o){Ae(e,o);let s=e==null?void 0:e.readable;yn(s,"readable","ReadableWritablePair"),_n(s,`${o} has member 'readable' that`);let c=e==null?void 0:e.writable;return yn(c,"writable","ReadableWritablePair"),di(c,`${o} has member 'writable' that`),{readable:s,writable:c}}class Ue{constructor(o={},s={}){o===void 0?o=null:Mo(o,"First parameter");let c=Pr(s,"Second parameter"),p=Ql(o,"First parameter");if(xn(this),p.type==="bytes"){if(c.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let g=xt(c,0);al(this,p,g)}else{let g=Ar(c),S=xt(c,1);Hl(this,p,S,g)}}get locked(){if(!je(this))throw rt("locked");return xe(this)}cancel(o=void 0){return je(this)?xe(this)?b(new TypeError("Cannot cancel a stream that already has a reader")):ge(this,o):b(rt("cancel"))}getReader(o=void 0){if(!je(this))throw rt("getReader");return eu(o,"First parameter").mode===void 0?bt(this):li(this)}pipeThrough(o,s={}){if(!je(this))throw rt("pipeThrough");Pe(o,1,"pipeThrough");let c=ou(o,"First parameter"),p=Fi(s,"Second parameter");if(xe(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(_t(c.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let g=ki(this,c.writable,p.preventClose,p.preventAbort,p.preventCancel,p.signal);return $(g),c.readable}pipeTo(o,s={}){if(!je(this))return b(rt("pipeTo"));if(o===void 0)return b("Parameter 1 is required in 'pipeTo'.");if(!gt(o))return b(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let c;try{c=Fi(s,"Second parameter")}catch(p){return b(p)}return xe(this)?b(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):_t(o)?b(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):ki(this,o,c.preventClose,c.preventAbort,c.preventCancel,c.signal)}tee(){if(!je(this))throw rt("tee");let o=Vl(this);return qt(o)}values(o=void 0){if(!je(this))throw rt("values");let s=ru(o,"First parameter");return Xs(this,s.preventCancel)}}Object.defineProperties(Ue.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(Ue.prototype,t.toStringTag,{value:"ReadableStream",configurable:!0}),typeof t.asyncIterator=="symbol"&&Object.defineProperty(Ue.prototype,t.asyncIterator,{value:Ue.prototype.values,writable:!0,configurable:!0});function jn(e,o,s,c=1,p=()=>1){let g=Object.create(Ue.prototype);xn(g);let S=Object.create(wt.prototype);return Di(g,S,e,o,s,c,p),g}function Li(e,o,s){let c=Object.create(Ue.prototype);xn(c);let p=Object.create(yt.prototype);return si(c,p,e,o,s,0,void 0),c}function xn(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function je(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")?!1:e instanceof Ue}function xe(e){return e._reader!==void 0}function ge(e,o){if(e._disturbed=!0,e._state==="closed")return y(void 0);if(e._state==="errored")return b(e._storedError);Yt(e);let s=e._reader;s!==void 0&&Xe(s)&&(s._readIntoRequests.forEach(p=>{p._closeSteps(void 0)}),s._readIntoRequests=new M);let c=e._readableStreamController[mn](o);return L(c,n)}function Yt(e){e._state="closed";let o=e._reader;o!==void 0&&(Io(o),qe(o)&&(o._readRequests.forEach(s=>{s._closeSteps()}),o._readRequests=new M))}function Bi(e,o){e._state="errored",e._storedError=o;let s=e._reader;s!==void 0&&(pn(s,o),qe(s)?(s._readRequests.forEach(c=>{c._errorSteps(o)}),s._readRequests=new M):(s._readIntoRequests.forEach(c=>{c._errorSteps(o)}),s._readIntoRequests=new M))}function rt(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function Ii(e,o){Ae(e,o);let s=e==null?void 0:e.highWaterMark;return yn(s,"highWaterMark","QueuingStrategyInit"),{highWaterMark:gn(s)}}let Wi=e=>e.byteLength;try{Object.defineProperty(Wi,"name",{value:"size",configurable:!0})}catch{}class Mr{constructor(o){Pe(o,1,"ByteLengthQueuingStrategy"),o=Ii(o,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=o.highWaterMark}get highWaterMark(){if(!Ni(this))throw qi("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Ni(this))throw qi("size");return Wi}}Object.defineProperties(Mr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(Mr.prototype,t.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function qi(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function Ni(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")?!1:e instanceof Mr}let Mi=()=>1;try{Object.defineProperty(Mi,"name",{value:"size",configurable:!0})}catch{}class Ur{constructor(o){Pe(o,1,"CountQueuingStrategy"),o=Ii(o,"First parameter"),this._countQueuingStrategyHighWaterMark=o.highWaterMark}get highWaterMark(){if(!ji(this))throw Ui("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!ji(this))throw Ui("size");return Mi}}Object.defineProperties(Ur.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(Ur.prototype,t.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Ui(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function ji(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")?!1:e instanceof Ur}function iu(e,o){Ae(e,o);let s=e==null?void 0:e.flush,c=e==null?void 0:e.readableType,p=e==null?void 0:e.start,g=e==null?void 0:e.transform,S=e==null?void 0:e.writableType;return{flush:s===void 0?void 0:au(s,e,`${o} has member 'flush' that`),readableType:c,start:p===void 0?void 0:su(p,e,`${o} has member 'start' that`),transform:g===void 0?void 0:lu(g,e,`${o} has member 'transform' that`),writableType:S}}function au(e,o,s){return be(e,s),c=>k(e,o,[c])}function su(e,o,s){return be(e,s),c=>C(e,o,[c])}function lu(e,o,s){return be(e,s),(c,p)=>k(e,o,[c,p])}class jr{constructor(o={},s={},c={}){o===void 0&&(o=null);let p=Pr(s,"Second parameter"),g=Pr(c,"Third parameter"),S=iu(o,"First parameter");if(S.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(S.writableType!==void 0)throw new RangeError("Invalid writableType specified");let v=xt(g,0),D=Ar(g),B=xt(p,1),I=Ar(p),W,H=w(_e=>{W=_e});uu(this,H,B,I,v,D),fu(this,S),S.start!==void 0?W(S.start(this._transformStreamController)):W(void 0)}get readable(){if(!xi(this))throw Vi("readable");return this._readable}get writable(){if(!xi(this))throw Vi("writable");return this._writable}}Object.defineProperties(jr.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(jr.prototype,t.toStringTag,{value:"TransformStream",configurable:!0});function uu(e,o,s,c,p,g){function S(){return o}function v(H){return pu(e,H)}function D(H){return mu(e,H)}function B(){return bu(e)}e._writable=gl(S,v,B,D,s,c);function I(){return yu(e)}function W(H){return $r(e,H),y(void 0)}e._readable=jn(S,I,W,p,g),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,zr(e,!0),e._transformStreamController=void 0}function xi(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")?!1:e instanceof jr}function xr(e,o){Me(e._readable._readableStreamController,o),$r(e,o)}function $r(e,o){$i(e._transformStreamController),Bn(e._writable._writableStreamController,o),e._backpressure&&zr(e,!1)}function zr(e,o){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=w(s=>{e._backpressureChangePromise_resolve=s}),e._backpressure=o}class Qt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Hr(this))throw Vr("desiredSize");let o=this._controlledTransformStream._readable._readableStreamController;return Un(o)}enqueue(o=void 0){if(!Hr(this))throw Vr("enqueue");zi(this,o)}error(o=void 0){if(!Hr(this))throw Vr("error");du(this,o)}terminate(){if(!Hr(this))throw Vr("terminate");hu(this)}}Object.defineProperties(Qt.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(Qt.prototype,t.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function Hr(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")?!1:e instanceof Qt}function cu(e,o,s,c){o._controlledTransformStream=e,e._transformStreamController=o,o._transformAlgorithm=s,o._flushAlgorithm=c}function fu(e,o){let s=Object.create(Qt.prototype),c=g=>{try{return zi(s,g),y(void 0)}catch(S){return b(S)}},p=()=>y(void 0);o.transform!==void 0&&(c=g=>o.transform(g,s)),o.flush!==void 0&&(p=()=>o.flush(s)),cu(e,s,c,p)}function $i(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function zi(e,o){let s=e._controlledTransformStream,c=s._readable._readableStreamController;if(!Et(c))throw new TypeError("Readable side is not in a state that permits enqueue");try{qr(c,o)}catch(g){throw $r(s,g),s._readable._storedError}zl(c)!==s._backpressure&&zr(s,!0)}function du(e,o){xr(e._controlledTransformStream,o)}function Hi(e,o){let s=e._transformAlgorithm(o);return L(s,void 0,c=>{throw xr(e._controlledTransformStream,c),c})}function hu(e){let o=e._controlledTransformStream,s=o._readable._readableStreamController;Gt(s);let c=new TypeError("TransformStream terminated");$r(o,c)}function pu(e,o){let s=e._transformStreamController;if(e._backpressure){let c=e._backpressureChangePromise;return L(c,()=>{let p=e._writable;if(p._state==="erroring")throw p._storedError;return Hi(s,o)})}return Hi(s,o)}function mu(e,o){return xr(e,o),y(void 0)}function bu(e){let o=e._readable,s=e._transformStreamController,c=s._flushAlgorithm();return $i(s),L(c,()=>{if(o._state==="errored")throw o._storedError;Gt(o._readableStreamController)},p=>{throw xr(e,p),o._storedError})}function yu(e){return zr(e,!1),e._backpressureChangePromise}function Vr(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function Vi(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}r.ByteLengthQueuingStrategy=Mr,r.CountQueuingStrategy=Ur,r.ReadableByteStreamController=yt,r.ReadableStream=Ue,r.ReadableStreamBYOBReader=jt,r.ReadableStreamBYOBRequest=Nt,r.ReadableStreamDefaultController=wt,r.ReadableStreamDefaultReader=It,r.TransformStream=jr,r.TransformStreamDefaultController=Qt,r.WritableStream=$t,r.WritableStreamDefaultController=St,r.WritableStreamDefaultWriter=zt,Object.defineProperty(r,"__esModule",{value:!0})})});var ca=Y(()=>{if(!globalThis.ReadableStream)try{let r=O("process"),{emitWarning:t}=r;try{r.emitWarning=()=>{},Object.assign(globalThis,O("stream/web")),r.emitWarning=t}catch(n){throw r.emitWarning=t,n}}catch{Object.assign(globalThis,ua())}try{let{Blob:r}=O("buffer");r&&!r.prototype.stream&&(r.prototype.stream=function(n){let i=0,a=this;return new ReadableStream({type:"bytes",async pull(l){let f=await a.slice(i,Math.min(a.size,i+65536)).arrayBuffer();i+=f.byteLength,l.enqueue(new Uint8Array(f)),i===a.size&&l.close()}})})}catch{}});async function*Gn(r,t=!0){for(let n of r)if("stream"in n)yield*n.stream();else if(ArrayBuffer.isView(n))if(t){let i=n.byteOffset,a=n.byteOffset+n.byteLength;for(;i!==a;){let l=Math.min(a-i,fa),u=n.buffer.slice(i,i+l);i+=u.byteLength,yield new Uint8Array(u)}}else yield n;else{let i=0,a=n;for(;i!==a.size;){let u=await a.slice(i,Math.min(a.size,i+fa)).arrayBuffer();i+=u.byteLength,yield new Uint8Array(u)}}}var Of,fa,Oe,Zt,Pt,Zr,Tt,da,Lu,Se,Xt=Jt(()=>{Of=se(ca(),1);fa=65536;da=(Tt=class{constructor(t=[],n={}){le(this,Oe,[]);le(this,Zt,"");le(this,Pt,0);le(this,Zr,"transparent");if(typeof t!="object"||t===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof t[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof n!="object"&&typeof n!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");n===null&&(n={});let i=new TextEncoder;for(let l of t){let u;ArrayBuffer.isView(l)?u=new Uint8Array(l.buffer.slice(l.byteOffset,l.byteOffset+l.byteLength)):l instanceof ArrayBuffer?u=new Uint8Array(l.slice(0)):l instanceof Tt?u=l:u=i.encode(`${l}`),te(this,Pt,N(this,Pt)+(ArrayBuffer.isView(u)?u.byteLength:u.size)),N(this,Oe).push(u)}te(this,Zr,`${n.endings===void 0?"transparent":n.endings}`);let a=n.type===void 0?"":String(n.type);te(this,Zt,/^[\x20-\x7E]*$/.test(a)?a:"")}get size(){return N(this,Pt)}get type(){return N(this,Zt)}async text(){let t=new TextDecoder,n="";for await(let i of Gn(N(this,Oe),!1))n+=t.decode(i,{stream:!0});return n+=t.decode(),n}async arrayBuffer(){let t=new Uint8Array(this.size),n=0;for await(let i of Gn(N(this,Oe),!1))t.set(i,n),n+=i.length;return t.buffer}stream(){let t=Gn(N(this,Oe),!0);return new globalThis.ReadableStream({type:"bytes",async pull(n){let i=await t.next();i.done?n.close():n.enqueue(i.value)},async cancel(){await t.return()}})}slice(t=0,n=this.size,i=""){let{size:a}=this,l=t<0?Math.max(a+t,0):Math.min(t,a),u=n<0?Math.max(a+n,0):Math.min(n,a),f=Math.max(u-l,0),d=N(this,Oe),h=[],_=0;for(let y of d){if(_>=f)break;let b=ArrayBuffer.isView(y)?y.byteLength:y.size;if(l&&b<=l)l-=b,u-=b;else{let m;ArrayBuffer.isView(y)?(m=y.subarray(l,Math.min(b,u)),_+=m.byteLength):(m=y.slice(l,Math.min(b,u)),_+=m.size),u-=b,h.push(m),l=0}}let w=new Tt([],{type:String(i).toLowerCase()});return te(w,Pt,f),te(w,Oe,h),w}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](t){return t&&typeof t=="object"&&typeof t.constructor=="function"&&(typeof t.stream=="function"||typeof t.arrayBuffer=="function")&&/^(Blob|File)$/.test(t[Symbol.toStringTag])}},Oe=new WeakMap,Zt=new WeakMap,Pt=new WeakMap,Zr=new WeakMap,Tt);Object.defineProperties(da.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});Lu=da,Se=Lu});var er,tr,ha,Bu,Iu,kt,Yn=Jt(()=>{Xt();Bu=(ha=class extends Se{constructor(n,i,a={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(n,a);le(this,er,0);le(this,tr,"");a===null&&(a={});let l=a.lastModified===void 0?Date.now():Number(a.lastModified);Number.isNaN(l)||te(this,er,l),te(this,tr,String(i))}get name(){return N(this,tr)}get lastModified(){return N(this,er)}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](n){return!!n&&n instanceof Se&&/^(File)$/.test(n[Symbol.toStringTag])}},er=new WeakMap,tr=new WeakMap,ha),Iu=Bu,kt=Iu});function ya(r,t=Se){var n=`${pa()}${pa()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),i=[],a=`--${n}\r
Content-Disposition: form-data; name="`;return r.forEach((l,u)=>typeof l=="string"?i.push(a+Qn(u)+`"\r
\r
${l.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):i.push(a+Qn(u)+`"; filename="${Qn(l.name,1)}"\r
Content-Type: ${l.type||"application/octet-stream"}\r
\r
`,l,`\r
`)),i.push(`--${n}--`),new t(i,{type:"multipart/form-data; boundary="+n})}var rr,Wu,qu,pa,Nu,ma,Qn,it,pe,ba,De,Xr=Jt(()=>{Xt();Yn();({toStringTag:rr,iterator:Wu,hasInstance:qu}=Symbol),pa=Math.random,Nu="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),ma=(r,t,n)=>(r+="",/^(Blob|File)$/.test(t&&t[rr])?[(n=n!==void 0?n+"":t[rr]=="File"?t.name:"blob",r),t.name!==n||t[rr]=="blob"?new kt([t],n,t):t]:[r,t+""]),Qn=(r,t)=>(t?r:r.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),it=(r,t,n)=>{if(t.length<n)throw new TypeError(`Failed to execute '${r}' on 'FormData': ${n} arguments required, but only ${t.length} present.`)},De=(ba=class{constructor(...t){le(this,pe,[]);if(t.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[rr](){return"FormData"}[Wu](){return this.entries()}static[qu](t){return t&&typeof t=="object"&&t[rr]==="FormData"&&!Nu.some(n=>typeof t[n]!="function")}append(...t){it("append",arguments,2),N(this,pe).push(ma(...t))}delete(t){it("delete",arguments,1),t+="",te(this,pe,N(this,pe).filter(([n])=>n!==t))}get(t){it("get",arguments,1),t+="";for(var n=N(this,pe),i=n.length,a=0;a<i;a++)if(n[a][0]===t)return n[a][1];return null}getAll(t,n){return it("getAll",arguments,1),n=[],t+="",N(this,pe).forEach(i=>i[0]===t&&n.push(i[1])),n}has(t){return it("has",arguments,1),t+="",N(this,pe).some(n=>n[0]===t)}forEach(t,n){it("forEach",arguments,1);for(var[i,a]of this)t.call(n,a,i,this)}set(...t){it("set",arguments,2);var n=[],i=!0;t=ma(...t),N(this,pe).forEach(a=>{a[0]===t[0]?i&&(i=!n.push(t)):n.push(a)}),i&&n.push(t),te(this,pe,n)}*entries(){yield*N(this,pe)}*keys(){for(var[t]of this)yield t}*values(){for(var[,t]of this)yield t}},pe=new WeakMap,ba)});var Ea=Y((Vf,wa)=>{if(!globalThis.DOMException)try{let{MessageChannel:r}=O("worker_threads"),t=new r().port1,n=new ArrayBuffer;t.postMessage(n,[n,n])}catch(r){r.constructor.name==="DOMException"&&(globalThis.DOMException=r.constructor)}wa.exports=globalThis.DOMException});var or,Ra,Mu,at,st,Kn,va,Zn=Jt(()=>{or=O("fs"),Ra=se(Ea(),1);Yn();Xt();({stat:Mu}=or.promises),Kn=class{constructor(t){le(this,at,void 0);le(this,st,void 0);te(this,at,t.path),te(this,st,t.start),this.size=t.size,this.lastModified=t.lastModified}slice(t,n){return new Kn({path:N(this,at),lastModified:this.lastModified,size:n-t,start:N(this,st)+t})}async*stream(){let{mtimeMs:t}=await Mu(N(this,at));if(t>this.lastModified)throw new Ra.default("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*(0,or.createReadStream)(N(this,at),{start:N(this,st),end:N(this,st)+this.size-1})}get[Symbol.toStringTag](){return"Blob"}},va=Kn;at=new WeakMap,st=new WeakMap});var Aa={};Yi(Aa,{toFormData:()=>Vu});function Hu(r){let t=r.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!t)return;let n=t[2]||t[3]||"",i=n.slice(n.lastIndexOf("\\")+1);return i=i.replace(/%22/g,'"'),i=i.replace(/&#(\d{4});/g,(a,l)=>String.fromCharCode(l)),i}async function Vu(r,t){if(!/multipart/i.test(t))throw new TypeError("Failed to fetch");let n=t.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!n)throw new TypeError("no or bad content-type header, no multipart boundary");let i=new Xn(n[1]||n[2]),a,l,u,f,d,h,_=[],w=new De,y=P=>{u+=E.decode(P,{stream:!0})},b=P=>{_.push(P)},m=()=>{let P=new kt(_,h,{type:d});w.append(f,P)},A=()=>{w.append(f,u)},E=new TextDecoder("utf-8");E.decode(),i.onPartBegin=function(){i.onPartData=y,i.onPartEnd=A,a="",l="",u="",f="",d="",h=null,_.length=0},i.onHeaderField=function(P){a+=E.decode(P,{stream:!0})},i.onHeaderValue=function(P){l+=E.decode(P,{stream:!0})},i.onHeaderEnd=function(){if(l+=E.decode(),a=a.toLowerCase(),a==="content-disposition"){let P=l.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);P&&(f=P[2]||P[3]||""),h=Hu(l),h&&(i.onPartData=b,i.onPartEnd=m)}else a==="content-type"&&(d=l);l="",a=""};for await(let P of r)i.write(P);return i.end(),w}var Re,j,Ca,ze,tn,rn,Uu,ir,ju,xu,$u,zu,lt,Xn,Pa=Jt(()=>{Zn();Xr();Re=0,j={START_BOUNDARY:Re++,HEADER_FIELD_START:Re++,HEADER_FIELD:Re++,HEADER_VALUE_START:Re++,HEADER_VALUE:Re++,HEADER_VALUE_ALMOST_DONE:Re++,HEADERS_ALMOST_DONE:Re++,PART_DATA_START:Re++,PART_DATA:Re++,END:Re++},Ca=1,ze={PART_BOUNDARY:Ca,LAST_BOUNDARY:Ca*=2},tn=10,rn=13,Uu=32,ir=45,ju=58,xu=97,$u=122,zu=r=>r|32,lt=()=>{},Xn=class{constructor(t){this.index=0,this.flags=0,this.onHeaderEnd=lt,this.onHeaderField=lt,this.onHeadersEnd=lt,this.onHeaderValue=lt,this.onPartBegin=lt,this.onPartData=lt,this.onPartEnd=lt,this.boundaryChars={},t=`\r
--`+t;let n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i),this.boundaryChars[n[i]]=!0;this.boundary=n,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=j.START_BOUNDARY}write(t){let n=0,i=t.length,a=this.index,{lookbehind:l,boundary:u,boundaryChars:f,index:d,state:h,flags:_}=this,w=this.boundary.length,y=w-1,b=t.length,m,A,E=R=>{this[R+"Mark"]=n},P=R=>{delete this[R+"Mark"]},L=(R,C,k,X)=>{(C===void 0||C!==k)&&this[R](X&&X.subarray(C,k))},$=(R,C)=>{let k=R+"Mark";k in this&&(C?(L(R,this[k],n,t),delete this[k]):(L(R,this[k],t.length,t),this[k]=0))};for(n=0;n<i;n++)switch(m=t[n],h){case j.START_BOUNDARY:if(d===u.length-2){if(m===ir)_|=ze.LAST_BOUNDARY;else if(m!==rn)return;d++;break}else if(d-1===u.length-2){if(_&ze.LAST_BOUNDARY&&m===ir)h=j.END,_=0;else if(!(_&ze.LAST_BOUNDARY)&&m===tn)d=0,L("onPartBegin"),h=j.HEADER_FIELD_START;else return;break}m!==u[d+2]&&(d=-2),m===u[d+2]&&d++;break;case j.HEADER_FIELD_START:h=j.HEADER_FIELD,E("onHeaderField"),d=0;case j.HEADER_FIELD:if(m===rn){P("onHeaderField"),h=j.HEADERS_ALMOST_DONE;break}if(d++,m===ir)break;if(m===ju){if(d===1)return;$("onHeaderField",!0),h=j.HEADER_VALUE_START;break}if(A=zu(m),A<xu||A>$u)return;break;case j.HEADER_VALUE_START:if(m===Uu)break;E("onHeaderValue"),h=j.HEADER_VALUE;case j.HEADER_VALUE:m===rn&&($("onHeaderValue",!0),L("onHeaderEnd"),h=j.HEADER_VALUE_ALMOST_DONE);break;case j.HEADER_VALUE_ALMOST_DONE:if(m!==tn)return;h=j.HEADER_FIELD_START;break;case j.HEADERS_ALMOST_DONE:if(m!==tn)return;L("onHeadersEnd"),h=j.PART_DATA_START;break;case j.PART_DATA_START:h=j.PART_DATA,E("onPartData");case j.PART_DATA:if(a=d,d===0){for(n+=y;n<b&&!(t[n]in f);)n+=w;n-=y,m=t[n]}if(d<u.length)u[d]===m?(d===0&&$("onPartData",!0),d++):d=0;else if(d===u.length)d++,m===rn?_|=ze.PART_BOUNDARY:m===ir?_|=ze.LAST_BOUNDARY:d=0;else if(d-1===u.length)if(_&ze.PART_BOUNDARY){if(d=0,m===tn){_&=~ze.PART_BOUNDARY,L("onPartEnd"),L("onPartBegin"),h=j.HEADER_FIELD_START;break}}else _&ze.LAST_BOUNDARY&&m===ir?(L("onPartEnd"),h=j.END,_=0):d=0;if(d>0)l[d-1]=m;else if(a>0){let R=new Uint8Array(l.buffer,l.byteOffset,l.byteLength);L("onPartData",0,a,R),a=0,E("onPartData"),n--}break;case j.END:break;default:throw new Error(`Unexpected state entered: ${h}`)}$("onHeaderField"),$("onHeaderValue"),$("onPartData"),this.index=d,this.state=h,this.flags=_}end(){if(this.state===j.HEADER_FIELD_START&&this.index===0||this.state===j.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==j.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}});var Ka=Y(oo=>{var ct=O("path"),Ve=process.platform==="win32",He=O("fs"),dc=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function hc(){var r;if(dc){var t=new Error;r=n}else r=i;return r;function n(a){a&&(t.message=a.message,a=t,i(a))}function i(a){if(a){if(process.throwDeprecation)throw a;if(!process.noDeprecation){var l="fs: missing callback "+(a.stack||a.message);process.traceDeprecation?console.trace(l):console.error(l)}}}}function pc(r){return typeof r=="function"?r:hc()}var Hd=ct.normalize;Ve?Ie=/(.*?)(?:[\/\\]+|$)/g:Ie=/(.*?)(?:[\/]+|$)/g;var Ie;Ve?cr=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:cr=/^[\/]*/;var cr;oo.realpathSync=function(t,n){if(t=ct.resolve(t),n&&Object.prototype.hasOwnProperty.call(n,t))return n[t];var i=t,a={},l={},u,f,d,h;_();function _(){var E=cr.exec(t);u=E[0].length,f=E[0],d=E[0],h="",Ve&&!l[d]&&(He.lstatSync(d),l[d]=!0)}for(;u<t.length;){Ie.lastIndex=u;var w=Ie.exec(t);if(h=f,f+=w[0],d=h+w[1],u=Ie.lastIndex,!(l[d]||n&&n[d]===d)){var y;if(n&&Object.prototype.hasOwnProperty.call(n,d))y=n[d];else{var b=He.lstatSync(d);if(!b.isSymbolicLink()){l[d]=!0,n&&(n[d]=d);continue}var m=null;if(!Ve){var A=b.dev.toString(32)+":"+b.ino.toString(32);a.hasOwnProperty(A)&&(m=a[A])}m===null&&(He.statSync(d),m=He.readlinkSync(d)),y=ct.resolve(h,m),n&&(n[d]=y),Ve||(a[A]=m)}t=ct.resolve(y,t.slice(u)),_()}}return n&&(n[i]=t),t};oo.realpath=function(t,n,i){if(typeof i!="function"&&(i=pc(n),n=null),t=ct.resolve(t),n&&Object.prototype.hasOwnProperty.call(n,t))return process.nextTick(i.bind(null,null,n[t]));var a=t,l={},u={},f,d,h,_;w();function w(){var E=cr.exec(t);f=E[0].length,d=E[0],h=E[0],_="",Ve&&!u[h]?He.lstat(h,function(P){if(P)return i(P);u[h]=!0,y()}):process.nextTick(y)}function y(){if(f>=t.length)return n&&(n[a]=t),i(null,t);Ie.lastIndex=f;var E=Ie.exec(t);return _=d,d+=E[0],h=_+E[1],f=Ie.lastIndex,u[h]||n&&n[h]===h?process.nextTick(y):n&&Object.prototype.hasOwnProperty.call(n,h)?A(n[h]):He.lstat(h,b)}function b(E,P){if(E)return i(E);if(!P.isSymbolicLink())return u[h]=!0,n&&(n[h]=h),process.nextTick(y);if(!Ve){var L=P.dev.toString(32)+":"+P.ino.toString(32);if(l.hasOwnProperty(L))return m(null,l[L],h)}He.stat(h,function($){if($)return i($);He.readlink(h,function(R,C){Ve||(l[L]=C),m(R,C)})})}function m(E,P,L){if(E)return i(E);var $=ct.resolve(_,P);n&&(n[L]=$),A($)}function A(E){t=ct.resolve(E,t.slice(f)),w()}}});var lo=Y((Gd,ts)=>{ts.exports=Ge;Ge.realpath=Ge;Ge.sync=so;Ge.realpathSync=so;Ge.monkeypatch=bc;Ge.unmonkeypatch=yc;var Ft=O("fs"),io=Ft.realpath,ao=Ft.realpathSync,mc=process.version,Za=/^v[0-5]\./.test(mc),Xa=Ka();function es(r){return r&&r.syscall==="realpath"&&(r.code==="ELOOP"||r.code==="ENOMEM"||r.code==="ENAMETOOLONG")}function Ge(r,t,n){if(Za)return io(r,t,n);typeof t=="function"&&(n=t,t=null),io(r,t,function(i,a){es(i)?Xa.realpath(r,t,n):n(i,a)})}function so(r,t){if(Za)return ao(r,t);try{return ao(r,t)}catch(n){if(es(n))return Xa.realpathSync(r,t);throw n}}function bc(){Ft.realpath=Ge,Ft.realpathSync=so}function yc(){Ft.realpath=io,Ft.realpathSync=ao}});var ns=Y((Yd,rs)=>{var gc=typeof process=="object"&&process&&process.platform==="win32";rs.exports=gc?{sep:"\\"}:{sep:"/"}});var ls=Y((Qd,ss)=>{"use strict";ss.exports=is;function is(r,t,n){r instanceof RegExp&&(r=os(r,n)),t instanceof RegExp&&(t=os(t,n));var i=as(r,t,n);return i&&{start:i[0],end:i[1],pre:n.slice(0,i[0]),body:n.slice(i[0]+r.length,i[1]),post:n.slice(i[1]+t.length)}}function os(r,t){var n=t.match(r);return n?n[0]:null}is.range=as;function as(r,t,n){var i,a,l,u,f,d=n.indexOf(r),h=n.indexOf(t,d+1),_=d;if(d>=0&&h>0){if(r===t)return[d,h];for(i=[],l=n.length;_>=0&&!f;)_==d?(i.push(_),d=n.indexOf(r,_+1)):i.length==1?f=[i.pop(),h]:(a=i.pop(),a<l&&(l=a,u=h),h=n.indexOf(t,_+1)),_=d<h&&d>=0?d:h;i.length&&(f=[l,u])}return f}});var bs=Y((Jd,ms)=>{var us=ls();ms.exports=wc;var cs="\0SLASH"+Math.random()+"\0",fs="\0OPEN"+Math.random()+"\0",co="\0CLOSE"+Math.random()+"\0",ds="\0COMMA"+Math.random()+"\0",hs="\0PERIOD"+Math.random()+"\0";function uo(r){return parseInt(r,10)==r?parseInt(r,10):r.charCodeAt(0)}function _c(r){return r.split("\\\\").join(cs).split("\\{").join(fs).split("\\}").join(co).split("\\,").join(ds).split("\\.").join(hs)}function Sc(r){return r.split(cs).join("\\").split(fs).join("{").split(co).join("}").split(ds).join(",").split(hs).join(".")}function ps(r){if(!r)return[""];var t=[],n=us("{","}",r);if(!n)return r.split(",");var i=n.pre,a=n.body,l=n.post,u=i.split(",");u[u.length-1]+="{"+a+"}";var f=ps(l);return l.length&&(u[u.length-1]+=f.shift(),u.push.apply(u,f)),t.push.apply(t,u),t}function wc(r){return r?(r.substr(0,2)==="{}"&&(r="\\{\\}"+r.substr(2)),fr(_c(r),!0).map(Sc)):[]}function Ec(r){return"{"+r+"}"}function vc(r){return/^-?0\d/.test(r)}function Rc(r,t){return r<=t}function Cc(r,t){return r>=t}function fr(r,t){var n=[],i=us("{","}",r);if(!i)return[r];var a=i.pre,l=i.post.length?fr(i.post,!1):[""];if(/\$$/.test(i.pre))for(var u=0;u<l.length;u++){var f=a+"{"+i.body+"}"+l[u];n.push(f)}else{var d=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),h=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),_=d||h,w=i.body.indexOf(",")>=0;if(!_&&!w)return i.post.match(/,.*\}/)?(r=i.pre+"{"+i.body+co+i.post,fr(r)):[r];var y;if(_)y=i.body.split(/\.\./);else if(y=ps(i.body),y.length===1&&(y=fr(y[0],!1).map(Ec),y.length===1))return l.map(function(Je){return i.pre+y[0]+Je});var b;if(_){var m=uo(y[0]),A=uo(y[1]),E=Math.max(y[0].length,y[1].length),P=y.length==3?Math.abs(uo(y[2])):1,L=Rc,$=A<m;$&&(P*=-1,L=Cc);var R=y.some(vc);b=[];for(var C=m;L(C,A);C+=P){var k;if(h)k=String.fromCharCode(C),k==="\\"&&(k="");else if(k=String(C),R){var X=E-k.length;if(X>0){var M=new Array(X+1).join("0");C<0?k="-"+M+k.slice(1):k=M+k}}b.push(k)}}else{b=[];for(var de=0;de<y.length;de++)b.push.apply(b,fr(y[de],!1))}for(var de=0;de<b.length;de++)for(var u=0;u<l.length;u++){var f=a+b[de]+l[u];(!t||_||f)&&n.push(f)}}return n}});var fn=Y((Zd,mo)=>{var fe=mo.exports=(r,t,n={})=>(cn(t),!n.nocomment&&t.charAt(0)==="#"?!1:new Lt(t,n).match(r));mo.exports=fe;var ho=ns();fe.sep=ho.sep;var Ee=Symbol("globstar **");fe.GLOBSTAR=Ee;var Ac=bs(),ys={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},po="[^/]",fo=po+"*?",Pc="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Tc="(?:(?!(?:\\/|^)\\.).)*?",Ss=r=>r.split("").reduce((t,n)=>(t[n]=!0,t),{}),gs=Ss("().*{}+?[]^$\\!"),kc=Ss("[.("),_s=/\/+/;fe.filter=(r,t={})=>(n,i,a)=>fe(n,r,t);var Ye=(r,t={})=>{let n={};return Object.keys(r).forEach(i=>n[i]=r[i]),Object.keys(t).forEach(i=>n[i]=t[i]),n};fe.defaults=r=>{if(!r||typeof r!="object"||!Object.keys(r).length)return fe;let t=fe,n=(i,a,l)=>t(i,a,Ye(r,l));return n.Minimatch=class extends t.Minimatch{constructor(a,l){super(a,Ye(r,l))}},n.Minimatch.defaults=i=>t.defaults(Ye(r,i)).Minimatch,n.filter=(i,a)=>t.filter(i,Ye(r,a)),n.defaults=i=>t.defaults(Ye(r,i)),n.makeRe=(i,a)=>t.makeRe(i,Ye(r,a)),n.braceExpand=(i,a)=>t.braceExpand(i,Ye(r,a)),n.match=(i,a,l)=>t.match(i,a,Ye(r,l)),n};fe.braceExpand=(r,t)=>ws(r,t);var ws=(r,t={})=>(cn(r),t.nobrace||!/\{(?:(?!\{).)*\}/.test(r)?[r]:Ac(r)),Oc=1024*64,cn=r=>{if(typeof r!="string")throw new TypeError("invalid pattern");if(r.length>Oc)throw new TypeError("pattern is too long")},un=Symbol("subparse");fe.makeRe=(r,t)=>new Lt(r,t||{}).makeRe();fe.match=(r,t,n={})=>{let i=new Lt(t,n);return r=r.filter(a=>i.match(a)),i.options.nonull&&!r.length&&r.push(t),r};var Dc=r=>r.replace(/\\(.)/g,"$1"),Fc=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Lt=class{constructor(t,n){cn(t),n||(n={}),this.options=n,this.set=[],this.pattern=t,this.windowsPathsNoEscape=!!n.windowsPathsNoEscape||n.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!n.partial,this.make()}debug(){}make(){let t=this.pattern,n=this.options;if(!n.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate();let i=this.globSet=this.braceExpand();n.debug&&(this.debug=(...a)=>console.error(...a)),this.debug(this.pattern,i),i=this.globParts=i.map(a=>a.split(_s)),this.debug(this.pattern,i),i=i.map((a,l,u)=>a.map(this.parse,this)),this.debug(this.pattern,i),i=i.filter(a=>a.indexOf(!1)===-1),this.debug(this.pattern,i),this.set=i}parseNegate(){if(this.options.nonegate)return;let t=this.pattern,n=!1,i=0;for(let a=0;a<t.length&&t.charAt(a)==="!";a++)n=!n,i++;i&&(this.pattern=t.substr(i)),this.negate=n}matchOne(t,n,i){var a=this.options;this.debug("matchOne",{this:this,file:t,pattern:n}),this.debug("matchOne",t.length,n.length);for(var l=0,u=0,f=t.length,d=n.length;l<f&&u<d;l++,u++){this.debug("matchOne loop");var h=n[u],_=t[l];if(this.debug(n,h,_),h===!1)return!1;if(h===Ee){this.debug("GLOBSTAR",[n,h,_]);var w=l,y=u+1;if(y===d){for(this.debug("** at the end");l<f;l++)if(t[l]==="."||t[l]===".."||!a.dot&&t[l].charAt(0)===".")return!1;return!0}for(;w<f;){var b=t[w];if(this.debug(`
globstar while`,t,w,n,y,b),this.matchOne(t.slice(w),n.slice(y),i))return this.debug("globstar found match!",w,f,b),!0;if(b==="."||b===".."||!a.dot&&b.charAt(0)==="."){this.debug("dot detected!",t,w,n,y);break}this.debug("globstar swallow a segment, and continue"),w++}return!!(i&&(this.debug(`
>>> no match, partial?`,t,w,n,y),w===f))}var m;if(typeof h=="string"?(m=_===h,this.debug("string match",h,_,m)):(m=_.match(h),this.debug("pattern match",h,_,m)),!m)return!1}if(l===f&&u===d)return!0;if(l===f)return i;if(u===d)return l===f-1&&t[l]==="";throw new Error("wtf?")}braceExpand(){return ws(this.pattern,this.options)}parse(t,n){cn(t);let i=this.options;if(t==="**")if(i.noglobstar)t="*";else return Ee;if(t==="")return"";let a="",l=!!i.nocase,u=!1,f=[],d=[],h,_=!1,w=-1,y=-1,b,m,A,E=t.charAt(0)==="."?"":i.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",P=()=>{if(h){switch(h){case"*":a+=fo,l=!0;break;case"?":a+=po,l=!0;break;default:a+="\\"+h;break}this.debug("clearStateChar %j %j",h,a),h=!1}};for(let R=0,C;R<t.length&&(C=t.charAt(R));R++){if(this.debug("%s	%s %s %j",t,R,a,C),u){if(C==="/")return!1;gs[C]&&(a+="\\"),a+=C,u=!1;continue}switch(C){case"/":return!1;case"\\":P(),u=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",t,R,a,C),_){this.debug("  in class"),C==="!"&&R===y+1&&(C="^"),a+=C;continue}this.debug("call clearStateChar %j",h),P(),h=C,i.noext&&P();continue;case"(":if(_){a+="(";continue}if(!h){a+="\\(";continue}f.push({type:h,start:R-1,reStart:a.length,open:ys[h].open,close:ys[h].close}),a+=h==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",h,a),h=!1;continue;case")":if(_||!f.length){a+="\\)";continue}P(),l=!0,m=f.pop(),a+=m.close,m.type==="!"&&d.push(m),m.reEnd=a.length;continue;case"|":if(_||!f.length){a+="\\|";continue}P(),a+="|";continue;case"[":if(P(),_){a+="\\"+C;continue}_=!0,y=R,w=a.length,a+=C;continue;case"]":if(R===y+1||!_){a+="\\"+C;continue}b=t.substring(y+1,R);try{RegExp("["+b+"]")}catch{A=this.parse(b,un),a=a.substr(0,w)+"\\["+A[0]+"\\]",l=l||A[1],_=!1;continue}l=!0,_=!1,a+=C;continue;default:P(),gs[C]&&!(C==="^"&&_)&&(a+="\\"),a+=C;break}}for(_&&(b=t.substr(y+1),A=this.parse(b,un),a=a.substr(0,w)+"\\["+A[0],l=l||A[1]),m=f.pop();m;m=f.pop()){let R;R=a.slice(m.reStart+m.open.length),this.debug("setting tail",a,m),R=R.replace(/((?:\\{2}){0,64})(\\?)\|/g,(k,X,M)=>(M||(M="\\"),X+X+M+"|")),this.debug(`tail=%j
   %s`,R,R,m,a);let C=m.type==="*"?fo:m.type==="?"?po:"\\"+m.type;l=!0,a=a.slice(0,m.reStart)+C+"\\("+R}P(),u&&(a+="\\\\");let L=kc[a.charAt(0)];for(let R=d.length-1;R>-1;R--){let C=d[R],k=a.slice(0,C.reStart),X=a.slice(C.reStart,C.reEnd-8),M=a.slice(C.reEnd),de=a.slice(C.reEnd-8,C.reEnd)+M,Je=k.split("(").length-1,ie=M;for(let mt=0;mt<Je;mt++)ie=ie.replace(/\)[+*?]?/,"");M=ie;let We=M===""&&n!==un?"$":"";a=k+X+M+We+de}if(a!==""&&l&&(a="(?=.)"+a),L&&(a=E+a),n===un)return[a,l];if(!l)return Dc(t);let $=i.nocase?"i":"";try{return Object.assign(new RegExp("^"+a+"$",$),{_glob:t,_src:a})}catch{return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let n=this.options,i=n.noglobstar?fo:n.dot?Pc:Tc,a=n.nocase?"i":"",l=t.map(u=>(u=u.map(f=>typeof f=="string"?Fc(f):f===Ee?Ee:f._src).reduce((f,d)=>(f[f.length-1]===Ee&&d===Ee||f.push(d),f),[]),u.forEach((f,d)=>{f!==Ee||u[d-1]===Ee||(d===0?u.length>1?u[d+1]="(?:\\/|"+i+"\\/)?"+u[d+1]:u[d]=i:d===u.length-1?u[d-1]+="(?:\\/|"+i+")?":(u[d-1]+="(?:\\/|\\/"+i+"\\/)"+u[d+1],u[d+1]=Ee))}),u.filter(f=>f!==Ee).join("/"))).join("|");l="^(?:"+l+")$",this.negate&&(l="^(?!"+l+").*$");try{this.regexp=new RegExp(l,a)}catch{this.regexp=!1}return this.regexp}match(t,n=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&n)return!0;let i=this.options;ho.sep!=="/"&&(t=t.split(ho.sep).join("/")),t=t.split(_s),this.debug(this.pattern,"split",t);let a=this.set;this.debug(this.pattern,"set",a);let l;for(let u=t.length-1;u>=0&&(l=t[u],!l);u--);for(let u=0;u<a.length;u++){let f=a[u],d=t;if(i.matchBase&&f.length===1&&(d=[l]),this.matchOne(d,f,n))return i.flipNegate?!0:!this.negate}return i.flipNegate?!1:this.negate}static defaults(t){return fe.defaults(t).Minimatch}};fe.Minimatch=Lt});var Es=Y((Xd,bo)=>{typeof Object.create=="function"?bo.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:bo.exports=function(t,n){if(n){t.super_=n;var i=function(){};i.prototype=n.prototype,t.prototype=new i,t.prototype.constructor=t}}});var vs=Y((eh,go)=>{try{if(yo=O("util"),typeof yo.inherits!="function")throw"";go.exports=yo.inherits}catch{go.exports=Es()}var yo});var So=Y(Qe=>{Qe.setopts=Nc;Qe.ownProp=Rs;Qe.makeAbs=dr;Qe.finish=Mc;Qe.mark=Uc;Qe.isIgnored=As;Qe.childrenIgnored=jc;function Rs(r,t){return Object.prototype.hasOwnProperty.call(r,t)}var Lc=O("fs"),ft=O("path"),Bc=fn(),Cs=O("path").isAbsolute,_o=Bc.Minimatch;function Ic(r,t){return r.localeCompare(t,"en")}function Wc(r,t){r.ignore=t.ignore||[],Array.isArray(r.ignore)||(r.ignore=[r.ignore]),r.ignore.length&&(r.ignore=r.ignore.map(qc))}function qc(r){var t=null;if(r.slice(-3)==="/**"){var n=r.replace(/(\/\*\*)+$/,"");t=new _o(n,{dot:!0})}return{matcher:new _o(r,{dot:!0}),gmatcher:t}}function Nc(r,t,n){if(n||(n={}),n.matchBase&&t.indexOf("/")===-1){if(n.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}r.silent=!!n.silent,r.pattern=t,r.strict=n.strict!==!1,r.realpath=!!n.realpath,r.realpathCache=n.realpathCache||Object.create(null),r.follow=!!n.follow,r.dot=!!n.dot,r.mark=!!n.mark,r.nodir=!!n.nodir,r.nodir&&(r.mark=!0),r.sync=!!n.sync,r.nounique=!!n.nounique,r.nonull=!!n.nonull,r.nosort=!!n.nosort,r.nocase=!!n.nocase,r.stat=!!n.stat,r.noprocess=!!n.noprocess,r.absolute=!!n.absolute,r.fs=n.fs||Lc,r.maxLength=n.maxLength||1/0,r.cache=n.cache||Object.create(null),r.statCache=n.statCache||Object.create(null),r.symlinks=n.symlinks||Object.create(null),Wc(r,n),r.changedCwd=!1;var i=process.cwd();Rs(n,"cwd")?(r.cwd=ft.resolve(n.cwd),r.changedCwd=r.cwd!==i):r.cwd=ft.resolve(i),r.root=n.root||ft.resolve(r.cwd,"/"),r.root=ft.resolve(r.root),r.cwdAbs=Cs(r.cwd)?r.cwd:dr(r,r.cwd),r.nomount=!!n.nomount,process.platform==="win32"&&(r.root=r.root.replace(/\\/g,"/"),r.cwd=r.cwd.replace(/\\/g,"/"),r.cwdAbs=r.cwdAbs.replace(/\\/g,"/")),n.nonegate=!0,n.nocomment=!0,n.allowWindowsEscape=!0,r.minimatch=new _o(t,n),r.options=r.minimatch.options}function Mc(r){for(var t=r.nounique,n=t?[]:Object.create(null),i=0,a=r.matches.length;i<a;i++){var l=r.matches[i];if(!l||Object.keys(l).length===0){if(r.nonull){var u=r.minimatch.globSet[i];t?n.push(u):n[u]=!0}}else{var f=Object.keys(l);t?n.push.apply(n,f):f.forEach(function(d){n[d]=!0})}}if(t||(n=Object.keys(n)),r.nosort||(n=n.sort(Ic)),r.mark){for(var i=0;i<n.length;i++)n[i]=r._mark(n[i]);r.nodir&&(n=n.filter(function(d){var h=!/\/$/.test(d),_=r.cache[d]||r.cache[dr(r,d)];return h&&_&&(h=_!=="DIR"&&!Array.isArray(_)),h}))}r.ignore.length&&(n=n.filter(function(d){return!As(r,d)})),r.found=n}function Uc(r,t){var n=dr(r,t),i=r.cache[n],a=t;if(i){var l=i==="DIR"||Array.isArray(i),u=t.slice(-1)==="/";if(l&&!u?a+="/":!l&&u&&(a=a.slice(0,-1)),a!==t){var f=dr(r,a);r.statCache[f]=r.statCache[n],r.cache[f]=r.cache[n]}}return a}function dr(r,t){var n=t;return t.charAt(0)==="/"?n=ft.join(r.root,t):Cs(t)||t===""?n=t:r.changedCwd?n=ft.resolve(r.cwd,t):n=ft.resolve(t),process.platform==="win32"&&(n=n.replace(/\\/g,"/")),n}function As(r,t){return r.ignore.length?r.ignore.some(function(n){return n.matcher.match(t)||!!(n.gmatcher&&n.gmatcher.match(t))}):!1}function jc(r,t){return r.ignore.length?r.ignore.some(function(n){return!!(n.gmatcher&&n.gmatcher.match(t))}):!1}});var Ds=Y((ih,Os)=>{Os.exports=ks;ks.GlobSync=V;var xc=lo(),Ps=fn(),rh=Ps.Minimatch,nh=vo().Glob,oh=O("util"),wo=O("path"),Ts=O("assert"),dn=O("path").isAbsolute,dt=So(),$c=dt.setopts,Eo=dt.ownProp,zc=dt.childrenIgnored,Hc=dt.isIgnored;function ks(r,t){if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new V(r,t).found}function V(r,t){if(!r)throw new Error("must provide pattern");if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof V))return new V(r,t);if($c(this,r,t),this.noprocess)return this;var n=this.minimatch.set.length;this.matches=new Array(n);for(var i=0;i<n;i++)this._process(this.minimatch.set[i],i,!1);this._finish()}V.prototype._finish=function(){if(Ts.ok(this instanceof V),this.realpath){var r=this;this.matches.forEach(function(t,n){var i=r.matches[n]=Object.create(null);for(var a in t)try{a=r._makeAbs(a);var l=xc.realpathSync(a,r.realpathCache);i[l]=!0}catch(u){if(u.syscall==="stat")i[r._makeAbs(a)]=!0;else throw u}})}dt.finish(this)};V.prototype._process=function(r,t,n){Ts.ok(this instanceof V);for(var i=0;typeof r[i]=="string";)i++;var a;switch(i){case r.length:this._processSimple(r.join("/"),t);return;case 0:a=null;break;default:a=r.slice(0,i).join("/");break}var l=r.slice(i),u;a===null?u=".":((dn(a)||dn(r.map(function(h){return typeof h=="string"?h:"[*]"}).join("/")))&&(!a||!dn(a))&&(a="/"+a),u=a);var f=this._makeAbs(u);if(!zc(this,u)){var d=l[0]===Ps.GLOBSTAR;d?this._processGlobStar(a,u,f,l,t,n):this._processReaddir(a,u,f,l,t,n)}};V.prototype._processReaddir=function(r,t,n,i,a,l){var u=this._readdir(n,l);if(!!u){for(var f=i[0],d=!!this.minimatch.negate,h=f._glob,_=this.dot||h.charAt(0)===".",w=[],y=0;y<u.length;y++){var b=u[y];if(b.charAt(0)!=="."||_){var m;d&&!r?m=!b.match(f):m=b.match(f),m&&w.push(b)}}var A=w.length;if(A!==0){if(i.length===1&&!this.mark&&!this.stat){this.matches[a]||(this.matches[a]=Object.create(null));for(var y=0;y<A;y++){var b=w[y];r&&(r.slice(-1)!=="/"?b=r+"/"+b:b=r+b),b.charAt(0)==="/"&&!this.nomount&&(b=wo.join(this.root,b)),this._emitMatch(a,b)}return}i.shift();for(var y=0;y<A;y++){var b=w[y],E;r?E=[r,b]:E=[b],this._process(E.concat(i),a,l)}}}};V.prototype._emitMatch=function(r,t){if(!Hc(this,t)){var n=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[r][t]){if(this.nodir){var i=this.cache[n];if(i==="DIR"||Array.isArray(i))return}this.matches[r][t]=!0,this.stat&&this._stat(t)}}};V.prototype._readdirInGlobStar=function(r){if(this.follow)return this._readdir(r,!1);var t,n,i;try{n=this.fs.lstatSync(r)}catch(l){if(l.code==="ENOENT")return null}var a=n&&n.isSymbolicLink();return this.symlinks[r]=a,!a&&n&&!n.isDirectory()?this.cache[r]="FILE":t=this._readdir(r,!1),t};V.prototype._readdir=function(r,t){var n;if(t&&!Eo(this.symlinks,r))return this._readdirInGlobStar(r);if(Eo(this.cache,r)){var i=this.cache[r];if(!i||i==="FILE")return null;if(Array.isArray(i))return i}try{return this._readdirEntries(r,this.fs.readdirSync(r))}catch(a){return this._readdirError(r,a),null}};V.prototype._readdirEntries=function(r,t){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var i=t[n];r==="/"?i=r+i:i=r+"/"+i,this.cache[i]=!0}return this.cache[r]=t,t};V.prototype._readdirError=function(r,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(r);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);throw i.path=this.cwd,i.code=t.code,i}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(r)]=!1;break;default:if(this.cache[this._makeAbs(r)]=!1,this.strict)throw t;this.silent||console.error("glob error",t);break}};V.prototype._processGlobStar=function(r,t,n,i,a,l){var u=this._readdir(n,l);if(!!u){var f=i.slice(1),d=r?[r]:[],h=d.concat(f);this._process(h,a,!1);var _=u.length,w=this.symlinks[n];if(!(w&&l))for(var y=0;y<_;y++){var b=u[y];if(!(b.charAt(0)==="."&&!this.dot)){var m=d.concat(u[y],f);this._process(m,a,!0);var A=d.concat(u[y],i);this._process(A,a,!0)}}}};V.prototype._processSimple=function(r,t){var n=this._stat(r);if(this.matches[t]||(this.matches[t]=Object.create(null)),!!n){if(r&&dn(r)&&!this.nomount){var i=/[\/\\]$/.test(r);r.charAt(0)==="/"?r=wo.join(this.root,r):(r=wo.resolve(this.root,r),i&&(r+="/"))}process.platform==="win32"&&(r=r.replace(/\\/g,"/")),this._emitMatch(t,r)}};V.prototype._stat=function(r){var t=this._makeAbs(r),n=r.slice(-1)==="/";if(r.length>this.maxLength)return!1;if(!this.stat&&Eo(this.cache,t)){var u=this.cache[t];if(Array.isArray(u)&&(u="DIR"),!n||u==="DIR")return u;if(n&&u==="FILE")return!1}var i,a=this.statCache[t];if(!a){var l;try{l=this.fs.lstatSync(t)}catch(f){if(f&&(f.code==="ENOENT"||f.code==="ENOTDIR"))return this.statCache[t]=!1,!1}if(l&&l.isSymbolicLink())try{a=this.fs.statSync(t)}catch{a=l}else a=l}this.statCache[t]=a;var u=!0;return a&&(u=a.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||u,n&&u==="FILE"?!1:u};V.prototype._mark=function(r){return dt.mark(this,r)};V.prototype._makeAbs=function(r){return dt.makeAbs(this,r)}});var Ro=Y((ah,Ls)=>{Ls.exports=Fs;function Fs(r,t){if(r&&t)return Fs(r)(t);if(typeof r!="function")throw new TypeError("need wrapper function");return Object.keys(r).forEach(function(i){n[i]=r[i]}),n;function n(){for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];var l=r.apply(this,i),u=i[i.length-1];return typeof l=="function"&&l!==u&&Object.keys(u).forEach(function(f){l[f]=u[f]}),l}}});var Ao=Y((sh,Co)=>{var Bs=Ro();Co.exports=Bs(hn);Co.exports.strict=Bs(Is);hn.proto=hn(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return hn(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Is(this)},configurable:!0})});function hn(r){var t=function(){return t.called?t.value:(t.called=!0,t.value=r.apply(this,arguments))};return t.called=!1,t}function Is(r){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=r.apply(this,arguments)},n=r.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}});var qs=Y((lh,Ws)=>{var Vc=Ro(),hr=Object.create(null),Gc=Ao();Ws.exports=Vc(Yc);function Yc(r,t){return hr[r]?(hr[r].push(t),null):(hr[r]=[t],Qc(r))}function Qc(r){return Gc(function t(){var n=hr[r],i=n.length,a=Jc(arguments);try{for(var l=0;l<i;l++)n[l].apply(null,a)}finally{n.length>i?(n.splice(0,i),process.nextTick(function(){t.apply(null,a)})):delete hr[r]}})}function Jc(r){for(var t=r.length,n=[],i=0;i<t;i++)n[i]=r[i];return n}});var vo=Y((fh,Ms)=>{Ms.exports=ht;var Kc=lo(),Ns=fn(),uh=Ns.Minimatch,Zc=vs(),Xc=O("events").EventEmitter,Po=O("path"),To=O("assert"),pr=O("path").isAbsolute,Oo=Ds(),pt=So(),ef=pt.setopts,ko=pt.ownProp,Do=qs(),ch=O("util"),tf=pt.childrenIgnored,rf=pt.isIgnored,nf=Ao();function ht(r,t,n){if(typeof t=="function"&&(n=t,t={}),t||(t={}),t.sync){if(n)throw new TypeError("callback provided to sync glob");return Oo(r,t)}return new q(r,t,n)}ht.sync=Oo;var of=ht.GlobSync=Oo.GlobSync;ht.glob=ht;function af(r,t){if(t===null||typeof t!="object")return r;for(var n=Object.keys(t),i=n.length;i--;)r[n[i]]=t[n[i]];return r}ht.hasMagic=function(r,t){var n=af({},t);n.noprocess=!0;var i=new q(r,n),a=i.minimatch.set;if(!r)return!1;if(a.length>1)return!0;for(var l=0;l<a[0].length;l++)if(typeof a[0][l]!="string")return!0;return!1};ht.Glob=q;Zc(q,Xc);function q(r,t,n){if(typeof t=="function"&&(n=t,t=null),t&&t.sync){if(n)throw new TypeError("callback provided to sync glob");return new of(r,t)}if(!(this instanceof q))return new q(r,t,n);ef(this,r,t),this._didRealPath=!1;var i=this.minimatch.set.length;this.matches=new Array(i),typeof n=="function"&&(n=nf(n),this.on("error",n),this.on("end",function(d){n(null,d)}));var a=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(i===0)return f();for(var l=!0,u=0;u<i;u++)this._process(this.minimatch.set[u],u,!1,f);l=!1;function f(){--a._processing,a._processing<=0&&(l?process.nextTick(function(){a._finish()}):a._finish())}}q.prototype._finish=function(){if(To(this instanceof q),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();pt.finish(this),this.emit("end",this.found)}};q.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var r=this.matches.length;if(r===0)return this._finish();for(var t=this,n=0;n<this.matches.length;n++)this._realpathSet(n,i);function i(){--r===0&&t._finish()}};q.prototype._realpathSet=function(r,t){var n=this.matches[r];if(!n)return t();var i=Object.keys(n),a=this,l=i.length;if(l===0)return t();var u=this.matches[r]=Object.create(null);i.forEach(function(f,d){f=a._makeAbs(f),Kc.realpath(f,a.realpathCache,function(h,_){h?h.syscall==="stat"?u[f]=!0:a.emit("error",h):u[_]=!0,--l===0&&(a.matches[r]=u,t())})})};q.prototype._mark=function(r){return pt.mark(this,r)};q.prototype._makeAbs=function(r){return pt.makeAbs(this,r)};q.prototype.abort=function(){this.aborted=!0,this.emit("abort")};q.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};q.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var r=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<r.length;t++){var n=r[t];this._emitMatch(n[0],n[1])}}if(this._processQueue.length){var i=this._processQueue.slice(0);this._processQueue.length=0;for(var t=0;t<i.length;t++){var a=i[t];this._processing--,this._process(a[0],a[1],a[2],a[3])}}}};q.prototype._process=function(r,t,n,i){if(To(this instanceof q),To(typeof i=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([r,t,n,i]);return}for(var a=0;typeof r[a]=="string";)a++;var l;switch(a){case r.length:this._processSimple(r.join("/"),t,i);return;case 0:l=null;break;default:l=r.slice(0,a).join("/");break}var u=r.slice(a),f;l===null?f=".":((pr(l)||pr(r.map(function(_){return typeof _=="string"?_:"[*]"}).join("/")))&&(!l||!pr(l))&&(l="/"+l),f=l);var d=this._makeAbs(f);if(tf(this,f))return i();var h=u[0]===Ns.GLOBSTAR;h?this._processGlobStar(l,f,d,u,t,n,i):this._processReaddir(l,f,d,u,t,n,i)}};q.prototype._processReaddir=function(r,t,n,i,a,l,u){var f=this;this._readdir(n,l,function(d,h){return f._processReaddir2(r,t,n,i,a,l,h,u)})};q.prototype._processReaddir2=function(r,t,n,i,a,l,u,f){if(!u)return f();for(var d=i[0],h=!!this.minimatch.negate,_=d._glob,w=this.dot||_.charAt(0)===".",y=[],b=0;b<u.length;b++){var m=u[b];if(m.charAt(0)!=="."||w){var A;h&&!r?A=!m.match(d):A=m.match(d),A&&y.push(m)}}var E=y.length;if(E===0)return f();if(i.length===1&&!this.mark&&!this.stat){this.matches[a]||(this.matches[a]=Object.create(null));for(var b=0;b<E;b++){var m=y[b];r&&(r!=="/"?m=r+"/"+m:m=r+m),m.charAt(0)==="/"&&!this.nomount&&(m=Po.join(this.root,m)),this._emitMatch(a,m)}return f()}i.shift();for(var b=0;b<E;b++){var m=y[b],P;r&&(r!=="/"?m=r+"/"+m:m=r+m),this._process([m].concat(i),a,l,f)}f()};q.prototype._emitMatch=function(r,t){if(!this.aborted&&!rf(this,t)){if(this.paused){this._emitQueue.push([r,t]);return}var n=pr(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[r][t]){if(this.nodir){var i=this.cache[n];if(i==="DIR"||Array.isArray(i))return}this.matches[r][t]=!0;var a=this.statCache[n];a&&this.emit("stat",t,a),this.emit("match",t)}}};q.prototype._readdirInGlobStar=function(r,t){if(this.aborted)return;if(this.follow)return this._readdir(r,!1,t);var n="lstat\0"+r,i=this,a=Do(n,l);a&&i.fs.lstat(r,a);function l(u,f){if(u&&u.code==="ENOENT")return t();var d=f&&f.isSymbolicLink();i.symlinks[r]=d,!d&&f&&!f.isDirectory()?(i.cache[r]="FILE",t()):i._readdir(r,!1,t)}};q.prototype._readdir=function(r,t,n){if(!this.aborted&&(n=Do("readdir\0"+r+"\0"+t,n),!!n)){if(t&&!ko(this.symlinks,r))return this._readdirInGlobStar(r,n);if(ko(this.cache,r)){var i=this.cache[r];if(!i||i==="FILE")return n();if(Array.isArray(i))return n(null,i)}var a=this;a.fs.readdir(r,sf(this,r,n))}};function sf(r,t,n){return function(i,a){i?r._readdirError(t,i,n):r._readdirEntries(t,a,n)}}q.prototype._readdirEntries=function(r,t,n){if(!this.aborted){if(!this.mark&&!this.stat)for(var i=0;i<t.length;i++){var a=t[i];r==="/"?a=r+a:a=r+"/"+a,this.cache[a]=!0}return this.cache[r]=t,n(null,t)}};q.prototype._readdirError=function(r,t,n){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var i=this._makeAbs(r);if(this.cache[i]="FILE",i===this.cwdAbs){var a=new Error(t.code+" invalid cwd "+this.cwd);a.path=this.cwd,a.code=t.code,this.emit("error",a),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(r)]=!1;break;default:this.cache[this._makeAbs(r)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t);break}return n()}};q.prototype._processGlobStar=function(r,t,n,i,a,l,u){var f=this;this._readdir(n,l,function(d,h){f._processGlobStar2(r,t,n,i,a,l,h,u)})};q.prototype._processGlobStar2=function(r,t,n,i,a,l,u,f){if(!u)return f();var d=i.slice(1),h=r?[r]:[],_=h.concat(d);this._process(_,a,!1,f);var w=this.symlinks[n],y=u.length;if(w&&l)return f();for(var b=0;b<y;b++){var m=u[b];if(!(m.charAt(0)==="."&&!this.dot)){var A=h.concat(u[b],d);this._process(A,a,!0,f);var E=h.concat(u[b],i);this._process(E,a,!0,f)}}f()};q.prototype._processSimple=function(r,t,n){var i=this;this._stat(r,function(a,l){i._processSimple2(r,t,a,l,n)})};q.prototype._processSimple2=function(r,t,n,i,a){if(this.matches[t]||(this.matches[t]=Object.create(null)),!i)return a();if(r&&pr(r)&&!this.nomount){var l=/[\/\\]$/.test(r);r.charAt(0)==="/"?r=Po.join(this.root,r):(r=Po.resolve(this.root,r),l&&(r+="/"))}process.platform==="win32"&&(r=r.replace(/\\/g,"/")),this._emitMatch(t,r),a()};q.prototype._stat=function(r,t){var n=this._makeAbs(r),i=r.slice(-1)==="/";if(r.length>this.maxLength)return t();if(!this.stat&&ko(this.cache,n)){var a=this.cache[n];if(Array.isArray(a)&&(a="DIR"),!i||a==="DIR")return t(null,a);if(i&&a==="FILE")return t()}var l,u=this.statCache[n];if(u!==void 0){if(u===!1)return t(null,u);var f=u.isDirectory()?"DIR":"FILE";return i&&f==="FILE"?t():t(null,f,u)}var d=this,h=Do("stat\0"+n,_);h&&d.fs.lstat(n,h);function _(w,y){if(y&&y.isSymbolicLink())return d.fs.stat(n,function(b,m){b?d._stat2(r,n,null,y,t):d._stat2(r,n,b,m,t)});d._stat2(r,n,w,y,t)}};q.prototype._stat2=function(r,t,n,i,a){if(n&&(n.code==="ENOENT"||n.code==="ENOTDIR"))return this.statCache[t]=!1,a();var l=r.slice(-1)==="/";if(this.statCache[t]=i,t.slice(-1)==="/"&&i&&!i.isDirectory())return a(null,!1,i);var u=!0;return i&&(u=i.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||u,l&&u==="FILE"?a():a(null,u,i)}});var yf={};Yi(yf,{default:()=>bf});var Bt=O("@yarnpkg/core");var z=O("@yarnpkg/core"),nt=O("@yarnpkg/fslib"),x=".yarn-scripts-cache-rc.json";function Ru(r,t){if(typeof r!="object")return t.reportError(z.MessageName.UNNAMED,`${x} is not valid: config is not an object!`),!1;if(!Array.isArray(r.scriptsToCache))return t.reportError(z.MessageName.UNNAMED,`${x} is not valid: config.scriptsToCache is not an array!`),!1;if(r.scriptsToCache.find(n=>typeof n!="object")!==void 0)return t.reportError(z.MessageName.UNNAMED,`${x} is not valid: config.scriptsToCache should only contain objects!`),!1;if(r.scriptsToCache.find(n=>!Au(n,t))!==void 0)return!1;if(r.remoteCache){if(typeof r.remoteCache!="string")return t.reportError(z.MessageName.UNNAMED,`${x} is not valid: config.remoteCache should be a string!`),!1;if(!Cu(r.remoteCache))return t.reportError(z.MessageName.UNNAMED,`${x} is not valid: config.remoteCache should be a valid URLs!`),!1}return r.cacheUsage&&!zn(r.cacheUsage)?(t.reportError(z.MessageName.UNNAMED,`${x} is not valid: config.cacheUsage is not a valid value!`),!1):r.localCacheUsage&&!zn(r.localCacheUsage)?(t.reportError(z.MessageName.UNNAMED,`${x} is not valid: config.localCacheUsage is not a valid value!`),!1):r.remoteCacheUsage&&!zn(r.remoteCacheUsage)?(t.reportError(z.MessageName.UNNAMED,`${x} is not valid: config.remoteCacheUsage is not a valid value!`),!1):r.localCacheMaxAge!==void 0&&typeof r.localCacheMaxAge!="number"?(t.reportError(z.MessageName.UNNAMED,`${x} is not valid: config.localCacheMaxAge should be a number!`),!1):r.localCacheMaxAmount!==void 0&&typeof r.localCacheMaxAmount!="number"?(t.reportError(z.MessageName.UNNAMED,`${x} is not valid: config.localCacheMaxAmount should be a number!`),!1):!0}function zn(r){return r==="enabled"||r==="disabled"||r==="update-cache-only"||r==="update-script-execution-result-only"}function Cu(r){try{return new URL(r),!0}catch{return!1}}function Au(r,t){if(typeof r.scriptName!="string")return t.reportError(z.MessageName.UNNAMED,`${x} is not valid: config.scriptsToCache.scriptName is no string!`),!1;if(r.inputIncludes!==void 0&&typeof r.inputIncludes!="string"){if(!Array.isArray(r.inputIncludes))return t.reportError(z.MessageName.UNNAMED,`${x} is not valid: config.scriptsToCache.inputIncludes for ${r.scriptName} is not an array!`),!1;if(r.inputIncludes.find(n=>typeof n!="string")!==void 0)return t.reportError(z.MessageName.UNNAMED,`${x} is not valid: config.scriptsToCache.inputIncludes for ${r.scriptName} should only contain strings!`),!1}if(r.inputExcludes!==void 0&&typeof r.inputExcludes!="string"){if(!Array.isArray(r.inputExcludes))return t.reportError(z.MessageName.UNNAMED,`${x} is not valid: config.scriptsToCache.inputExcludes for ${r.scriptName} is not an array!`),!1;if(r.inputExcludes.find(n=>typeof n!="string")!==void 0)return t.reportError(z.MessageName.UNNAMED,`${x} is not valid: config.scriptsToCache.inputExcludes for ${r.scriptName} should only contain strings!`),!1}if(r.outputIncludes!==void 0&&typeof r.outputIncludes!="string"){if(!Array.isArray(r.outputIncludes))return t.reportError(z.MessageName.UNNAMED,`${x} is not valid: config.scriptsToCache.outputIncludes for ${r.scriptName} is not an array!`),!1;if(r.outputIncludes.find(n=>typeof n!="string")!==void 0)return t.reportError(z.MessageName.UNNAMED,`${x} is not valid: config.scriptsToCache.outputIncludes for ${r.scriptName} should only contain strings!`),!1}if(r.outputExcludes!==void 0&&typeof r.outputExcludes!="string"){if(!Array.isArray(r.outputExcludes))return t.reportError(z.MessageName.UNNAMED,`${x} is not valid: config.scriptsToCache.outputExcludes for ${r.scriptName} is not an array!`),!1;if(r.outputExcludes.find(n=>typeof n!="string")!==void 0)return t.reportError(z.MessageName.UNNAMED,`${x} is not valid: config.scriptsToCache.outputExcludes for ${r.scriptName} should only contain strings!`),!1}if(r.environmentVariableIncludes!==void 0&&typeof r.environmentVariableIncludes!="string"){if(!Array.isArray(r.environmentVariableIncludes))return t.reportError(z.MessageName.UNNAMED,`${x} is not valid: config.scriptsToCache.environmentVariableIncludes for ${r.scriptName} is not an array!`),!1;if(r.environmentVariableIncludes.find(n=>typeof n!="string")!==void 0)return t.reportError(z.MessageName.UNNAMED,`${x} is not valid: config.scriptsToCache.environmentVariableIncludes for ${r.scriptName} should only contain strings!`),!1}return!0}async function Qr(r,t){let n=nt.ppath.join(r,(0,nt.toFilename)(x));if(await nt.xfs.existsPromise(n)){let i=await nt.xfs.readFilePromise(n,"utf-8");try{let a=JSON.parse(i);if(Ru(a,t))return a}catch(a){t.reportErrorOnce(z.MessageName.EXCEPTION,`${x} is not valid:`),t.reportExceptionOnce(a)}}}var Q=O("@yarnpkg/fslib");var Kt="SCRIPT_RESULTS_CACHE",Ki=Kt+"_LOCAL",Zi=Kt+"_REMOTE",ot="disabled",Hn="update-cache-only",Vn="update-script-execution-result-only";function Xi(r){return(process.env[Kt]||r.cacheUsage)===ot}function ea(r){let t=process.env[Kt]||r.cacheUsage;return t!==ot&&t!==Vn}function ta(r){let t=process.env[Kt]||r.cacheUsage;return t!==ot&&t!==Hn}function ra(r){let t=process.env[Ki]||r.localCacheUsage;return t!==ot&&t!==Vn}function na(r){let t=process.env[Ki]||r.localCacheUsage;return t!==ot&&t!==Hn}function oa(r){let t=process.env[Zi]||r.remoteCacheUsage;return t!==ot&&t!==Vn}function ia(r){let t=process.env[Zi]||r.remoteCacheUsage;return t!==ot&&t!==Hn}var aa=se(O("crypto")),Pu=".yarn-scripts-cache",Tu=2592e6,ku=1e3,Jr=class{constructor(t,n){this.cwd=t,this.config=n}async saveCacheEntry(t){if(!ra(this.config))return;let n=this.buildCacheDir();await Q.xfs.mkdirPromise(n,{recursive:!0});let i=this.buildCacheFile(n,t.key),a=JSON.stringify(t);await Q.xfs.writeFilePromise(i,a),await this.cleanup()}async loadCacheEntry(t){if(!na(this.config))return;let n=this.buildCacheDir();if(!await Q.xfs.existsPromise(n))return;let i=this.buildCacheFile(n,t);if(await Q.xfs.existsPromise(i)){let a=await Q.xfs.readFilePromise(i,"utf8"),l=JSON.parse(a);if(Ou(t,l.key))return l}}async cleanup(){let t=typeof this.config.localCacheMaxAge>"u"?Tu:this.config.localCacheMaxAge,n=typeof this.config.localCacheMaxAmount>"u"?ku:this.config.localCacheMaxAmount,i=Date.now()-t,a=this.buildCacheDir(),u=(await Q.xfs.readdirPromise(a)).map(d=>Q.ppath.join(a,d)).map(Du);u.sort((d,h)=>h.creationDate-d.creationDate);let f=0;for(let d of u)d.creationDate<i?await Q.xfs.unlinkPromise(d.file):f+=1,f>n&&await Q.xfs.unlinkPromise(d.file)}buildCacheFile(t,n){let i=aa.default.createHash("sha512");return i.update(JSON.stringify(n)),Q.ppath.join(t,(0,Q.toFilename)(`${i.digest("base64url")}.json`))}buildCacheDir(){return Q.ppath.join(this.cwd,(0,Q.toFilename)(Pu))}};function Ou(r,t){return JSON.stringify(r)===JSON.stringify(t)}function Du(r){let t=Q.xfs.statSync(r);return{file:r,creationDate:t.mtime.getTime()}}var xa=se(O("http"),1),$a=se(O("https"),1),ut=se(O("zlib"),1),ce=se(O("stream"),1),lr=O("buffer");function Fu(r){if(!/^data:/i.test(r))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');r=r.replace(/\r?\n/g,"");let t=r.indexOf(",");if(t===-1||t<=4)throw new TypeError("malformed data: URI");let n=r.substring(5,t).split(";"),i="",a=!1,l=n[0]||"text/plain",u=l;for(let _=1;_<n.length;_++)n[_]==="base64"?a=!0:n[_]&&(u+=`;${n[_]}`,n[_].indexOf("charset=")===0&&(i=n[_].substring(8)));!n[0]&&!i.length&&(u+=";charset=US-ASCII",i="US-ASCII");let f=a?"base64":"ascii",d=unescape(r.substring(t+1)),h=Buffer.from(d,f);return h.type=l,h.typeFull=u,h.charset=i,h}var sa=Fu;var me=se(O("stream"),1),Le=O("util"),ue=O("buffer");Xt();Xr();var Fe=class extends Error{constructor(t,n){super(t),Error.captureStackTrace(this,this.constructor),this.type=n}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};var ne=class extends Fe{constructor(t,n,i){super(t,n),i&&(this.code=this.errno=i.code,this.erroredSysCall=i.syscall)}};var en=Symbol.toStringTag,Jn=r=>typeof r=="object"&&typeof r.append=="function"&&typeof r.delete=="function"&&typeof r.get=="function"&&typeof r.getAll=="function"&&typeof r.has=="function"&&typeof r.set=="function"&&typeof r.sort=="function"&&r[en]==="URLSearchParams",nr=r=>r&&typeof r=="object"&&typeof r.arrayBuffer=="function"&&typeof r.type=="string"&&typeof r.stream=="function"&&typeof r.constructor=="function"&&/^(Blob|File)$/.test(r[en]),ga=r=>typeof r=="object"&&(r[en]==="AbortSignal"||r[en]==="EventTarget"),_a=(r,t)=>{let n=new URL(t).hostname,i=new URL(r).hostname;return n===i||n.endsWith(`.${i}`)},Sa=(r,t)=>{let n=new URL(t).protocol,i=new URL(r).protocol;return n===i};var Gu=(0,Le.promisify)(me.default.pipeline),oe=Symbol("Body internals"),Ce=class{constructor(t,{size:n=0}={}){let i=null;t===null?t=null:Jn(t)?t=ue.Buffer.from(t.toString()):nr(t)||ue.Buffer.isBuffer(t)||(Le.types.isAnyArrayBuffer(t)?t=ue.Buffer.from(t):ArrayBuffer.isView(t)?t=ue.Buffer.from(t.buffer,t.byteOffset,t.byteLength):t instanceof me.default||(t instanceof De?(t=ya(t),i=t.type.split("=")[1]):t=ue.Buffer.from(String(t))));let a=t;ue.Buffer.isBuffer(t)?a=me.default.Readable.from(t):nr(t)&&(a=me.default.Readable.from(t.stream())),this[oe]={body:t,stream:a,boundary:i,disturbed:!1,error:null},this.size=n,t instanceof me.default&&t.on("error",l=>{let u=l instanceof Fe?l:new ne(`Invalid response body while trying to fetch ${this.url}: ${l.message}`,"system",l);this[oe].error=u})}get body(){return this[oe].stream}get bodyUsed(){return this[oe].disturbed}async arrayBuffer(){let{buffer:t,byteOffset:n,byteLength:i}=await eo(this);return t.slice(n,n+i)}async formData(){let t=this.headers.get("content-type");if(t.startsWith("application/x-www-form-urlencoded")){let i=new De,a=new URLSearchParams(await this.text());for(let[l,u]of a)i.append(l,u);return i}let{toFormData:n}=await Promise.resolve().then(()=>(Pa(),Aa));return n(this.body,t)}async blob(){let t=this.headers&&this.headers.get("content-type")||this[oe].body&&this[oe].body.type||"",n=await this.arrayBuffer();return new Se([n],{type:t})}async json(){let t=await this.text();return JSON.parse(t)}async text(){let t=await eo(this);return new TextDecoder().decode(t)}buffer(){return eo(this)}};Ce.prototype.buffer=(0,Le.deprecate)(Ce.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(Ce.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,Le.deprecate)(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function eo(r){if(r[oe].disturbed)throw new TypeError(`body used already for: ${r.url}`);if(r[oe].disturbed=!0,r[oe].error)throw r[oe].error;let{body:t}=r;if(t===null)return ue.Buffer.alloc(0);if(!(t instanceof me.default))return ue.Buffer.alloc(0);let n=[],i=0;try{for await(let a of t){if(r.size>0&&i+a.length>r.size){let l=new ne(`content size at ${r.url} over limit: ${r.size}`,"max-size");throw t.destroy(l),l}i+=a.length,n.push(a)}}catch(a){throw a instanceof Fe?a:new ne(`Invalid response body while trying to fetch ${r.url}: ${a.message}`,"system",a)}if(t.readableEnded===!0||t._readableState.ended===!0)try{return n.every(a=>typeof a=="string")?ue.Buffer.from(n.join("")):ue.Buffer.concat(n,i)}catch(a){throw new ne(`Could not create Buffer from response body for ${r.url}: ${a.message}`,"system",a)}else throw new ne(`Premature close of server response while trying to fetch ${r.url}`)}var Ot=(r,t)=>{let n,i,{body:a}=r[oe];if(r.bodyUsed)throw new Error("cannot clone body after it is used");return a instanceof me.default&&typeof a.getBoundary!="function"&&(n=new me.PassThrough({highWaterMark:t}),i=new me.PassThrough({highWaterMark:t}),a.pipe(n),a.pipe(i),r[oe].stream=n,a=i),a},Yu=(0,Le.deprecate)(r=>r.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),nn=(r,t)=>r===null?null:typeof r=="string"?"text/plain;charset=UTF-8":Jn(r)?"application/x-www-form-urlencoded;charset=UTF-8":nr(r)?r.type||null:ue.Buffer.isBuffer(r)||Le.types.isAnyArrayBuffer(r)||ArrayBuffer.isView(r)?null:r instanceof De?`multipart/form-data; boundary=${t[oe].boundary}`:r&&typeof r.getBoundary=="function"?`multipart/form-data;boundary=${Yu(r)}`:r instanceof me.default?null:"text/plain;charset=UTF-8",Ta=r=>{let{body:t}=r[oe];return t===null?0:nr(t)?t.size:ue.Buffer.isBuffer(t)?t.length:t&&typeof t.getLengthSync=="function"&&t.hasKnownLength&&t.hasKnownLength()?t.getLengthSync():null},ka=async(r,{body:t})=>{t===null?r.end():await Gu(t,r)};var to=O("util"),ar=se(O("http"),1),on=typeof ar.default.validateHeaderName=="function"?ar.default.validateHeaderName:r=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(r)){let t=new TypeError(`Header name must be a valid HTTP token [${r}]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),t}},ro=typeof ar.default.validateHeaderValue=="function"?ar.default.validateHeaderValue:(r,t)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(t)){let n=new TypeError(`Invalid character in header content ["${r}"]`);throw Object.defineProperty(n,"code",{value:"ERR_INVALID_CHAR"}),n}},J=class extends URLSearchParams{constructor(t){let n=[];if(t instanceof J){let i=t.raw();for(let[a,l]of Object.entries(i))n.push(...l.map(u=>[a,u]))}else if(t!=null)if(typeof t=="object"&&!to.types.isBoxedPrimitive(t)){let i=t[Symbol.iterator];if(i==null)n.push(...Object.entries(t));else{if(typeof i!="function")throw new TypeError("Header pairs must be iterable");n=[...t].map(a=>{if(typeof a!="object"||to.types.isBoxedPrimitive(a))throw new TypeError("Each header pair must be an iterable object");return[...a]}).map(a=>{if(a.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...a]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");return n=n.length>0?n.map(([i,a])=>(on(i),ro(i,String(a)),[String(i).toLowerCase(),String(a)])):void 0,super(n),new Proxy(this,{get(i,a,l){switch(a){case"append":case"set":return(u,f)=>(on(u),ro(u,String(f)),URLSearchParams.prototype[a].call(i,String(u).toLowerCase(),String(f)));case"delete":case"has":case"getAll":return u=>(on(u),URLSearchParams.prototype[a].call(i,String(u).toLowerCase()));case"keys":return()=>(i.sort(),new Set(URLSearchParams.prototype.keys.call(i)).keys());default:return Reflect.get(i,a,l)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(t){let n=this.getAll(t);if(n.length===0)return null;let i=n.join(", ");return/^content-encoding$/i.test(t)&&(i=i.toLowerCase()),i}forEach(t,n=void 0){for(let i of this.keys())Reflect.apply(t,n,[this.get(i),i,this])}*values(){for(let t of this.keys())yield this.get(t)}*entries(){for(let t of this.keys())yield[t,this.get(t)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((t,n)=>(t[n]=this.getAll(n),t),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((t,n)=>{let i=this.getAll(n);return n==="host"?t[n]=i[0]:t[n]=i.length>1?i:i[0],t},{})}};Object.defineProperties(J.prototype,["get","entries","forEach","values"].reduce((r,t)=>(r[t]={enumerable:!0},r),{}));function Oa(r=[]){return new J(r.reduce((t,n,i,a)=>(i%2===0&&t.push(a.slice(i,i+2)),t),[]).filter(([t,n])=>{try{return on(t),ro(t,String(n)),!0}catch{return!1}}))}var Qu=new Set([301,302,303,307,308]),an=r=>Qu.has(r);var we=Symbol("Response internals"),K=class extends Ce{constructor(t=null,n={}){super(t,n);let i=n.status!=null?n.status:200,a=new J(n.headers);if(t!==null&&!a.has("Content-Type")){let l=nn(t,this);l&&a.append("Content-Type",l)}this[we]={type:"default",url:n.url,status:i,statusText:n.statusText||"",headers:a,counter:n.counter,highWaterMark:n.highWaterMark}}get type(){return this[we].type}get url(){return this[we].url||""}get status(){return this[we].status}get ok(){return this[we].status>=200&&this[we].status<300}get redirected(){return this[we].counter>0}get statusText(){return this[we].statusText}get headers(){return this[we].headers}get highWaterMark(){return this[we].highWaterMark}clone(){return new K(Ot(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(t,n=302){if(!an(n))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new K(null,{headers:{location:new URL(t).toString()},status:n})}static error(){let t=new K(null,{status:0,statusText:""});return t[we].type="error",t}static json(t=void 0,n={}){let i=JSON.stringify(t);if(i===void 0)throw new TypeError("data is not JSON serializable");let a=new J(n&&n.headers);return a.has("content-type")||a.set("content-type","application/json"),new K(i,{...n,headers:a})}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(K.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var Ma=O("url"),Ua=O("util");var Da=r=>{if(r.search)return r.search;let t=r.href.length-1,n=r.hash||(r.href[t]==="#"?"#":"");return r.href[t-n.length]==="?"?"?":""};var La=O("net");function Fa(r,t=!1){return r==null||(r=new URL(r),/^(about|blob|data):$/.test(r.protocol))?"no-referrer":(r.username="",r.password="",r.hash="",t&&(r.pathname="",r.search=""),r)}var Ba=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),Ia="strict-origin-when-cross-origin";function Wa(r){if(!Ba.has(r))throw new TypeError(`Invalid referrerPolicy: ${r}`);return r}function Ju(r){if(/^(http|ws)s:$/.test(r.protocol))return!0;let t=r.host.replace(/(^\[)|(]$)/g,""),n=(0,La.isIP)(t);return n===4&&/^127\./.test(t)||n===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(t)?!0:r.host==="localhost"||r.host.endsWith(".localhost")?!1:r.protocol==="file:"}function Dt(r){return/^about:(blank|srcdoc)$/.test(r)||r.protocol==="data:"||/^(blob|filesystem):$/.test(r.protocol)?!0:Ju(r)}function qa(r,{referrerURLCallback:t,referrerOriginCallback:n}={}){if(r.referrer==="no-referrer"||r.referrerPolicy==="")return null;let i=r.referrerPolicy;if(r.referrer==="about:client")return"no-referrer";let a=r.referrer,l=Fa(a),u=Fa(a,!0);l.toString().length>4096&&(l=u),t&&(l=t(l)),n&&(u=n(u));let f=new URL(r.url);switch(i){case"no-referrer":return"no-referrer";case"origin":return u;case"unsafe-url":return l;case"strict-origin":return Dt(l)&&!Dt(f)?"no-referrer":u.toString();case"strict-origin-when-cross-origin":return l.origin===f.origin?l:Dt(l)&&!Dt(f)?"no-referrer":u;case"same-origin":return l.origin===f.origin?l:"no-referrer";case"origin-when-cross-origin":return l.origin===f.origin?l:u;case"no-referrer-when-downgrade":return Dt(l)&&!Dt(f)?"no-referrer":l;default:throw new TypeError(`Invalid referrerPolicy: ${i}`)}}function Na(r){let t=(r.get("referrer-policy")||"").split(/[,\s]+/),n="";for(let i of t)i&&Ba.has(i)&&(n=i);return n}var G=Symbol("Request internals"),sr=r=>typeof r=="object"&&typeof r[G]=="object",Ku=(0,Ua.deprecate)(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),Be=class extends Ce{constructor(t,n={}){let i;if(sr(t)?i=new URL(t.url):(i=new URL(t),t={}),i.username!==""||i.password!=="")throw new TypeError(`${i} is an url with embedded credentials.`);let a=n.method||t.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(a)&&(a=a.toUpperCase()),!sr(n)&&"data"in n&&Ku(),(n.body!=null||sr(t)&&t.body!==null)&&(a==="GET"||a==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let l=n.body?n.body:sr(t)&&t.body!==null?Ot(t):null;super(l,{size:n.size||t.size||0});let u=new J(n.headers||t.headers||{});if(l!==null&&!u.has("Content-Type")){let h=nn(l,this);h&&u.set("Content-Type",h)}let f=sr(t)?t.signal:null;if("signal"in n&&(f=n.signal),f!=null&&!ga(f))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let d=n.referrer==null?t.referrer:n.referrer;if(d==="")d="no-referrer";else if(d){let h=new URL(d);d=/^about:(\/\/)?client$/.test(h)?"client":h}else d=void 0;this[G]={method:a,redirect:n.redirect||t.redirect||"follow",headers:u,parsedURL:i,signal:f,referrer:d},this.follow=n.follow===void 0?t.follow===void 0?20:t.follow:n.follow,this.compress=n.compress===void 0?t.compress===void 0?!0:t.compress:n.compress,this.counter=n.counter||t.counter||0,this.agent=n.agent||t.agent,this.highWaterMark=n.highWaterMark||t.highWaterMark||16384,this.insecureHTTPParser=n.insecureHTTPParser||t.insecureHTTPParser||!1,this.referrerPolicy=n.referrerPolicy||t.referrerPolicy||""}get method(){return this[G].method}get url(){return(0,Ma.format)(this[G].parsedURL)}get headers(){return this[G].headers}get redirect(){return this[G].redirect}get signal(){return this[G].signal}get referrer(){if(this[G].referrer==="no-referrer")return"";if(this[G].referrer==="client")return"about:client";if(this[G].referrer)return this[G].referrer.toString()}get referrerPolicy(){return this[G].referrerPolicy}set referrerPolicy(t){this[G].referrerPolicy=Wa(t)}clone(){return new Be(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(Be.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var ja=r=>{let{parsedURL:t}=r[G],n=new J(r[G].headers);n.has("Accept")||n.set("Accept","*/*");let i=null;if(r.body===null&&/^(post|put)$/i.test(r.method)&&(i="0"),r.body!==null){let f=Ta(r);typeof f=="number"&&!Number.isNaN(f)&&(i=String(f))}i&&n.set("Content-Length",i),r.referrerPolicy===""&&(r.referrerPolicy=Ia),r.referrer&&r.referrer!=="no-referrer"?r[G].referrer=qa(r):r[G].referrer="no-referrer",r[G].referrer instanceof URL&&n.set("Referer",r.referrer),n.has("User-Agent")||n.set("User-Agent","node-fetch"),r.compress&&!n.has("Accept-Encoding")&&n.set("Accept-Encoding","gzip, deflate, br");let{agent:a}=r;typeof a=="function"&&(a=a(t)),!n.has("Connection")&&!a&&n.set("Connection","close");let l=Da(t),u={path:t.pathname+l,method:r.method,headers:n[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:r.insecureHTTPParser,agent:a};return{parsedURL:t,options:u}};var sn=class extends Fe{constructor(t,n="aborted"){super(t,n)}};Xr();Zn();var Zu=new Set(["data:","http:","https:"]);async function ur(r,t){return new Promise((n,i)=>{let a=new Be(r,t),{parsedURL:l,options:u}=ja(a);if(!Zu.has(l.protocol))throw new TypeError(`node-fetch cannot load ${r}. URL scheme "${l.protocol.replace(/:$/,"")}" is not supported.`);if(l.protocol==="data:"){let m=sa(a.url),A=new K(m,{headers:{"Content-Type":m.typeFull}});n(A);return}let f=(l.protocol==="https:"?$a.default:xa.default).request,{signal:d}=a,h=null,_=()=>{let m=new sn("The operation was aborted.");i(m),a.body&&a.body instanceof ce.default.Readable&&a.body.destroy(m),!(!h||!h.body)&&h.body.emit("error",m)};if(d&&d.aborted){_();return}let w=()=>{_(),b()},y=f(l.toString(),u);d&&d.addEventListener("abort",w);let b=()=>{y.abort(),d&&d.removeEventListener("abort",w)};y.on("error",m=>{i(new ne(`request to ${a.url} failed, reason: ${m.message}`,"system",m)),b()}),Xu(y,m=>{h&&h.body&&h.body.destroy(m)}),process.version<"v14"&&y.on("socket",m=>{let A;m.prependListener("end",()=>{A=m._eventsCount}),m.prependListener("close",E=>{if(h&&A<m._eventsCount&&!E){let P=new Error("Premature close");P.code="ERR_STREAM_PREMATURE_CLOSE",h.body.emit("error",P)}})}),y.on("response",m=>{y.setTimeout(0);let A=Oa(m.rawHeaders);if(an(m.statusCode)){let R=A.get("Location"),C=null;try{C=R===null?null:new URL(R,a.url)}catch{if(a.redirect!=="manual"){i(new ne(`uri requested responds with an invalid redirect URL: ${R}`,"invalid-redirect")),b();return}}switch(a.redirect){case"error":i(new ne(`uri requested responds with a redirect, redirect mode is set to error: ${a.url}`,"no-redirect")),b();return;case"manual":break;case"follow":{if(C===null)break;if(a.counter>=a.follow){i(new ne(`maximum redirect reached at: ${a.url}`,"max-redirect")),b();return}let k={headers:new J(a.headers),follow:a.follow,counter:a.counter+1,agent:a.agent,compress:a.compress,method:a.method,body:Ot(a),signal:a.signal,size:a.size,referrer:a.referrer,referrerPolicy:a.referrerPolicy};if(!_a(a.url,C)||!Sa(a.url,C))for(let M of["authorization","www-authenticate","cookie","cookie2"])k.headers.delete(M);if(m.statusCode!==303&&a.body&&t.body instanceof ce.default.Readable){i(new ne("Cannot follow redirect with body being a readable stream","unsupported-redirect")),b();return}(m.statusCode===303||(m.statusCode===301||m.statusCode===302)&&a.method==="POST")&&(k.method="GET",k.body=void 0,k.headers.delete("content-length"));let X=Na(A);X&&(k.referrerPolicy=X),n(ur(new Be(C,k))),b();return}default:return i(new TypeError(`Redirect option '${a.redirect}' is not a valid value of RequestRedirect`))}}d&&m.once("end",()=>{d.removeEventListener("abort",w)});let E=(0,ce.pipeline)(m,new ce.PassThrough,R=>{R&&i(R)});process.version<"v12.10"&&m.on("aborted",w);let P={url:a.url,status:m.statusCode,statusText:m.statusMessage,headers:A,size:a.size,counter:a.counter,highWaterMark:a.highWaterMark},L=A.get("Content-Encoding");if(!a.compress||a.method==="HEAD"||L===null||m.statusCode===204||m.statusCode===304){h=new K(E,P),n(h);return}let $={flush:ut.default.Z_SYNC_FLUSH,finishFlush:ut.default.Z_SYNC_FLUSH};if(L==="gzip"||L==="x-gzip"){E=(0,ce.pipeline)(E,ut.default.createGunzip($),R=>{R&&i(R)}),h=new K(E,P),n(h);return}if(L==="deflate"||L==="x-deflate"){let R=(0,ce.pipeline)(m,new ce.PassThrough,C=>{C&&i(C)});R.once("data",C=>{(C[0]&15)===8?E=(0,ce.pipeline)(E,ut.default.createInflate(),k=>{k&&i(k)}):E=(0,ce.pipeline)(E,ut.default.createInflateRaw(),k=>{k&&i(k)}),h=new K(E,P),n(h)}),R.once("end",()=>{h||(h=new K(E,P),n(h))});return}if(L==="br"){E=(0,ce.pipeline)(E,ut.default.createBrotliDecompress(),R=>{R&&i(R)}),h=new K(E,P),n(h);return}h=new K(E,P),n(h)}),ka(y,a).catch(i)})}function Xu(r,t){let n=lr.Buffer.from(`0\r
\r
`),i=!1,a=!1,l;r.on("response",u=>{let{headers:f}=u;i=f["transfer-encoding"]==="chunked"&&!f["content-length"]}),r.on("socket",u=>{let f=()=>{if(i&&!a){let h=new Error("Premature close");h.code="ERR_STREAM_PREMATURE_CLOSE",t(h)}},d=h=>{a=lr.Buffer.compare(h.slice(-5),n)===0,!a&&l&&(a=lr.Buffer.compare(l.slice(-3),n.slice(0,3))===0&&lr.Buffer.compare(h.slice(-2),n.slice(3))===0),l=h};u.prependListener("close",f),u.on("data",d),r.on("close",()=>{u.removeListener("close",f),u.removeListener("data",d)})})}var Ya=se(O("crypto")),no="http://localhost:8081",za="yarn-scripts-cache",ec="upload-user",tc="password123",Ha=3,rc="/repository",nc="/service/rest/v1/components",oc="repository",ic="raw.directory",ac="raw.asset1.filename",sc="raw.asset1",lc="Repository does not allow updating assets",ln=class{constructor(t,n){this.url=t,this.config=n}async saveCacheEntry(t){if(!oa(this.config))return;let n=Va(t.key);switch(await Ga(()=>uc(no,za,t.key.workspaceLocator,n,ec,tc,t),Ha,l=>l==="FAILED")){case"FAILED":console.warn("Failed to update cache!");break;case"NO_REDEPLOY":console.info("Cache already up-to-date.");break;case"SUCCESS":console.debug("Successfully updated cache.");break}}async loadCacheEntry(t){if(!ia(this.config))return;let n=Va(t),a=await Ga(()=>fc(no,za,t.workspaceLocator,n),Ha,l=>l==="FAILED");if(a!=="CACHE_MISS"){if(a==="FAILED"){console.warn("Failed to load cache entry.",t);return}if(!a.hasOwnProperty("key")||JSON.stringify(a.key)!==JSON.stringify(t)){console.error("Remote cache returned invalid cache entry.",{cacheEntryKey:t,cacheEntry:a});return}return a}}};function Va(r){let t=Ya.default.createHash("sha512");return t.update(JSON.stringify(r)),`${t.digest("base64url")}.json`}async function Ga(r,t,n){let i;for(let a=0;a<t;a++)if(a>0&&console.log(`Attempt ${a} failed, retrying...`),i=await r(),!n(i))return i;return console.log(`All ${t} retry attempts failed.`),i}async function uc(r,t,n,i,a,l,u){n=Qa(n);let f=`${no}${nc}?${oc}=${t}`,d=new J;d.append("Accept","application/json"),d.append("Authorization",`Basic ${Buffer.from(`${a}:${l}`).toString("base64")}`);let h=new De;h.append(ic,n),h.append(ac,i),h.append(sc,new Se([JSON.stringify(u)]));let _;try{_=await ur(f,{method:"POST",headers:d,body:h,redirect:"follow"})}catch(y){return console.warn("Error while uploading asset",{url:f,group:n,filename:i,error:y}),"FAILED"}let w=await cc(_);return _.status===400&&(w==null?void 0:w.includes(lc))?"NO_REDEPLOY":_.ok?(console.debug("Uploaded successfully",{url:f,group:n,filename:i,json:u}),"SUCCESS"):(console.warn("Failed to upload asset, non-200-ok-status received.",{url:f,group:n,filename:i,status:_.status,text:w}),"FAILED")}async function cc(r){try{return await r.text()}catch{return}}async function fc(r,t,n,i){n=Qa(n);let a=`${r}${rc}/${t}/${n}/${i}`,l;try{l=await ur(a)}catch(u){return console.warn("Error while downloading asset.",{url:a,error:u}),"FAILED"}if(l.status===404)return"CACHE_MISS";if(!l.ok)return console.warn("Failed to download asset, non-200-ok-status received.",{url:a,status:l.status}),"FAILED";try{return await l.json()}catch(u){return console.warn("Error while parsing asset",u),"FAILED"}}function Qa(r){return r.startsWith("/")?r:"/"+r}function Ja(r,t){let n=[new Jr(r,t)];return t.remoteCache&&n.push(new ln(new URL(t.remoteCache),t)),n}var Us=O("@yarnpkg/core"),Z=O("@yarnpkg/fslib"),js=se(O("crypto"));var Lo=se(vo()),xs=se(O("os"));async function $s(r,t,n,i,a,l){let u=await Hs(r,t,n,i,a);if(!u)return;let f=await ff(n.cwd,i),d={key:u,value:f};for(let h of l)await h.saveCacheEntry(d)}async function zs(r,t,n,i,a,l){let u=await Hs(r,t,n,i,a);if(!!u)for(let f of l){let d=await f.loadCacheEntry(u);if(d)return await df(n.cwd,d.value),d}}async function Hs(r,t,n,i,a){let l=n.script,u=n.args,f=r.lockFileChecksum,d=Fo(r.topLevelWorkspace.locator),h=Fo(t),_=await Vs(n.cwd,i.inputIncludes,i.inputExcludes),w=await uf(r,t,a),y=lf(n,i);if(!!w)return{script:l,args:u,lockFileChecksum:f,topLevelWorkspaceLocator:d,workspaceLocator:h,globFileHashes:_,dependencyWorkspacesGlobFileHashes:w,environmentVariables:y}}function lf(r,t){let n={};for(let i of mr(t.environmentVariableIncludes)){let a={},l=new RegExp(i);for(let[u,f]of Object.entries(r.env))l.test(u)&&(a[u]=f);n[i]=a}return n}async function uf(r,t,n){let i={},a=r.getWorkspaceByLocator(t);for(let l of a.getRecursiveWorkspaceDependencies()){let u=Fo(l.locator),f=await Qr(l.cwd,n);if(!f){n.reportError(Us.MessageName.UNNAMED,`Did not find a valid ${x} in workspace ${u}. All workspaces you depend on also need to be cachable!`);return}let d={};for(let h of f.scriptsToCache)d[h.scriptName]=await Vs(l.cwd,h.outputIncludes,h.outputExcludes);i[u]=d}return i}async function Vs(r,t,n){let i={};for(let a of mr(t)){let l=Z.npath.fromPortablePath(r),u=Lo.glob.sync(a,{cwd:l,ignore:mr(n)}),f={};for(let d of u){let h=Z.npath.toPortablePath(d),_=Z.ppath.resolve(r,h);(await Z.xfs.statPromise(_)).isFile()&&(f[h]=await cf(_))}i[a]=f}return i}async function cf(r){let t=js.default.createHash("sha512"),n=await Z.xfs.readFilePromise(r,"base64");return t.update(n),t.digest("base64")}async function ff(r,t){let n={};for(let l of mr(t.outputIncludes)){let u=Z.npath.fromPortablePath(r),f=Lo.glob.sync(l,{cwd:u,ignore:mr(t.outputExcludes)}),d={};for(let h of f){let _=Z.npath.toPortablePath(h),w=Z.ppath.resolve(r,_);(await Z.xfs.statPromise(w)).isFile()&&(d[_]=await Z.xfs.readFilePromise(w,"base64"))}n[l]=d}let i=Date.now(),a=xs.default.hostname();return{globFileContents:n,createdAt:i,createdBy:a}}async function df(r,t){for(let n of Object.values(t.globFileContents))for(let[i,a]of Object.entries(n)){let l=Z.ppath.join(r,i),u=Z.ppath.dirname(l);await Z.xfs.mkdirPromise(u,{recursive:!0}),await Z.xfs.writeFilePromise(l,a,{encoding:"base64"})}}function Fo(r){return r.scope?`${r.scope}/${r.name}@${r.reference}`:`${r.name}@${r.reference}`}function mr(r){return r===void 0?[]:typeof r=="string"?[r]:r}async function hf(r){let t=Bt.Configuration.create(r.cwd);return Bt.StreamReport.start({configuration:t,includeFooter:!1,stdout:r.stdout},async()=>{})}var pf=async(r,t,n,i,a)=>{let l=await hf(a),u=await Qr(a.cwd,l);if(!u||Xi(u))return r;let f=u.scriptsToCache.find(h=>h.scriptName===i);if(!f)return r;let d=Ja(a.cwd,u);return async()=>{if(ta(u)){let _=await zs(t,n,a,f,l,d);if(_){let w=new Date(_.value.createdAt).toUTCString(),y=_.value.createdBy;return l.reportInfo(Bt.MessageName.UNNAMED,`Script execution result was restored from cache! Created ${w} by ${y}`),Promise.resolve(0)}}let h=await r();return h===0&&ea(u)&&await l.startTimerPromise("Updating script execution result cache",async()=>{await $s(t,n,a,f,l,d)}),h}},mf={hooks:{wrapScriptExecution:pf}},bf=mf;return vu(yf);})();
/*! fetch-blob. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */
/*! formdata-polyfill. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */
/*! node-domexception. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */
return plugin;
}
};
